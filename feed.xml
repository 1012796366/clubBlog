<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Unorz</title>
    <description>Doubleplusorz...</description>
    <link>https://vjudge1.github.io/</link>
    <atom:link href="https://vjudge1.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 09 Feb 2016 08:46:09 +0800</pubDate>
    <lastBuildDate>Tue, 09 Feb 2016 08:46:09 +0800</lastBuildDate>
    <generator>Jekyll v3.1.1</generator>
    
      <item>
        <title>终端装13利器——zsh、powerline和tmux</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#zsh&quot; id=&quot;markdown-toc-zsh&quot;&gt;zsh&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#wd&quot; id=&quot;markdown-toc-wd&quot;&gt;wd&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#powerline&quot; id=&quot;markdown-toc-powerline&quot;&gt;Powerline&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tmux&quot; id=&quot;markdown-toc-tmux&quot;&gt;tmux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;天天用终端，怎么能不搞搞插件呢？&lt;/p&gt;

&lt;h1 id=&quot;zsh&quot;&gt;zsh&lt;/h1&gt;

&lt;p&gt;Linux和Mac默认的shell是bash。作为拿来主义者，不如换用zsh，因为——oh-my-zsh，一堆现成的主题和插件。&lt;/p&gt;

&lt;p&gt;首先需要安装zsh（Mac自带），然后通过&lt;code class=&quot;highlighter-rouge&quot;&gt;chsh&lt;/code&gt;命令切换默认shell：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chsh -s /bin/zsh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;接下来要安装oh-my-zsh。项目地址为：&lt;a href=&quot;https://github.com/robbyrussell/oh-my-zsh&quot;&gt;https://github.com/robbyrussell/oh-my-zsh&lt;/a&gt;，命令不多，按照里面的说明操作即可。&lt;/p&gt;

&lt;p&gt;zsh的补全比较智能，而oh-my-zsh以插件形式提供了更多补全，例如gem，可以在&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.oh-my-zsh/plugins&lt;/code&gt;中看看到底有哪些插件。&lt;/p&gt;

&lt;p&gt;在项目&lt;a href=&quot;https://github.com/robbyrussell/oh-my-zsh/wiki/themes&quot;&gt;wiki页面&lt;/a&gt;里面有主题的预览效果。部分高端大气上档次的主题需要安装Powerline字体。&lt;/p&gt;

&lt;h2 id=&quot;wd&quot;&gt;wd&lt;/h2&gt;

&lt;p&gt;wd是oh-my-zsh提供的一个插件，用于给路径加标签，快速切换路径。例如&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wd add a    （给当前路径加标签）
wd a        （快速切换路径）
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;如果成天cd那么几个固定路径，那么用wd会更方便。&lt;/p&gt;

&lt;h1 id=&quot;powerline&quot;&gt;Powerline&lt;/h1&gt;

&lt;p&gt;Powerline可以在shell、vim等软件中显示状态栏，例如下图的状态栏就是Powerline+tmux配合的效果：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/2618447/6316861/70f3c4ce-ba03-11e4-88a5-0b423dd5a2ce.png&quot; alt=&quot;powerline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Powerline的安装其实不难，不过因为我使用MacPorts，文档里有些地方写得不明白，结果试了半天才工作。&lt;/p&gt;

&lt;p&gt;首先需要安装&lt;a href=&quot;https://github.com/powerline/fonts&quot;&gt;Powerline专用字体&lt;/a&gt;，否则装完之后终端里面会出现一堆麻将牌。这些字体不用全部下载，挑个好看的就行。设置完之后设置成默认字体。&lt;/p&gt;

&lt;p&gt;然后&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install powerline-status
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;因为官方说明没讲清楚，所以接下来我没按官方说明操作——&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/powerline/powerline
cd powerline/powerline
python build.py
# 请把以下路径换成你自己的Python库
sudo mkdir /usr/lib/python2.7/site-packages/scripts
sudo cp ./build/* /usr/lib/python2.7/site-packages/scripts
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;打开&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.zshrc&lt;/code&gt;，加入&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;export TERM=xterm-256color
source /usr/lib/python2.7/site-packages/powerline/bindings/zsh/powerline.zsh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;并且把刚建立的scripts目录放入PATH中。&lt;/p&gt;

&lt;p&gt;如果这样还报”Bad file descriptor”的错，可以在加载Powerline支持之前，手动启动一下powerline-daemon：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;wc -l &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;ps ax | grep powerline-daemon&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; -lt 2 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;powerline-daemon-2.7
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;最后，遇到问题的话，可以到&lt;a href=&quot;https://powerline.readthedocs.org/en/latest/&quot;&gt;Powerline文档&lt;/a&gt;里面找找答案。对了，不要在Cygwin里试，除非你喜欢卡顿的感觉……&lt;/p&gt;

&lt;h1 id=&quot;tmux&quot;&gt;tmux&lt;/h1&gt;

&lt;p&gt;tmux是一个强大的终端分屏软件，本文就是利用它给终端加个状态栏。&lt;/p&gt;

&lt;p&gt;光安装tmux，终端底下是不会出现那个炫酷的状态栏的，所以我们要把Powerline也请来：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir ~/.config
cd ~/.config
git clone https://github.com/erikw/tmux-powerline
cp /usr/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf ~/.tmux.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.tmux.conf&lt;/code&gt;中，把powerline.sh的位置改成刚下载的路径（~/.config/tmux-powerline）中，输入tmux即可看到效果。记得把终端窗口拉长一点。&lt;/p&gt;

&lt;p&gt;如果对状态栏内容和样式不满意，可以自己改脚本配置一下。配置好之后，就可以把终端模拟器的默认启动程序从shell改成tmux了。不过tmux在需要滚屏的时候不太方便，所以，如果终端支持（例如我换用了iTerm），可以开启类似于“Save lines to scrollback …”功能，这样就可以继续通过滚屏看历史记录。&lt;/p&gt;
</description>
        <pubDate>Sat, 30 Jan 2016 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2016/01/30/zsh-and-powerline.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2016/01/30/zsh-and-powerline.html</guid>
        
        <category>插件</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Atom编辑器插件推荐</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;语言无关&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;必备插件&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;其他&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;按编程语言分&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#htmlcssjavascript&quot; id=&quot;markdown-toc-htmlcssjavascript&quot;&gt;HTML/CSS/JavaScript&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#html&quot; id=&quot;markdown-toc-html&quot;&gt;HTML&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#javascript&quot; id=&quot;markdown-toc-javascript&quot;&gt;JavaScript&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#nodejs&quot; id=&quot;markdown-toc-nodejs&quot;&gt;Node.js&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#typescript&quot; id=&quot;markdown-toc-typescript&quot;&gt;TypeScript&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#coffeescript&quot; id=&quot;markdown-toc-coffeescript&quot;&gt;CoffeeScript&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#python&quot; id=&quot;markdown-toc-python&quot;&gt;Python&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#php&quot; id=&quot;markdown-toc-php&quot;&gt;PHP&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ruby&quot; id=&quot;markdown-toc-ruby&quot;&gt;Ruby&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cc&quot; id=&quot;markdown-toc-cc&quot;&gt;C/C++&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#youcompleteme&quot; id=&quot;markdown-toc-youcompleteme&quot;&gt;YouCompleteMe&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#go&quot; id=&quot;markdown-toc-go&quot;&gt;Go&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#aspnet&quot; id=&quot;markdown-toc-aspnet&quot;&gt;ASP.NET&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Atom是由GitHub推出的文本编辑器，虽然比新一代的编辑器之神Sublime Text逊色一些，但毕竟不要钱也不弹窗（Sublime Text可以在不花钱的情况下无限期试用，只是偶尔会跳弹窗让你掏钱），就一直用了。&lt;/p&gt;

&lt;p&gt;即使用其他编辑器，有些内容也值得看一下，尤其是有&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;的——在别的编辑器中很可能有类似或同名（甚至同作者）的插件。&lt;/p&gt;

&lt;p&gt;暂时写这些。如果以后发现了哪个插件也不错，或者在生产时用上了，我会接着补充。（2016.1.25）&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;语言无关&lt;/h1&gt;

&lt;h2 id=&quot;section-1&quot;&gt;必备插件&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-fix-path&lt;/code&gt;：Atom编辑器在Mac系统中有个bug（不能正确获取PATH变量的值），可以通过这个插件修复。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;highlight-selected&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;minimap-highlight-selected&lt;/code&gt;：选中变量之后，文件中其他相同变量名均被高亮。&lt;/li&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;minimap&lt;/code&gt;：代码地图，必备插件。&lt;/li&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;script&lt;/code&gt;：必备插件——随手写了一段代码，然后轻轻一按&lt;kbd&gt;⌘I&lt;/kbd&gt;（&lt;kbd&gt;Ctrl+I&lt;/kbd&gt;），代码就执行了！支持多种脚本语言，还支持C语言等（仅限于Mac）。它还支持自定义运行参数，以及“运行到光标处”（仅限部分语言）。
    &lt;ul&gt;
      &lt;li&gt;目前该插件还不支持从stdin读入，所以不要用此插件运行需要输入的程序。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;terminal-plus&lt;/code&gt;：在编辑器底下会出现一个“＋”，点击之后，一个shell，很方便。&lt;/li&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vim-mode&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;ex-mode&lt;/code&gt;：谁才是“编辑器之神”？Vim！（因为Vim对于中文输入而言不太方便所以我没使用）&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-beauity&lt;/code&gt;：代码美化只在&lt;kbd&gt;⌃⌥B&lt;/kbd&gt;（&lt;kbd&gt;Ctrl+Alt+B&lt;/kbd&gt;）一瞬间。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-2&quot;&gt;其他&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;aligner&lt;/code&gt;：按下&lt;kbd&gt;⌃⌘/&lt;/kbd&gt;（&lt;kbd&gt;Ctrl+Alt+/&lt;/kbd&gt;），多行代码立马按等号对齐。对于SCSS、Python等语言还有对应插件，装完支持更多的对齐。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;build-tools&lt;/code&gt;：允许运行自定义工具（方便编译等）。编译和运行出现错误之后可以帮助定位。&lt;/li&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dash&lt;/code&gt;：如果电脑上装了Dash、Zeal或Velocity（查询函数用法的软件），只要按下&lt;kbd&gt;⌃H&lt;/kbd&gt;（&lt;kbd&gt;Ctrl+H&lt;/kbd&gt;），这个插件就会帮你直接在那些软件中查函数用法。如果用双屏显示器，可以按&lt;kbd&gt;Shift&lt;/kbd&gt;避免编辑器失去焦点。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;git-plus&lt;/code&gt;：不用手动敲Git命令了。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;todo-manager&lt;/code&gt;：帮你管理代码里的TODO、NOTE、FIXME。支持自定义规则，所以也可以用fuck调试，然后用这个插件定位和清除调试代码。需要安装&lt;code class=&quot;highlighter-rouge&quot;&gt;bottom-dock&lt;/code&gt;插件才能使用。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Sublime-Style-Column-Selection&lt;/code&gt;：有时候块选很有用，装上这个插件，就可以按住&lt;kbd&gt;⌥&lt;/kbd&gt;（&lt;kbd&gt;Alt&lt;/kbd&gt;）键拖动鼠标来块选。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pigments&lt;/code&gt;：自动将代码中各种表示颜色的符号染色。在“命令面板”中还可以找到其他与颜色有关的功能（以Pigments开头），例如显示调色板、列举代码中出现的所有颜色、转换颜色值为其他形式。&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-3&quot;&gt;按编程语言分&lt;/h1&gt;

&lt;p&gt;不要一下子全都装上——本来Atom启动就慢，再装一大堆插件，简直没法用了……&lt;/p&gt;

&lt;p&gt;如果都装上了，可以选择性地禁用和启用某些插件。安装&lt;code class=&quot;highlighter-rouge&quot;&gt;package-list&lt;/code&gt;插件之后操作会更快一些。&lt;/p&gt;

&lt;p&gt;很多流行语言和框架都有Snippets（片段）。如果经常用某个框架，不妨到Atom官网上搜一下，把代码片段装上，也好在编码时节省时间。&lt;/p&gt;

&lt;h2 id=&quot;htmlcssjavascript&quot;&gt;HTML/CSS/JavaScript&lt;/h2&gt;

&lt;p&gt;装完下面的插件，大概能避免购买或使用盗版的WebStorm。&lt;/p&gt;

&lt;h3 id=&quot;html&quot;&gt;HTML&lt;/h3&gt;

&lt;p&gt;大家都知道HTML标签很啰嗦，所以应该没有人愿意这样写代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;panel&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Title&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Line1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Line2&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;如果能像CSS选择器一样写，一按Tab自动产生HTML代码，该多好：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;div.panel&amp;gt;(div.title&amp;gt;p{Title})+(div.content&amp;gt;p{Line1}+p{Line2}+ul&amp;gt;li*5)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;所以，快装&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;emmet&lt;/code&gt;插件！&lt;/p&gt;

&lt;p&gt;这是一个专为写前端的人设计的编辑器插件，可以到&lt;a href=&quot;http://emmet.io/&quot;&gt;官网&lt;/a&gt;上面稍微学一下这个插件的用法。&lt;/p&gt;

&lt;p&gt;还有，Atom居然对HTML标签无动于衷！所以快装&lt;code class=&quot;highlighter-rouge&quot;&gt;autoclose-html&lt;/code&gt;插件，敲完标签之后自动闭合（还有一个&lt;code class=&quot;highlighter-rouge&quot;&gt;tag&lt;/code&gt;向Sublime Text致敬，是一键&lt;kbd&gt;⌥⌘.&lt;/kbd&gt;手动闭合）。&lt;/p&gt;

&lt;h3 id=&quot;javascript&quot;&gt;JavaScript&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-ternjs&lt;/code&gt;：以TernJS为后端的JavaScript自动提示。在使用之前需要按照说明稍微配置一下，然后才能用于jQuery、Angular.js、RequireJS、Node.js、Express.js等乱七八糟的js。
    &lt;ul&gt;
      &lt;li&gt;此外&lt;code class=&quot;highlighter-rouge&quot;&gt;you-complete-me&lt;/code&gt;也支持js，不过它的配置比较麻烦，而且需要手工装ternjs。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;linter-jshint&lt;/code&gt;：检查代码不规范之处，具体配置方法可以看插件文档。需要同时安装&lt;code class=&quot;highlighter-rouge&quot;&gt;linter&lt;/code&gt;插件。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;nodejs&quot;&gt;Node.js&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-ternjs&lt;/code&gt;支持Node.js，也支持Express.js等框架，不过需要按照插件文档手动安装一下支持文件。此外也可以到&lt;a href=&quot;https://npmjs.org&quot;&gt;npmjs.org&lt;/a&gt;上面查以“Tern”开头的插件以获得更多支持。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;安装&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-jade&lt;/code&gt;可以给jade加语法高亮，不过没有自动完成功能。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;typescript&quot;&gt;TypeScript&lt;/h4&gt;

&lt;p&gt;&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-typescript&lt;/code&gt;，官方出品，不解释。&lt;/p&gt;

&lt;h4 id=&quot;coffeescript&quot;&gt;CoffeeScript&lt;/h4&gt;

&lt;p&gt;TernJS不支持CoffeeScript。有人曾经想通过Hack的形式让tern支持CoffeeScript，不过tern官方不打算支持，而且那个项目烂尾了……&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;coffee-complete&lt;/code&gt;：可以一键把CoffeeScript代码编译成JavaScript代码。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;

&lt;p&gt;（未完待续）&lt;/p&gt;

&lt;p&gt;大概能避免花钱买PyCharm了。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;autocomplete-python&lt;/code&gt;：Python的自动完成功能。支持Django等。也可以使用YouCompleteMe，具体装法见后文。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;linter-flake8&lt;/code&gt;：Python语言的Linter。需要通过pip安装flake8（通过手工指定路径来切换2和3），然后通过apm安装linter。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;python-nosetests&lt;/code&gt;：按下&lt;kbd&gt;F5&lt;/kbd&gt;，自动开始测试。测试框架是nose，所以需要事先通过pip装好。至于如何区分2和3，这就需要看文档了。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atom-python-debugger&lt;/code&gt;：一键插入和删除&lt;code class=&quot;highlighter-rouge&quot;&gt;ipdb.set_trace()&lt;/code&gt;语句。需要通过pip安装ipdb。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;php&quot;&gt;PHP&lt;/h2&gt;

&lt;h2 id=&quot;ruby&quot;&gt;Ruby&lt;/h2&gt;

&lt;h2 id=&quot;cc&quot;&gt;C/C++&lt;/h2&gt;

&lt;h3 id=&quot;youcompleteme&quot;&gt;YouCompleteMe&lt;/h3&gt;

&lt;p&gt;Vim有一必备插件，叫做&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:kissing_heart:&quot; alt=&quot;:kissing_heart:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f618.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f618.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;“YouCompleteMe”，后来作者把插件核心功能做成API，就可以给其他编辑器用了，比如在Atom中这个插件叫做&lt;code class=&quot;highlighter-rouge&quot;&gt;you-complete-me&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;这个插件的配置比较麻烦，可以参照&lt;a href=&quot;https://github.com/Valloric/YouCompleteMe&quot;&gt;YouCompleteMe说明&lt;/a&gt;和&lt;a href=&quot;https://github.com/Valloric/ycmd&quot;&gt;ycmd说明&lt;/a&gt;来配置一下。下面是一些注意事项：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;网上很多教程都是基于Vim的，不过换成别的编辑器也没啥太大区别，照做就行了。&lt;/li&gt;
  &lt;li&gt;需要clang编译器。&lt;/li&gt;
  &lt;li&gt;Mac系统自带的Python是2.6的，插件会直接崩掉，所以需要装2.7（不要用3），然后让程序走2.7。如果嫌麻烦，也可以直接把系统自带的Python换掉，不过对于10.11系统来说，得先把SIP功能屏蔽，要不然即使有root也改不了。&lt;/li&gt;
  &lt;li&gt;在家目录中放一个&lt;code class=&quot;highlighter-rouge&quot;&gt;.ycm_extra_conf.py&lt;/code&gt;。可以参照&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.vim/bundle/YouCompleteMe/cpp/ycm/.ycm_extra_conf.py&lt;/code&gt;修改。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;go&quot;&gt;Go&lt;/h2&gt;

&lt;h2 id=&quot;aspnet&quot;&gt;ASP.NET&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;you-complete-me&lt;/code&gt;是一个代码完成插件，支持C#，不过配置比较麻烦（具体装法看前文，需要事先把Mono装好）。所以不如用其他原生支持ASP.NET的跨平台的开发环境，例如：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Xamarin Studio（在Linux中叫做MonoDevelop）&lt;/li&gt;
  &lt;li&gt;Visual Studio Code（官方出品，不过目前还是Beta版）&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 26 Jan 2016 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2016/01/26/atom-plugins.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2016/01/26/atom-plugins.html</guid>
        
        <category>插件</category>
        
        
        <category>Programming</category>
        
      </item>
    
      <item>
        <title>Chrome插件推荐</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#rss&quot; id=&quot;markdown-toc-rss&quot;&gt;RSS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#gooreplacer&quot; id=&quot;markdown-toc-gooreplacer&quot;&gt;gooreplacer&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;印象笔记&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tampermonkey&quot; id=&quot;markdown-toc-tampermonkey&quot;&gt;Tampermonkey&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#devdocs&quot; id=&quot;markdown-toc-devdocs&quot;&gt;DevDocs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#adblock-plus&quot; id=&quot;markdown-toc-adblock-plus&quot;&gt;Adblock Plus&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#proxy-switchysharp&quot; id=&quot;markdown-toc-proxy-switchysharp&quot;&gt;Proxy SwitchySharp&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;开发人员工具&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;其他&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;记录一些我在Chrome浏览器使用的插件。&lt;/p&gt;

&lt;p&gt;Chrome和火狐是最好的浏览器。因为Chromium是开源产品，所以那些国铲浏览器基本上都是IE+Chromium的双核浏览器，而且很多Native WebApp也基于Chromium，例如Atom编辑器（还有Node.js）。&lt;/p&gt;

&lt;h1 id=&quot;rss&quot;&gt;RSS&lt;/h1&gt;

&lt;p&gt;以前每天都会刷&lt;a href=&quot;http://www.lihuanyu.com&quot;&gt;某神&lt;/a&gt;的博客，看看有没有什么新文章，直到注意到了RSS。通过RSS订阅博客或什么东西，就没有必要自己手动去刷动态了——有新内容程序会自动提示。&lt;/p&gt;

&lt;p&gt;一个比较好的RSS插件是&lt;code class=&quot;highlighter-rouge&quot;&gt;RSS Feed Reader&lt;/code&gt;：添加之后地址栏右面会有RSS的标志，如果页面可以通过RSS订阅，图标上会出现一个加号。有新动态的时候也会有提示，可以直接阅读。&lt;/p&gt;

&lt;p&gt;不过，因为手头有两个电脑和一堆操作系统，而这个插件需要花钱才能在云端同步，所以再推荐一个插件，&lt;code class=&quot;highlighter-rouge&quot;&gt;Inoreader&lt;/code&gt;，它就是云端服务，而且抓取频率也不错。Feedly是类似的服务，但是不花钱的话它每隔两三个小时才抓一次。&lt;/p&gt;

&lt;p&gt;使用云端服务有一个小小问题：墙。如果像我一样已经意识不到自己在翻墙，可以无视这个问题。&lt;/p&gt;

&lt;p&gt;[% callout %]
社交网站&lt;/p&gt;

&lt;p&gt;国外很多网站都支持RSS，包括维基百科（监视列表）和社交网站Facebook。不过国内网站就不行了，例如微博不提供RSS功能，而且不小心被女神&lt;span class=&quot;blackout&quot;&gt;曾经是男神&lt;/span&gt;拉黑了（目测是被当作广告账号了），所以怎样才能科学地关注女神呢？答案——&lt;a href=&quot;http://sinacn.weibodangan.com/&quot;&gt;微博档案&lt;/a&gt;，从这个网站上面订阅微博。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;gooreplacer&quot;&gt;gooreplacer&lt;/h1&gt;

&lt;p&gt;既然自己都意识不到自己在翻墙，还要这个插件做什么呢？&lt;/p&gt;

&lt;p&gt;可以用来在Chrome上登录那个只支持旧版IE的教务系统！就像&lt;a href=&quot;/2015/05/29/let-jiao-wu-xi-tong-support-linux/&quot;&gt;这样&lt;/a&gt;！&lt;/p&gt;

&lt;p&gt;如果想给某个网站（例如只支持IE，或者有什么限制）打补丁，或者某网站经常用但是CDN因为墙而无法正常访问，你还不是站长，可以试试这个插件。&lt;/p&gt;

&lt;p&gt;稍微提一下，可以把hack之后的文件放到GitHub Pages上面。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;印象笔记&lt;/h1&gt;

&lt;p&gt;在网上看到篇不错的文章，当然要保存下来！&lt;/p&gt;

&lt;p&gt;我用的是Evernote。在浏览器上装个插件，看到不错的东西时，直接点“剪藏”就可以决定保存什么东西了。&lt;/p&gt;

&lt;p&gt;由于审查的原因，Evernote有两套账号，分为国内版和国际版。如果不需要像异见人士那样公开地贴出自己的笔记，用国内版（印象笔记）就行了。国内版就是比国内版少个公开分享，而且国际版经常掉线。&lt;/p&gt;

&lt;p&gt;其实OneNote也可以，只不过嫌它占地方而已。（提示：OneNote有OCR，可以扫图片上的文字）&lt;/p&gt;

&lt;h1 id=&quot;tampermonkey&quot;&gt;Tampermonkey&lt;/h1&gt;

&lt;p&gt;这个插件本意是提供无障碍访问。它可以在网页加载之后运行用户自定义脚本。&lt;/p&gt;

&lt;p&gt;既然我们没有障碍，那么能做什么事儿呢？&lt;/p&gt;

&lt;p&gt;反正我拿它下载Youtube视频，&lt;a href=&quot;https://sf-addon.com/helper/chrome/helper.user.js?ts=1453720999&quot;&gt;虽然代码不是自己写的&lt;/a&gt;……（因为Google禁止一切能够下载Youtube视频的插件，所以他们只能“曲线救国”。当然，这段代码也无法通过Chrome下载）&lt;/p&gt;

&lt;h1 id=&quot;devdocs&quot;&gt;DevDocs&lt;/h1&gt;

&lt;p&gt;其实&lt;a href=&quot;http://devdocs.io&quot;&gt;DevDocs&lt;/a&gt;是一个网站，不过Chrome可以好心地帮你把这个网站放到LaunchPad上面。&lt;/p&gt;

&lt;p&gt;通过HTML5的LocalStorage，DevDocs支持离线浏览。&lt;/p&gt;

&lt;p&gt;这个网站有两个小问题：一个是墙，一个是没有Java和ASP.NET的文档！&lt;/p&gt;

&lt;h1 id=&quot;adblock-plus&quot;&gt;Adblock Plus&lt;/h1&gt;

&lt;p&gt;我不屏蔽广告，所以差点把这个插件忘了……&lt;/p&gt;

&lt;h1 id=&quot;proxy-switchysharp&quot;&gt;Proxy SwitchySharp&lt;/h1&gt;

&lt;p&gt;用于给浏览器设置代理。支持多种代理，包括PAC。&lt;/p&gt;

&lt;p&gt;因为我给整个系统都设了PAC所以没装。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;开发人员工具&lt;/h1&gt;

&lt;p&gt;这不是插件但很重要……&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;其他&lt;/h1&gt;

&lt;p&gt;既然能看得懂残体字，为什么不到知乎上面看看&lt;a href=&quot;https://www.zhihu.com/question/19594682&quot;&gt;网友的回答&lt;/a&gt;呢？&lt;/p&gt;
</description>
        <pubDate>Mon, 25 Jan 2016 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2016/01/25/chrome-plugins.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2016/01/25/chrome-plugins.html</guid>
        
        <category>插件</category>
        
        
        <category>Others</category>
        
      </item>
    
      <item>
        <title>解决Win8/10因为xlive.dll玩不了游戏的问题</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;中文版&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fix-the-xlivedll-issues-under-windows-810&quot; id=&quot;markdown-toc-fix-the-xlivedll-issues-under-windows-810&quot;&gt;Fix the xlive.dll issues under Windows 8/10&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;趁着Steam圣诞节优惠，我入手了除了GTA5以外的所有版本（旧版本成捆卖）。为什么不买GTA5？因为GTA5发布没多久，即使打折价格也略贵，而且自己电脑跑不动……&lt;/p&gt;

&lt;p&gt;Win10 64位系统，结果GTA4根本打不开，屏幕提示的错误信息与xlive.dll有关。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;中文版&lt;/h1&gt;

&lt;p&gt;拜托啊，花钱买正版，结果还不如直接下破解版……&lt;/p&gt;

&lt;p&gt;在安装运行库的时候系统就有提示，Steam提供的gfw（Games for Windows Live，不是那个通向共产主义的大门）版本有点旧，不兼容Win8/10。幸运的是，这个问题可以解决，只要：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;先到“控制面板”里把跟gfw有关的都卸载。&lt;/li&gt;
  &lt;li&gt;下载并安装最新版“Games for Windows”（&lt;a href=&quot;https://www.microsoft.com/en-hk/download/details.aspx?id=5549&quot;&gt;点这里下载&lt;/a&gt;），版本号应该是3.5.xx。相信英文不好的也不会花钱买正版游戏。&lt;/li&gt;
  &lt;li&gt;玩游戏吧。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;值得一提的是，尽管GTA5打完折还是不太便宜，不过比那个价格死贵、从不打折、画质“渣”成马赛克而且有个绿色的长得像&lt;code class=&quot;highlighter-rouge&quot;&gt;18禁&lt;/code&gt;的怪物的世界好多了……&lt;/p&gt;

&lt;h1 id=&quot;fix-the-xlivedll-issues-under-windows-810&quot;&gt;Fix the xlive.dll issues under Windows 8/10&lt;/h1&gt;

&lt;p&gt;I’m using Windows 10 64-bit. When I open GTA4 that I have bought during the Christmas, an error message about &lt;code class=&quot;highlighter-rouge&quot;&gt;xlive.dll&lt;/code&gt; showed up.&lt;/p&gt;

&lt;p&gt;That is because gfw (Games for Windows) from Steam is outdated. You need to uninstall them from Control Panel, and install &lt;a href=&quot;https://www.microsoft.com/en-hk/download/details.aspx?id=5549&quot;&gt;the newest one&lt;/a&gt;. It’s called “Games for Windows” and the version is larger than or equal to &lt;code class=&quot;highlighter-rouge&quot;&gt;3.5&lt;/code&gt;.&lt;/p&gt;
</description>
        <pubDate>Fri, 01 Jan 2016 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2016/01/01/xlive-dll.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2016/01/01/xlive-dll.html</guid>
        
        
        <category>Others</category>
        
      </item>
    
      <item>
        <title>如何学习C语言（非计算机专业）</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#first&quot; id=&quot;markdown-toc-first&quot;&gt;FIRST&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;如何学习&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;新思维&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;先问搜索引擎&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;照猫画虎&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;一一对应&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;多试验&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;调试&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;测试&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;养成好习惯&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-9&quot; id=&quot;markdown-toc-section-9&quot;&gt;如何通过二级&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-10&quot; id=&quot;markdown-toc-section-10&quot;&gt;基本内容&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-11&quot; id=&quot;markdown-toc-section-11&quot;&gt;选择题&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-12&quot; id=&quot;markdown-toc-section-12&quot;&gt;大题&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-13&quot; id=&quot;markdown-toc-section-13&quot;&gt;正确解答题目&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-14&quot; id=&quot;markdown-toc-section-14&quot;&gt;正确地解答题目&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-15&quot; id=&quot;markdown-toc-section-15&quot;&gt;拓展学习&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这个问题曾经专门给人做过讲座。不过既然有人&lt;span class=&quot;blackout&quot;&gt;例如学妹&lt;/span&gt;没听过，那我还是把自己的经验感悟写出来吧。&lt;/p&gt;

&lt;p&gt;说实话，现代人都比较功利——既然是非计算机专业的学生，那么C语言基本上是个用不着的东西。可是，它还是门必修课，那最起码不能挂科，对吧？&lt;/p&gt;

&lt;p&gt;内容很长，最好找个时间慢慢读。&lt;/p&gt;

&lt;h1 id=&quot;first&quot;&gt;FIRST&lt;/h1&gt;

&lt;p&gt;稍微了解一下C语言的历史，你就应该知道那个东西绝不是给孩子们入门用的——一开始它的应用是Unix操作系统。&lt;/p&gt;

&lt;p&gt;从这个角度讲，对于非计算机专业的学生来说，Pascal甚至Basic都比C语言靠谱。因为C语言对于他们而言过于灵活，暴露了很多让初学者迷惑的东西。而Pascal和Basic都很简单，而且Visual Basic还很好玩。&lt;/p&gt;

&lt;p&gt;当然，虽然VB又简单又好玩，但是有人&lt;span class=&quot;blackout&quot;&gt;我们的老师&lt;/span&gt;成功地把VB讲成了一个比C语言还困难的语言，而且不是因为内容深，而是&lt;span class=&quot;blackout&quot;&gt;讲得不好&lt;/span&gt;……。由此可见，&lt;strong&gt;编程语言学不好是自己的问题——没找到合适的入门教程&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;很多人喜欢看清华大学出版社的谭浩强的书。不要以为清华大学出版社的书有多么好，特别是&lt;strong&gt;绝对不要看谭浩强的C和C++书&lt;/strong&gt;！这里绝对不是抹黑他——80年代的时候，谭浩强写了一系列关于BASIC语言的书，为编程语言在中国的普及做出了贡献。然而，C语言可不像BASIC那样简单，而且他自己都没学明白，他的书怎么可能讲明白？结果就是，他的C语言书不仅讲不明白，而且还误导人。&lt;/p&gt;

&lt;p&gt;如果有闲功夫的话，可以拜读一下C语言之父Dennis Ritchie（dmr）的《C程序设计语言》。这本入门书比大多数国产C语言书薄，但是是一部经典。毕竟是C语言亲爹写的。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;如何学习&lt;/h1&gt;

&lt;p&gt;回答“只要多努力……”、“只要多练习……”当然没有意义，所以下面写一些个人经验。&lt;/p&gt;

&lt;p&gt;注意，本文有一个前提——“非计算机专业”。因此我假设学完C语言基本上是为了通过考试和二级。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;新思维&lt;/h2&gt;

&lt;p&gt;大学每一科目都有自己的思维方式，C语言也一样。&lt;/p&gt;

&lt;p&gt;C语言作为一门“语言”，当然有自己的语法，只不过是人类和机器约定好的、互相都能看得懂的语法。人类可以一目十行，但是对于机器而言，它只能一行一行地读、一句一句地读。&lt;/p&gt;

&lt;p&gt;如果把每一条语句当作一件事儿，那么计算机当然是有条不紊地做事儿。写代码的时候，你当然也要一件事儿一件事儿地做。&lt;/p&gt;

&lt;p&gt;因为我们学的是简单的单文件的C语言，所以实际上代码结构基本都是这样的：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 输入
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;scanf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 处理
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 输出
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;做题的时候（编写练习程序和做题类似），按照题目要求逐步完善输入、处理和输出过程。也就是按照题目要求填坑。至于能不能填上，就看你积累了多少“段子”——这和多做数学题积攒解题思路是差不多的。&lt;/p&gt;

&lt;p&gt;填坑的时候有一个技巧：如果遇到困难，尽量先把题目的语言翻译成“像C语言的东西”。例如，“判断n是否为XX数，如果是则输出YES和全部的xxx，否则输出‘NO’”。那么首先应该能够想到，“判断”是if，因此：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;是&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XX&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;数&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;YES&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 输出全部的xxx
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;全部&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xxx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NO&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;那什么是“XX数”呢？看题目其他条件，例如“一个数恰好等于因子之和”，那么if语句应该是&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;的因子之和&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;“因子”之和怎么求呢？按照以往的练习，因子是用for语句找的，所以在if之前最起码得有个for语句：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;是因子&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// 不要忘记前面 sum=0
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;“是因子”实际上就是整除，即“n%i==0”。&lt;/p&gt;

&lt;p&gt;假如题目还需要输出所有因子。毕竟不是ACM比赛，对性能也没有太高要求，那么我们不妨在找因子的时候把类似代码再敲一遍。&lt;/p&gt;

&lt;p&gt;最后检查一下输入输出格式，把细节完善（见后面的“一一对应”），然后测试、调试，一切OK就可以提交了。如果考试是笔试，实在遇到困难，也可以用类似方法骗分。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;先问搜索引擎&lt;/h2&gt;

&lt;p&gt;问问题是一门艺术。在错误的时间、错误的地点找错误的人问了错误的问题，那是要失败的。&lt;/p&gt;

&lt;p&gt;学习编程会遇到很多问题，例如不会搭建开发环境、忘记某个函数的名字或参数、遇到错误，这时候不建议马上去问别人。不妨先自己尝试解决，如果解决不了，再到搜索引擎上搜索。&lt;/p&gt;

&lt;p&gt;如果不会使用搜索引擎，可以&lt;a href=&quot;https://vjudge1.github.io/kuso/sos/?wd=%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E&quot;&gt;点击这里&lt;/a&gt;查看动画演示。&lt;/p&gt;

&lt;p&gt;因为大多数语言和框架（在开发项目时，从零开始是不理智的）是老外写的，对于某些问题，如果你用英文搜索，可能会更快得到结果。这时候你可能就要想办法找谷歌了。&lt;/p&gt;

&lt;p&gt;在技术方面的中文搜索中，百度和谷歌区别不太大。百度经常有误导人的推广，但是在技术话题上这个问题并不明显。&lt;/p&gt;

&lt;p&gt;在英文搜素方面，百度几乎不可用。谷歌最好（直接与StackOverflow整合），如果在网络方面遇到困难，也可以考虑必应。当然，因为很多外国网站使用谷歌服务器来加速（CDN），所以点进链接后可能会卡半天不出内容。遭遇这种情况的话，你还是需要先把网络问题解决一下。&lt;/p&gt;

&lt;p&gt;因为全世界包括那个没有国际互联网&lt;span class=&quot;blackout&quot;&gt;只对老外和少数特权人士开放&lt;/span&gt;的朝鲜都使用C语言，因此搜C语言本身的东西不会遇到太大困难。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;照猫画虎&lt;/h2&gt;

&lt;p&gt;不要问别人“xxx怎么写”——照着书上的代码改，或者到搜索引擎上找代码，照着他们的代码改。&lt;/p&gt;

&lt;p&gt;学习一门编程语言，很多时候找个老师不如&lt;strong&gt;找一段示例代码，照着敲一遍，编译运行，观察现象，然后对代码稍作修改，编译运行，观察产生了什么变化……&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;需要注意的是，有些东西涉及算法（应该都是简单算法，不涉及数据结构），例如简单素数判断&lt;span class=&quot;blackout&quot;&gt;（素数测试有很多种）&lt;/span&gt;。那么你需要找到一些现成的代码，搞清楚处理过程中哪些变量是输入、哪些是结果，了解大致的思路，然后自己写一遍。这种东西务必亲自上机写一遍，哪怕没有完全理解——光靠背是不现实的。&lt;/p&gt;

&lt;p&gt;因为很多算法的套路是固定的，因此建议学过函数之后，自己编程的时候把它们都扔到函数里，例如：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;is_prime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;在使用的时候直接&lt;code class=&quot;highlighter-rouge&quot;&gt;is_prime(a)&lt;/code&gt;，既方便又避免出错。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;一一对应&lt;/h2&gt;

&lt;p&gt;编程是个比较严谨的东西。初学者在写代码的时候，为了避免出错，要注意“一一对应”：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;解答题目的时候，你的代码是否和题目条件、输入输出格式要求对应？&lt;/li&gt;
  &lt;li&gt;该写分号的地方是否写分号了？&lt;/li&gt;
  &lt;li&gt;不该写分号的地方是不是没写？（例如for (…;…;…)的后面不应该写，如果故意要写，最好用个注释说明一下）&lt;/li&gt;
  &lt;li&gt;printf、scanf中的“%d”（或别的什么）是否和后面的变量一一对应？&lt;/li&gt;
  &lt;li&gt;假如后面不是int类型，你前面是否还在用“%d”？&lt;/li&gt;
  &lt;li&gt;scanf后面有没有“&amp;amp;”？&lt;/li&gt;
  &lt;li&gt;int main()、if、while、for等的圆括号是否匹配？后面是否跟了“{”和“}”并且数量匹配？
    &lt;ul&gt;
      &lt;li&gt;虽然if、while、for后面代码只有一句时可以省略花括号，但是强烈建议你不要偷这个懒。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;在使用变量的时候，前面是否已经定义了？（例如要scanf n了，前面是否有int n？按照题目要求是不是应该为int？）&lt;/li&gt;
  &lt;li&gt;在使用“++”、“–”、“+=”等符号的时候，前面是否已经初始化了？初始化的值和初始化的位置是否正确？&lt;/li&gt;
  &lt;li&gt;数组大小是否不比题目要求的小？
    &lt;ul&gt;
      &lt;li&gt;为了安全，建议开大点。例如题目说最大100，你就开110甚至是11000。反正贪污和浪费内存不是极大的犯罪（by 毛泽西）。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;头文件都写全了吗？
    &lt;ul&gt;
      &lt;li&gt;为了安全，可以把你听说过的标准库的头文件都写上。ACM比赛经常有这样做的：#include的行数比代码实现的行数都多……&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-5&quot;&gt;多试验&lt;/h2&gt;

&lt;p&gt;别怕试验。多写一些小片段，看看那些代码是怎样运行的。&lt;/p&gt;

&lt;p&gt;举个例子——for循环到底执行了多少次：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;i=%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;i=%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;scanf和gets的冲突：scanf和get紧挨着可能在输入数据时遇到问题，这时候需要一个小技巧……&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;n&quot;&gt;scanf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fgets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// 其实就是 gets(str) 的推荐写法
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;                &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;如果那个&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scanf&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;里没有“\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;”，&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gets&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;的时候……&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;再举个例子（指针与一维数组）：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;因为只是为了看个结果，所以，只要自己能把结果弄明白，怎么舒服怎么来。&lt;/p&gt;

&lt;p&gt;（当然有个重要前提——你手头得有个电脑。如果没有，可以买个Win10平板，只需要几百块钱，比手机便宜，又方便又实惠……当然装Linux系统可能会遇到困难）&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;调试&lt;/h2&gt;

&lt;p&gt;经常有人问“为什么我的代码结果不对”，然后贴上一段代码。这是非常令人讨厌的行为。&lt;/p&gt;

&lt;p&gt;为了不被人鄙视，大家应该学一些调试的技巧。&lt;/p&gt;

&lt;p&gt;作为非专业人士，与其学习那些复杂又难用的调试工具，不如学习又简单又实用的 printf。&lt;/p&gt;

&lt;p&gt;printf有两大作用：定位错误、查看中间值。&lt;/p&gt;

&lt;p&gt;假如程序崩溃了，可以这样调试：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;准备读n&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;scanf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;准备读a&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scanf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;开始处理&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;假如崩溃的时候屏幕上面只有“准备读n”而没有“准备读a”，说明中间夹着的scanf有问题；假如崩溃的时候有“准备读a”而没有“开始处理”，说明中间夹着的for有问题，这样你可以在for语句内部插入一些&lt;code class=&quot;highlighter-rouge&quot;&gt;printf(&quot;a\n&quot;)&lt;/code&gt;，从而精确地找到错误的出处（例如，崩溃的时候看到10个a，说明数组开得不够大）。&lt;/p&gt;

&lt;p&gt;如果计算结果不正确，可以这样调试（筛法求素数）：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isprime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;isprime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DEBUG: %d不是素数(╯°Д°)╯︵ ┻━┻&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;isprime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DEBUG: %d 是素数吗？%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isprime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isprime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;运行结果只有2和3。通过观察调试输出，发现程序认为5不是素数。按理说，如果不是素数，屏幕会输出一个掀桌子的表情。然而程序认为5不是素数，但是还没有掀桌子表情，说明问题出在isprime变量上面——&lt;code class=&quot;highlighter-rouge&quot;&gt;isprime=1&lt;/code&gt;的位置不对。&lt;/p&gt;

&lt;p&gt;当然，交作业的时候别忘了把这种输出删掉。&lt;/p&gt;

&lt;h2 id=&quot;section-7&quot;&gt;测试&lt;/h2&gt;

&lt;p&gt;不要把测试和调试搞混。用一句话概括它们的区别：测试是为了观察“程序结果是否正确”，而调试是为了“找到程序的错误”。&lt;/p&gt;

&lt;p&gt;很多初学者经常不做测试，或者不做充分的测试就提交，然后遇到问题就反复改，反复提交。这样也是不好的。&lt;/p&gt;

&lt;p&gt;Online Judge就是测试的一种：系统预置了一系列数据和答案，按照题目要求解题、提交，系统会自动编译和运行代码，检查程序是否能在规定时间内处理预定输入并得到正确结果。在比赛中，错误提交是要影响成绩的，因此选手必须要学会自己测试，争取一次提交就通过。&lt;/p&gt;

&lt;p&gt;程序编译通过之后，当然要用数据检验一下结果。如果把样例输入敲进去结果都不对，那程序肯定不行。&lt;/p&gt;

&lt;p&gt;光通过样例也是不行的。为了保证通过，你应该自行构造多个输入，观察输出是否正确。应从以下几个角度构造数据：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;守规矩的计算&lt;/li&gt;
  &lt;li&gt;不守规矩的计算：如果题目没做保证，那么应假设有非法数据。假如题目没说a一定大于0，那你有没有想到a可以等于0或-1？&lt;/li&gt;
  &lt;li&gt;多种情况：假如程序有多种结果（Yes/No），你是否都测试到了？&lt;/li&gt;
  &lt;li&gt;边界条件：假如最多100个人，那么你的程序在恰好输入100个人的情况下能否正常工作？
    &lt;ul&gt;
      &lt;li&gt;没有人或只有1个人呢？&lt;/li&gt;
      &lt;li&gt;稍微提一下，假如数组有100个元素（int a[100]），访问a[100]是非法的，但是在你自己电脑上不一定报错。这是一个隐藏的错误。为了避免这种错误，可以把数组开大一些，例如200甚至10000。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;除此之外，初学者常常忽略的问题有空格（一个空格、两个空格、多个空格、行末空格）、回车（例如最后一行的回车）、字母大小写和符号全半角，还有不明显的格式差别（例如题目要求用逗号分隔你却用了空格）。因为测试是全文逐字比较的，所以不要犯这种低级错误。&lt;/p&gt;

&lt;h2 id=&quot;section-8&quot;&gt;养成好习惯&lt;/h2&gt;

&lt;p&gt;建议大家照做，因为这样可以避免很多不必要的错误：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;如果你不知道全角符号&lt;code class=&quot;highlighter-rouge&quot;&gt;，。、（）&lt;/code&gt;和半角符号&lt;code class=&quot;highlighter-rouge&quot;&gt;,.\()&lt;/code&gt;有什么区别，那么建议你写代码的时候把输入法关掉，免得出现莫名其妙的错误。&lt;/li&gt;
  &lt;li&gt;不同功能（定义变量、输入、数据处理、输出）之间留点空行，也就是按功能分块，就像前面提到的那样。&lt;/li&gt;
  &lt;li&gt;接上条，如果代码太长，那么最好多用一些函数，把各功能分离出来。写代码的时候一个功能一个功能地写。没有人喜欢又长又臭的代码。&lt;/li&gt;
  &lt;li&gt;缩进，一定要保持代码的缩进。没有缩进的代码难以理解，而且很有可能丢花括号，从而造成不必要的麻烦。&lt;/li&gt;
  &lt;li&gt;使用“黑科技”（不解释就难以理解）的时候要加注释。&lt;/li&gt;
  &lt;li&gt;if、for等语句后面可以不加花括号对吧？别懒，把花括号加上，免得犯这样的错误：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;section-9&quot;&gt;如何通过二级&lt;/h1&gt;

&lt;p&gt;这是也很多人关心的问题。虽然事实上计算机二级比英语六级容易通过（对于985、211的学生来说，只要英语三级也就是高考成绩不太烂，英语四级裸奔也能过……），但是很多人还是没通过。这不是他们不刻苦或者学得不好，而是因为他们不知道如何对付一个考证级别的考试。对，和英语四六级有着本质的区别。&lt;/p&gt;

&lt;p&gt;首先用一句话概括通过计算机三级和四级的武林秘籍：去购买高等教育出版社的、封面上带个大大的黄色字母K的官方教材，从头到尾把题刷一遍，该背的（包括试题）背下来，如果还没通过那你肯定是故意的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-12-30-c/offical.png&quot; alt=&quot;二级官方教材&quot; /&gt;&lt;/p&gt;

&lt;p&gt;一本官方教材胜过N本练习册。&lt;/p&gt;

&lt;h2 id=&quot;section-10&quot;&gt;基本内容&lt;/h2&gt;

&lt;p&gt;虽然二级过了三四级成绩才能算数，但是，之所以先介绍三四级，是因为三四级比二级好过——三四级基本上可以纯背，但二级还是要会点东西的。下面就介绍介绍二级C语言：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;选择题40分，大题（改错、填空、编程）60分。&lt;/li&gt;
  &lt;li&gt;上机考试，先做选择题，选择题全部做完才能做大题。做选择的时候电脑屏幕是锁死的，做大题的时候才能使用编程软件。&lt;/li&gt;
  &lt;li&gt;题目是从题库里随机抽的，所以不要尝试照旁边的人抄。当然，运气好的话，你会碰到和官方教材中差不多的题。撞大题的概率更高。&lt;/li&gt;
  &lt;li&gt;选择题中至少有20~30分来自“二级公共语言基础”，这个“公共语言基础”大致分成两类，一类是“算法与数据结构”，需要你去理解一些东西；另一类不管它是啥，反正是纯粹要背的东西。剩下的选择题和C语言本身有关。&lt;/li&gt;
  &lt;li&gt;C语言课的东西够用了，关键是你对考试出题的基本法的了解程度。&lt;/li&gt;
  &lt;li&gt;编程软件是钦点的Visual C++ 6.0，虽然它是盗版的，虽然它很可能无法在你自己的电脑上正常运行。&lt;/li&gt;
  &lt;li&gt;二级考完只有三种状态：没通过（&amp;lt;60分）、合格（60~89分）、优秀（90~100分）。因此，如果你不打算拿优秀证，考60和考89没有任何区别。（在这一点上，英语四六级就不一样——证书上面把成绩写出来了）&lt;/li&gt;
  &lt;li&gt;因为计算机二三四级证书都很水，因此，求职时如果应聘条件没有明确要求，不要指望拿这些证书给自己贴金。虽然二级可能是很多岗位的基本条件之一。&lt;/li&gt;
  &lt;li&gt;最后，如果你想考三四级，一定要看清楚对应科目对二级的要求——是要求通过编程语言类的二级还是数据库语言类的二级。如果你二级报的是Office那还是别考三四级了。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-11&quot;&gt;选择题&lt;/h2&gt;

&lt;p&gt;如果你觉得大题把握很大，而且没有拿优秀证的打算，那么“二级公共语言基础”的东西就可以少背一点了。反之要多背一些。&lt;/p&gt;

&lt;p&gt;“算法和数据结构”是一个不太容易懂的东西——如果学得很好，没准就可以去打ACM比赛了。既然是个只需要拿60分的考证，那么不妨把官方教材拿出来，看看他们喜欢怎样出题，把相关考点记住即可。&lt;/p&gt;

&lt;p&gt;有关C语言本身的选择题，实在不懂也不必太较真，因为它可能没有意义：例如经典的&lt;code class=&quot;highlighter-rouge&quot;&gt;a+=a-=a*a;&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;a=a++;&lt;/code&gt;都是未定义行为——连C语言标准对这些语句的结果都没有任何保证，所以肯定没有正确答案。&lt;/p&gt;

&lt;h2 id=&quot;section-12&quot;&gt;大题&lt;/h2&gt;

&lt;p&gt;大题是一定要会的。如果你没有精心准备，选择题分数可能会惨不忍睹，因此大题要尽量把分数都弄到手。&lt;/p&gt;

&lt;p&gt;为了把分数搞到手，我们要从两方面准备，一方面是正确解答题目，另一方面是正确地解答题目。&lt;/p&gt;

&lt;h3 id=&quot;section-13&quot;&gt;正确解答题目&lt;/h3&gt;

&lt;p&gt;大题分为改错、填空、编程。&lt;/p&gt;

&lt;p&gt;改错就很简单了。因为改错的模式都比较固定，只要多看看官方的题目就应该清楚他们会怎样考了。&lt;/p&gt;

&lt;p&gt;填空也一样。一般是让你填一些“单词”，或者是些简单的表达式。填空时候要多留意已经定义和未使用的变量。&lt;/p&gt;

&lt;p&gt;其实吧，改错和填空题很多时候就是&lt;strong&gt;推理&lt;/strong&gt;题——不用太清楚程序干嘛，只要保证所有变量都被用过了，该对应的地方都对应了，OK。&lt;/p&gt;

&lt;p&gt;编程题要注意：数组、指针和字符串对于初学者来说比较难理解，对吧？不幸的是，出题人也爱考这些东西。因此，还是要看官方教材，看看他们喜欢怎样出题，并且建议你在做这些题的时候亲自上机练习一下。&lt;/p&gt;

&lt;h3 id=&quot;section-14&quot;&gt;正确地解答题目&lt;/h3&gt;

&lt;p&gt;两个要点：一是不犯低级错误，二是要会用Visual C++ 6.0编辑代码。&lt;/p&gt;

&lt;p&gt;不犯低级错误，举个例子，题目提示&lt;code class=&quot;highlighter-rouge&quot;&gt;只修改/******* FOUND *******/下一行的代码&lt;/code&gt;，那么你不要改其他地方的代码，也不要把这个注释本身修改或删除。此外尽量不要碰原有代码的其他部分，例如空格和缩进。&lt;/p&gt;

&lt;p&gt;Visual C++ 6.0是一个古老的软件了（1998年发布），在现代操作系统（Windows 8/8.1/10）中会出现兼容性问题，甚至无法启动。因此，平时在自己电脑上练习的时候可以使用其他编程软件，然后考前去一趟机房（机房应该安装了Visual C++ 6.0），学会如何打开和保存代码（考试软件会帮你打开代码）、如何找到&lt;code class=&quot;highlighter-rouge&quot;&gt;int main()&lt;/code&gt;、如何编译运行。知道这些就足够了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-12-30-c/vc6.png&quot; alt=&quot;VC6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;会点这三个按钮就够了。&lt;/p&gt;

&lt;h1 id=&quot;section-15&quot;&gt;拓展学习&lt;/h1&gt;

&lt;p&gt;对于非计算机专业的学生来说，尽管C语言很难学，尽管C语言&lt;span class=&quot;blackout&quot;&gt;看起来&lt;/span&gt;“不实用”，但是很多编程语言的套路都是类似的，因此学完C语言有助于其他“实用”语言的学习。有些“实用”语言甚至直接向C语言致敬，例如PHP。&lt;/p&gt;

&lt;p&gt;以下是一些当下很流行的、学起来可以“实用”的编程语言，如果有兴趣的话可以学一学。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;HTML+CSS+JavaScript：做网页的一套语言，虽然是三个，但是实际上哪个都不需要学得太深——一方面需要什么东西可以自己去查，另一方面现成框架太多了，很多时候用不着从零开始。我个人建议不要用Dreamweaver，即使用也要用最新的Dreamweaver CC，否则容易落伍。&lt;/li&gt;
  &lt;li&gt;PHP：想做个实用网站吗？学吧！就是它大量致敬了C语言的语法！
    &lt;ul&gt;
      &lt;li&gt;由于PHP学习门槛很低，因此很容易写出有大量安全漏洞的网站。做项目时要多加小心。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Python：Python是个小巧而又强大的脚本语言。建议有兴趣的一定要学。
    &lt;ul&gt;
      &lt;li&gt;如果想写一个随写随用的程序，当然要找它；&lt;/li&gt;
      &lt;li&gt;如果想做一个实用的网站，同样可以找它——可以学习基于Python语言的Django框架；&lt;/li&gt;
      &lt;li&gt;如果想做一个带窗口对话框的程序，当然也可以找它——可以学习基于Python语言和Qt的PyQt框架。对于这种情况，建议同时学习PyQt和Qt C++。&lt;/li&gt;
      &lt;li&gt;Python有两套版本，一个是2.7.10，一个是3.5。它们两个有些差别，但是实际上不影响学习。遇到困难时到搜索引擎上搜一下就行了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Visual C#：C++和C#都带个“C”，那它们当然是从C语言衍生过来的……学C语言写不出一个带窗口对话框的程序对吧&lt;span class=&quot;blackout&quot;&gt;其实C语言有GTK+&lt;/span&gt;，没关系，我们可以用一个好学的Visual C#，随手画个窗口出来！&lt;/li&gt;
  &lt;li&gt;Qt C++：同样是用来制作带窗口对话框程序的，只不过这个是C++语言。&lt;/li&gt;
  &lt;li&gt;Java：Android应用就是拿Java写的……&lt;/li&gt;
  &lt;li&gt;Objective-C：iOS应用是拿这个语言写的，只不过进App Store的门槛有点高。&lt;/li&gt;
  &lt;li&gt;MATLAB：数值计算、数值模拟必备。一定先把高等数学和线性代数学好然后再学这个……&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我不推荐Pascal和Basic，前者用的人数不多，后者……VB6也是1998年的东西，在现在的系统中已经不能正常运行了，而且学新版VB不如学C#。&lt;/p&gt;

&lt;p&gt;另外还有两个硬件：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Arduino：Arduino是一个卡片大小的开发板（如果不知道开发板是啥——就是可以让你拿来写程序的电路板），编程的时候基本上就是C或C++。与电路相关的东西都是封装好的，可以直接调用函数，所以不会被一些细枝末节困扰&lt;span&gt;当然对单片机和电路有一定了解之后那些细枝末节还是要学的&lt;/span&gt;。虽然玩51单片机的人更多，但是从Arduino入门会容易很多。&lt;/li&gt;
  &lt;li&gt;树莓派：树莓派是一个卡片大小的单板电脑。虽然设计者的定位是儿童电脑，不过实际上被极客当成高级玩具了。最新的树莓派2可以跑Linux和Windows 10（物联网版）系统，对物联网感兴趣的可以玩玩。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我个人的学习建议：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;尽量找外文书的中译本，原因很简单，翻译一本书需要付出大量时间精力，因此能够被拿来翻译的书基本上都是好书。&lt;span&gt;因为写书很容易，因此国内很容易出烂书。外国的月亮也不圆——外国也一样。&lt;/span&gt;&lt;/li&gt;
  &lt;li&gt;把书粗读一遍，大致了解一下基本语法。很多语言的基本结构都差不多，只不过单词不一样罢了。&lt;/li&gt;
  &lt;li&gt;细读，看看（特别是翻译本）作者的思想和思路。&lt;/li&gt;
  &lt;li&gt;照着教材做个小练习。&lt;/li&gt;
  &lt;li&gt;不用强求把所有东西都记住。现在局域网那么发达，有问题可以直接去网上查。&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Wed, 30 Dec 2015 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/12/30/learn-c.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/12/30/learn-c.html</guid>
        
        
        <category>Programming</category>
        
      </item>
    
      <item>
        <title>编写图形界面程序</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#qt&quot; id=&quot;markdown-toc-qt&quot;&gt;Qt&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#swing&quot; id=&quot;markdown-toc-swing&quot;&gt;Swing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#gtk&quot; id=&quot;markdown-toc-gtk&quot;&gt;Gtk&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pyqtpyside&quot; id=&quot;markdown-toc-pyqtpyside&quot;&gt;PyQt/PySide&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#lazarus&quot; id=&quot;markdown-toc-lazarus&quot;&gt;Lazarus&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#web-&quot; id=&quot;markdown-toc-web-&quot;&gt;Web 技术&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;结论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;买了个 Windows 10 平板电脑，发现不能刷 Linux（因为各种没驱动），然后就遇到了一个问题——如果想随手写一个实用的 GUI 程序，用哪个比较好呢？&lt;/p&gt;

&lt;p&gt;为了方便叙述，先把条件摆上：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;没有被现在的操作系统抛弃。&lt;/li&gt;
  &lt;li&gt;不要太占地方，因为平板一共才 60G。&lt;/li&gt;
  &lt;li&gt;能够快速开发——最起码得有个界面设计器。&lt;/li&gt;
  &lt;li&gt;最好能跨平台，因为我个人 Windows/Linux/Mac 经常换着用。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;条件 1 是针对 VB6 和易语言说的。这两个非常适合随手写随手用（快速应用开发，RAD），可惜它们都过时了。&lt;/p&gt;

&lt;p&gt;条件 2 是针对 Visual Studio 的。VS 非常好用，可惜占空间太大了。即使是 Community 或者 Express 也不能选择只安装单一语言，只能看着不需要的东西在那儿白白占地方。&lt;/p&gt;

&lt;p&gt;虽然很多事情通过一个脚本就能搞定，虽然现在是 Web 的时代，不过有些时候还是有个窗口对话框比较好用，因此我对常见的框架进行了一系列考察。&lt;/p&gt;

&lt;h1 id=&quot;qt&quot;&gt;Qt&lt;/h1&gt;

&lt;p&gt;Qt 是个跨平台的 C++ 框架。&lt;/p&gt;

&lt;p&gt;Qt Creator 集成了代码编辑器、界面设计器等功能，新建一个项目之后就可以拿界面设计器画窗口，而且控件（VB 的叫法）自动实例化，所以不用像 MFC 那样需要手动添加变量，再加上布局管理、信号和槽等机制，非常方便，可以做到随手画随手写然后就随手拿去用。&lt;/p&gt;

&lt;p&gt;不过 Qt 也非常占地方，大约需要 3GB——因为 Windows 没有 C++ 编译器，只能用 Qt 自带的 MinGW，或者把 Visual Studio 装上然后用它的编译器……&lt;/p&gt;

&lt;h1 id=&quot;swing&quot;&gt;Swing&lt;/h1&gt;

&lt;p&gt;Java 是跨平台的——是地球人就知道。所以说，用 Java 写的 GUI 程序也是。&lt;/p&gt;

&lt;p&gt;虽然 Java 的 IDE 非常多，但是并不是所有 IDE 都有界面设计器，所以感觉真的很蛋疼。而且写 Java 代码同样蛋疼。&lt;/p&gt;

&lt;h1 id=&quot;gtk&quot;&gt;Gtk&lt;/h1&gt;

&lt;p&gt;即使抛弃 VS，C# 也是不错的选择。只不过，肯定不是 Windows Forms 框架了（Windows Forms 没开源）。&lt;/p&gt;

&lt;p&gt;很多人都在找 Xamarin Studio 破解版，不过要是开发桌面应用的话，根本不用花钱（其实他们都写 Android 应用，那个可是价格不菲）。至于图形界面，就只好用跨平台的 Gtk# 了。&lt;/p&gt;

&lt;p&gt;Xamarin Studio 的代码编辑和图形界面比 VS 逊色很多，不过它的只有几百兆的体积可比 VS 好多了。因为 Gtk# 也是 .Net 平台（其实是 Mono），所以 .Net 本身的东西（例如&lt;code class=&quot;highlighter-rouge&quot;&gt;System&lt;/code&gt;）都是一样的，不过在 Gtk 那边我得摸着石头过河了，毕竟 Gtk# 不是那么主流。&lt;/p&gt;

&lt;p&gt;备注：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;虽然新建工程里面写着 VB 其实它根本不支持 VB。&lt;/li&gt;
  &lt;li&gt;IDE 本身有一些 bug，例如不能调语言……中英文混合的界面实在蛋疼。&lt;/li&gt;
  &lt;li&gt;如果不需要界面设计器，可以拿着 Xamarin Studio 写 ASP.NET 应用。等开源的那个 ASP.NET 出正式版我就打算试试。&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;pyqtpyside&quot;&gt;PyQt/PySide&lt;/h1&gt;

&lt;p&gt;PyQt = Python + Qt，既然 Python 和 Qt 都是跨平台的，那么 PyQt 当然也是跨平台的。&lt;/p&gt;

&lt;p&gt;PyQt 官网提供了附带 Qt 框架的 PyQt。不过反正都是闲着，而且已经装了 Qt，我就自己编译了——在 Windows 中编译，要事先把 PATH 环境变量设置好，然后做好找不到头文件的精神准备。只要准备充分，不比 Linux 中麻烦多少。&lt;/p&gt;

&lt;p&gt;PyQt 除了把编程语言换成了 Python 以外，其他东西都是一样的。&lt;/p&gt;

&lt;p&gt;不过，Qt 有一个集成的开发环境，PyQt 可没有——PyQt 提供了一个 Qt Designer，但是每次修改都需要自己运行代码生成器 PyUIC，这样就比较麻烦。比方说，如果建立了一个叫做 hello 的窗口（其中有一个按钮），运行了一遍 PyUIC，那么 helloworld 程序就需要这样写——&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;PyQt5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QtWidgets&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;PyQt5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QtCore&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;hello&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HelloWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QtWidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QWidget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Ui_Hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HelloWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setupUi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pushButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clicked&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;say_hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;say_hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;QtWidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QMessageBox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;information&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello, world!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;__main__&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QtWidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HelloWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exec_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;有人说 PyQt 和 Python 没多大关系，全都是 Qt。不过既然放着 C++ 不用，那肯定是冲着 Python 来的嘛——什么时候想给 Python 程序加个高大上的界面的时候就可以考虑一下了（其实还是想借 Python 的光）。&lt;/p&gt;

&lt;h1 id=&quot;lazarus&quot;&gt;Lazarus&lt;/h1&gt;

&lt;p&gt;若干年前，Delphi 是一个很火的编程软件，不知为何，后来逐渐淡出了人们的视线（不过 Delphi 一直在开发，从来未弃坑）。&lt;/p&gt;

&lt;p&gt;Delphi 是要钱的。在这个讲究开源的时代，谁乐意为了一个写 helloworld 级别的程序而掏钱啊。所以 Xojo 也是没必要在乎的。&lt;/p&gt;

&lt;p&gt;但是 Lazarus 就不一样了。它是社区搞的，自由软件，跨平台，而且一直在“山寨” Delphi。所以，直接找本 Delphi 的教材就可以进行学习了。&lt;/p&gt;

&lt;p&gt;Lazarus 和 Delphi 新建工程之后都是直接出现一个窗口，然后就可以直接用鼠标画控件，就像 VB 和易语言那样，非常迅速、方便。只不过 Pascal 的语法和其他语言很不一样（比如赋值符号&lt;code class=&quot;highlighter-rouge&quot;&gt;:=&lt;/code&gt;），所以可能除了那些打过信息学竞赛（不是 ACM）的人听过，其他人都没听过。&lt;/p&gt;

&lt;h1 id=&quot;web-&quot;&gt;Web 技术&lt;/h1&gt;

&lt;p&gt;Web 这么火，肯定有人想把 Web 那一套搬到桌面应用上。这样的例子很多，比如 Atom 和有抄袭嫌疑的 Visual Studio Code。&lt;/p&gt;

&lt;p&gt;这一类框架使用 Node.js、Chromium、HTML5/CSS3/JavaScript——因为 Node.js 跨平台，浏览器跨平台（而且还是钦点的），那么这种应用当然也跨平台了。&lt;/p&gt;

&lt;p&gt;因为我考察这些框架是为了随手写一个能用的程序（想想做网页的过程有多么痛苦），而且带着个大浏览器，编程和调试都很麻烦，所以当然不会拿这种框架来开发本地应用了。&lt;/p&gt;

&lt;p&gt;再次强调，不是因为这种技术不好，而是不够轻巧。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;结论&lt;/h1&gt;

&lt;p&gt;最后的结果是：留下 Qt、PyQt、Xamarin Studio 和 Lazarus。&lt;/p&gt;

&lt;p&gt;Lazarus 启动就能动手编，很随意。在 Windows 中还有 Windows API 用。&lt;/p&gt;

&lt;p&gt;拿 Qt 可以写点像样的东西。（备注：没说拿 Lazarus 不行）&lt;/p&gt;

&lt;p&gt;PyQt……有人说那是 Qt，其实是用来抱 Python 大腿的。&lt;/p&gt;

&lt;p&gt;Xamarin Studio 就留给将来学习 ASP.NET 用了。（如果 Visual Studio Code 不差的话可能还要换着用）&lt;/p&gt;
</description>
        <pubDate>Mon, 23 Nov 2015 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/11/23/gui.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/11/23/gui.html</guid>
        
        
        <category>Others</category>
        
      </item>
    
      <item>
        <title>盗版软件的替代品</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;操作系统&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#windows&quot; id=&quot;markdown-toc-windows&quot;&gt;Windows&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#linux&quot; id=&quot;markdown-toc-linux&quot;&gt;Linux&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#os-x&quot; id=&quot;markdown-toc-os-x&quot;&gt;OS X&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;常用软件&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#office-wordexcelpowerpoint&quot; id=&quot;markdown-toc-office-wordexcelpowerpoint&quot;&gt;Office (Word+Excel+PowerPoint)&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#office&quot; id=&quot;markdown-toc-office&quot;&gt;Office&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#latex&quot; id=&quot;markdown-toc-latex&quot;&gt;LaTeX&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#winrar&quot; id=&quot;markdown-toc-winrar&quot;&gt;WinRAR&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;安全软件&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#adobe-&quot; id=&quot;markdown-toc-adobe-&quot;&gt;Adobe 系列&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;游戏&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;码农&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;文本编辑器&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ide&quot; id=&quot;markdown-toc-ide&quot;&gt;IDE&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;虚拟机&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;专业软件&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#autocad3ds-max&quot; id=&quot;markdown-toc-autocad3ds-max&quot;&gt;AutoCAD、3ds Max&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;数学&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-9&quot; id=&quot;markdown-toc-section-9&quot;&gt;其他&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我认识一个弯的土豪君，他的电脑和手机里只有正版软件。不过，作为穷人和经常换系统的人，所以……我们可以尽量把盗版都清除掉……&lt;/p&gt;

&lt;p&gt;虽然说天朝的网络封锁越来越严重，形势越来越严峻，但是目前还有一点好处，就是个人用盗版没人管。当然，这也是自由软件难以普及的重要原因。要是到了国外，电脑里装了一大堆盗版软件，没有人敢保证&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f46e.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;不会来找你……&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;操作系统&lt;/h1&gt;

&lt;h2 id=&quot;windows&quot;&gt;Windows&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;买笔记本电脑&lt;span class=&quot;blackout&quot;&gt;（没有被卖电脑的咸猪手重装过）&lt;/span&gt;时预装的系统是正版，只不过一般情况下都是些低级版本，比如 Windows 7 Home Basic 或者 Windows 8 中国版什么的。所以尽量别重装——如果不幸地刷了盗版，往下看。&lt;/li&gt;
  &lt;li&gt;如果是大学生，可以用 edu 邮箱注册 Dreamspark，里面有免费的 Windows 服务器系统（甚至连 Data Center 版都免费）。因为是服务器系统，所以装完之后需要稍微配置一下。&lt;/li&gt;
  &lt;li&gt;如果是大学生，学校也可能提供正版系统。其实正版和盗版仅仅是激活方法不同而已……&lt;/li&gt;
  &lt;li&gt;Windows 7/8 等系统通过&lt;code class=&quot;highlighter-rouge&quot;&gt;slmgr.vbs -rearm&lt;/code&gt;（前三次直接用，之后需要改注册表）可以免费用一年。对于有些人来说，肯定不到一年就重装系统了……&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;linux&quot;&gt;Linux&lt;/h2&gt;

&lt;p&gt;没钱买正版 Windows 吧？当然要用 Linux 了——又免费又自由！&lt;/p&gt;

&lt;p&gt;当然，因为天朝有天朝特色，所以总有被迫使用 Windows 的时候——软件版权的保护期是 50 年，你很可能不得不使用盗版，虽然用&lt;code class=&quot;highlighter-rouge&quot;&gt;slmgr.vbs -rearm&lt;/code&gt;可以规避一下。&lt;/p&gt;

&lt;h2 id=&quot;os-x&quot;&gt;OS X&lt;/h2&gt;

&lt;p&gt;土豪直接买苹果。苹果系统是电脑附带的，当然不要钱。&lt;/p&gt;

&lt;p&gt;需要说明的是，尽管系统不要钱，但是按照苹果的许可协议，装到普通电脑上（即黑苹果）也算盗版。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;常用软件&lt;/h1&gt;

&lt;h2 id=&quot;office-wordexcelpowerpoint&quot;&gt;Office (Word+Excel+PowerPoint)&lt;/h2&gt;

&lt;p&gt;Office 都是私有格式。但是由于盗版猖獗，已经成为了事实上的标准。&lt;/p&gt;

&lt;h3 id=&quot;office&quot;&gt;Office&lt;/h3&gt;

&lt;p&gt;如果是大学，学校可能会提供正版 Office。正版和盗版的区别同样是激活方法不同。&lt;/p&gt;

&lt;p&gt;以下是替代品：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;替代品&lt;/th&gt;
      &lt;th&gt;自由软件？&lt;/th&gt;
      &lt;th&gt;支持的操作系统&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;LibreOffice&lt;/td&gt;
      &lt;td&gt;是&lt;/td&gt;
      &lt;td&gt;Windows、Linux、Mac&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;WPS Office*&lt;/td&gt;
      &lt;td&gt;否&lt;/td&gt;
      &lt;td&gt;Windows、Linux&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;永中 Office&lt;/td&gt;
      &lt;td&gt;否&lt;/td&gt;
      &lt;td&gt;Windows、Linux&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Office Online（网站）&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;small&gt;* WPS Office 在 Windows 系统中会耍流氓。&lt;/small&gt;&lt;/p&gt;

&lt;h3 id=&quot;latex&quot;&gt;LaTeX&lt;/h3&gt;

&lt;p&gt;如果是写论文或制作幻灯片，也可以考虑 LaTeX。用 LaTeX 写出的论文非常漂亮，只不过它像一门编程语言，需要稍微学一些语法才能用。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;编译器：
    &lt;ul&gt;
      &lt;li&gt;Windows：&lt;a href=&quot;http://www.ctex.org&quot;&gt;CTEX&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Linux：很可能一个 apt-get 或 yum 就搞定了。&lt;/li&gt;
      &lt;li&gt;Mac：&lt;a href=&quot;http://www.tug.org/mactex/&quot;&gt;MacTex&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;编辑器：CTEX 自带的 WinEdt 需要花钱购买。所以我推荐自由而且好用的 TexStudio，并且它是跨平台的。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;winrar&quot;&gt;WinRAR&lt;/h2&gt;

&lt;p&gt;RAR 是一种私有格式，所以最好不要用——除了 WinRAR，貌似没几个能打包成 RAR 的软件。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;国产压缩软件一大堆，只不过都不自由，有可能刷流氓，而且一般只支持 Windows。&lt;/li&gt;
  &lt;li&gt;很多人推荐 7-zip，这是一个跨平台的自由软件。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;实际上我在 Linux 系统中直接用自带的压缩包管理器——把各种格式的支持都 apt-get 装好就行了。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;安全软件&lt;/h2&gt;

&lt;p&gt;只有 Windows 需要卫士和杀毒软件吧——在 360 的带动下，很多安全软件都免费的了，所以……用 360 国际版就行了，不耍流氓。&lt;/p&gt;

&lt;h2 id=&quot;adobe-&quot;&gt;Adobe 系列&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Photoshop：当然是自由的 GIMP，虽然它没有 Photoshop 好用。&lt;/li&gt;
  &lt;li&gt;Illustrator：Inkscape，虽然它的版本号是以 0 开头的。&lt;/li&gt;
  &lt;li&gt;Flash：Flash 是私有格式所以没有替代品，而且 Flash 在 HTML5 时代已经落后了……&lt;/li&gt;
  &lt;li&gt;Dreamweaver：可以用 Adobe 自家的 Brackets，免费还好用。光会用可视化编辑是不行的。&lt;/li&gt;
  &lt;li&gt;Premiere、After Effects：如果你真是专业人士，那么还是花钱吧。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;需要注意的是，学生可以购买教育版本，这样一个软件可以只花几百块钱就搞定。几百太贵？给你打一折你还不知足？！&lt;/p&gt;

&lt;p&gt;说句实话，其实很多女生用毁图秀秀就够了……&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:smirk:&quot; alt=&quot;:smirk:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f60f.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:smirk:&quot; alt=&quot;:smirk:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f60f.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f60f.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;/p&gt;

&lt;h1 id=&quot;section-3&quot;&gt;游戏&lt;/h1&gt;

&lt;p&gt;很多正版游戏都可以从 Steam 上买。Steam 经常有优惠活动，而且在感恩节、圣诞节等重要节日期间会大幅度打折，所以平时多关注一下，趁打折的时候赶快入手就行了。&lt;/p&gt;

&lt;h1 id=&quot;section-4&quot;&gt;码农&lt;/h1&gt;

&lt;h2 id=&quot;section-5&quot;&gt;文本编辑器&lt;/h2&gt;

&lt;p&gt;Sublime Text、UltraEdit 等软件都要钱，所以当然要换——&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;编辑器&lt;/th&gt;
      &lt;th&gt;自由软件？&lt;/th&gt;
      &lt;th&gt;支持的系统&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Vim*&lt;/td&gt;
      &lt;td&gt;是&lt;/td&gt;
      &lt;td&gt;Windows、Linux、Mac&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Emacs*&lt;/td&gt;
      &lt;td&gt;是&lt;/td&gt;
      &lt;td&gt;Windows、Linux、Mac&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Atom&lt;/td&gt;
      &lt;td&gt;是&lt;/td&gt;
      &lt;td&gt;Windows、Linux、Mac&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Notepad++&lt;/td&gt;
      &lt;td&gt;是&lt;/td&gt;
      &lt;td&gt;Windows&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Visual Studio Code**&lt;/td&gt;
      &lt;td&gt;否&lt;/td&gt;
      &lt;td&gt;Windows、Linux、Mac&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;small&gt;* 虽然 Vim 和 Emacs 分别被称作“编辑器之神”和“神的编辑器”，但是毕竟几十年了，现代人可能不太适应。所以可以用其他编辑器，然后装支持 Vim/Emacs 编辑风格的插件，例如 VsVim。&lt;/small&gt;
&lt;small&gt;** Visual Studio Code 还没出正式版。之所以介绍，是因为 Code 的发布不像（过去的）微软的作风。&lt;/small&gt;&lt;/p&gt;

&lt;h2 id=&quot;ide&quot;&gt;IDE&lt;/h2&gt;

&lt;p&gt;开发团队当然会用正版了。如果是个人开发或个人练习，当然要尽量避免花钱才能用的语言和框架，例如，避免用 Xamarin 开发移动应用程序。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Visual Studio：按照软件协议，如果开发商业软件，必须要花钱购买商业版本。如果个人练习，可以使用免费的社区版（Community）。&lt;/li&gt;
  &lt;li&gt;Qt：和 Visual Studio 一样，开发商业软件需要购买授权，开发自由软件可以用免费的社区版。&lt;/li&gt;
  &lt;li&gt;PyCharm：PyCharm 有社区版和教育版，虽然功能少了很多，但毕竟不要钱。&lt;/li&gt;
  &lt;li&gt;IntelliJ IDEA：也有社区版，虽然功能少。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;由于不同人对 IDE 的依赖程度不同——编程高手可以只用一个配置好的现代化文本编辑器，所以不再详细举例。&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;虚拟机&lt;/h2&gt;

&lt;p&gt;VMware（Workstation 和 Fusion）、Parallels Desktop 都要钱，所以当然用自由的 VirtualBox。&lt;/p&gt;

&lt;p&gt;VMware Player 也可以凑合着用，但是没有 VirtualBox 功能多。&lt;/p&gt;

&lt;h1 id=&quot;section-7&quot;&gt;专业软件&lt;/h1&gt;

&lt;h2 id=&quot;autocad3ds-max&quot;&gt;AutoCAD、3ds Max&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.autodesk.com/education/free-software/all&quot;&gt;学生可以免费用三年&lt;/a&gt;。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;3ds Max：Blender。值得一提的是，有商业公司也在用 Blender。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-8&quot;&gt;数学&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Mathematica：Mathics&lt;/li&gt;
  &lt;li&gt;MATLAB：Octave 和 Scilab。Octave 有两点值得注意，一是 Octave 没有图形界面，需要安装 QtOctave，二是 Octave 语法和 MATLAB 几乎相同。&lt;/li&gt;
  &lt;li&gt;Origin：qtiplot&lt;/li&gt;
  &lt;li&gt;绘图也可以使用 GNUplot。&lt;/li&gt;
  &lt;li&gt;统计用 R 语言，对应的开发环境有 RStudio。&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-9&quot;&gt;其他&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://alternativeto.net&quot;&gt;alternativeTo&lt;/a&gt; 是一个专门收集商业软件替代品的网站。因为里面有 ajax.googleapis.com，所以可能半天刷不出页面（你懂得）。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Synergy：Synergy 是在多个电脑间共享键盘和鼠标的软件。它是一个收费的自由软件，所以你完全可以把源代码拉过来然后自己破解……&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 30 Oct 2015 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/10/30/genuine.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/10/30/genuine.html</guid>
        
        
        <category>Others</category>
        
      </item>
    
      <item>
        <title>［科普］网络故障</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;备注&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;网络故障的原因&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;如果一切正常&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dns-poisoning&quot; id=&quot;markdown-toc-dns-poisoning&quot;&gt;第一种故障 (DNS poisoning)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ip-block&quot; id=&quot;markdown-toc-ip-block&quot;&gt;第二种故障 (IP block)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#keyword-filter&quot; id=&quot;markdown-toc-keyword-filter&quot;&gt;第三种故障 (Keyword filter)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;其他影响&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;解决故障的思路&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#https&quot; id=&quot;markdown-toc-https&quot;&gt;HTTPS&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ipv6&quot; id=&quot;markdown-toc-ipv6&quot;&gt;IPv6&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;鸡毛信&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;规避风险&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#protocol-detecting&quot; id=&quot;markdown-toc-protocol-detecting&quot;&gt;Protocol detecting&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;探测&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;办假证&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-9&quot; id=&quot;markdown-toc-section-9&quot;&gt;不为人知的事情&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-10&quot; id=&quot;markdown-toc-section-10&quot;&gt;其他&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;为什么有些网站，例如百度、新浪微博和人人网&lt;span class=&quot;blackout&quot;&gt;所抄袭的对象&lt;/span&gt;，它们明明就在那里，但是就是进不去？&lt;/p&gt;

&lt;p&gt;难道是网络故障吗？原因大家&lt;s&gt;肯定都懂得&lt;/s&gt;其实不一定懂，因此本文将科普一些更详细的知识。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;备注&lt;/h1&gt;

&lt;p&gt;为了方便叙述，后文将把那个你懂得的东西叫做&lt;s&gt;墙&lt;/s&gt;出口检测设备。&lt;/p&gt;

&lt;p&gt;国内的网络连接不经过这个设备，只有出国或者回国的时候才会经过这个设备。在国内根本不需要类似的设备&lt;span class=&quot;blackout&quot;&gt;只需要一些叔叔就能彻底解决问题了&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;“出口检测设备”大约于 1998 年成立，作者是大名鼎鼎的方&lt;span class=&quot;blackout&quot;&gt;滨兴&lt;/span&gt;校长。&lt;/p&gt;

&lt;p&gt;那么设备由谁主管呢？这个没有人知道，但是他不告诉我们到底是谁。我猜这个人应该姓阎&lt;span class=&quot;blackout&quot;&gt;，因为我们曾经派了一些人去打听相关的事儿，但是他们都从来没有回来过&lt;/span&gt;。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;网络故障的原因&lt;/h1&gt;

&lt;p&gt;回到正题，为什么有些网站进不去？原因有很多种，本文将一一介绍。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;如果一切正常&lt;/h2&gt;

&lt;p&gt;当我们要去一个地方的时候，例如北京邮电大学&lt;small&gt;（相当于“域名”）&lt;/small&gt;，我们当然需要知道地址，或者知道“怎么走”&lt;small&gt;（也就是“路由”）&lt;/small&gt;才能过去。&lt;/p&gt;

&lt;p&gt;[% callout %]
北京邮电大学&lt;/p&gt;

&lt;p&gt;北京邮电大学那么小，小到不比你的高中校园大多少的程度，为什么还要拿它举例子呢？因为它是革命圣地——出口检测设备的诞生地！
[% endcallout %]&lt;/p&gt;

&lt;p&gt;当我们第一次去北京的时候，我们当然需要问路&lt;small&gt;（“DNS 查询”）&lt;/small&gt;。问路的目标有很多——你可以问&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f46e.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;叔叔，也可以问路边开小卖店的，当然也可以直接给北京邮电大学打电话。这些不同的人，就相当于不同的 DNS 服务器。&lt;small&gt;（因此有的时候能登上 QQ 但是打不开网页，就是因为你想找叔叔问路但是周围没有叔叔，所以你当然要换个人来问——换 DNS 服务器。）&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;如果&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f46e.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;叔叔或者什么人知道北京邮电大学在哪儿，他就会回答你，并且告诉你北京邮电大学在“北京市海淀区西土城路 10 号”&lt;small&gt;（正确的 IP 地址）&lt;/small&gt;。&lt;/p&gt;

&lt;p&gt;当然找的时候就是“从北京站乘坐地铁 2 号线，到达车公庄站，从地铁东南口出，步行约160米，到达车公庄北站，乘坐 632 到达明光桥北站，向北步行即可到达北京邮电大学西门”&lt;small&gt;（路由）&lt;/small&gt;。因为地址是正确的，所以只要按照这条路线走，就肯定能找到北京邮电大学。&lt;/p&gt;

&lt;h2 id=&quot;dns-poisoning&quot;&gt;第一种故障 (DNS poisoning)&lt;/h2&gt;

&lt;p&gt;事实上，有些北京人比较排外&lt;span class=&quot;blackout&quot;&gt;或者他们是已经知道你的底细的北京朝阳群众&lt;/span&gt;，尤其排斥东北人，觉得你不应该去北京邮电大学&lt;span class=&quot;blackout&quot;&gt;打出口检测设备的主意&lt;/span&gt;，所以，当你问路的时候会告诉你一个错误的地方，例如“北京市顺化区长青路45号”&lt;small&gt;（很明显是一个根本不存在的 IP 地址）&lt;/small&gt;。近些年来，他们也会告诉你一个貌似正确，实际上并不正确的地方，如“北京市昌平区府学路27号”&lt;small&gt;（中国政法大学——错误但确实存在的 IP 地址）&lt;/small&gt;。&lt;/p&gt;

&lt;p&gt;很多网站上不去，原因就是这么&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:hankey:&quot; alt=&quot;:hankey:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f4a9.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:hankey:&quot; alt=&quot;:hankey:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f4a9.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f4a9.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;简单。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/dnspoisoning.jpg&quot; alt=&quot;dns&quot; /&gt;
&lt;br /&gt;&lt;small&gt;别有用心的路牌——就是这个意思&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;那么，直接给北邮打电话&lt;small&gt;（把 DNS 服务器设置成国外的）&lt;/small&gt;不就可以知道准确的地址了吗？但是很遗憾，出口检测设备的技术已经高到可以直接换地址的程度了——北邮的工作人员告诉你是“海淀区”，但是你接电话的时候听到的仍然是“昌平区”。&lt;/p&gt;

&lt;p&gt;因此有些网站需要自己找到正确的地址才能访问。&lt;/p&gt;

&lt;p&gt;[% callout %]
判断方法&lt;/p&gt;

&lt;p&gt;可以使用 nslookup 命令查询和判断是否有人误导你，给你指出了错误的路，例如&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nslookup www.baidu.com
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;如果想测试其他 DNS 服务器，使用&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nslookup www.baidu.com 114.114.114.114
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;将得到的 IP 结果到百度上查一查，看看到底是否靠谱。一般情况下，只要那个网站上不去，基本上 IP 都是不靠谱的。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
怎样才能找到呢？&lt;/p&gt;

&lt;p&gt;在线 nslookup 网站（online nslookup）那么多，为什么不找一个靠谱的查一查呢？&lt;/p&gt;

&lt;p&gt;查完记得 Ping 一下，因为……
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;ip-block&quot;&gt;第二种故障 (IP block)&lt;/h2&gt;

&lt;p&gt;毕竟问路效果有限&lt;small&gt;（如果自己知道地址就可以自己去找了）&lt;/small&gt;，所以为了取得更好的效果，可以直接把路拆了。这种事儿铁道游击队做得太多了。&lt;/p&gt;

&lt;p&gt;所以，只要把通向北邮的道路全部拆掉&lt;small&gt;（IP block）&lt;/small&gt;，即使你知道北邮在哪儿你照样过不去。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/ipblock.jpg&quot; alt=&quot;ip&quot; /&gt;
&lt;br /&gt;&lt;small&gt;百度就在路的那面，有本事过去啊&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;[% callout %]
判断方法&lt;/p&gt;

&lt;p&gt;很简单，ping 一下就知道有没有路了。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ping 192.168.1.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;如果想知道详情，可使用 traceroute（tracert）命令。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;有的时候，路并没有完全拆毁，只是不太好走而已。&lt;/p&gt;

&lt;h2 id=&quot;keyword-filter&quot;&gt;第三种故障 (Keyword filter)&lt;/h2&gt;

&lt;p&gt;还记得多少年前用百度&lt;span class=&quot;blackout&quot;&gt;所抄袭的那个网站&lt;/span&gt;搜索一点东西，搜着搜着就“连接已&lt;s&gt;重置&lt;/s&gt;充值”了吧？&lt;/p&gt;

&lt;p&gt;普通的网页传输采用 HTTP 协议。这就好比上街的时候不拿兜子或背包，直接拿着东西走——你拿了什么，路人&lt;span class=&quot;blackout&quot;&gt;和朝阳群众&lt;/span&gt;一目了然。&lt;/p&gt;

&lt;p&gt;[% callout %]
明文传输&lt;/p&gt;

&lt;p&gt;在网页里输入密码，密码看不见，对吧？提交表单，提交内容看不见，对吧？在此必须要提醒你，其实挡上了也是明文——防君子不防小人而已。&lt;/p&gt;

&lt;p&gt;当然，HTTP 也没危险到任何人都能截获，要不然人们就不会用这个协议了。但是，如果一个别有用心的人在你的网络访问的路上设了关卡，例如钓鱼热点，那么你的安全将不复存在，因为明文传输意味着他可以看得清清楚楚。就像下图一样：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/http.png&quot; alt=&quot;http&quot; /&gt;
[% endcallout %]&lt;/p&gt;

&lt;p&gt;2002 年诞生了一项新技术&lt;span class=&quot;blackout&quot;&gt;北京朝阳群众技术&lt;/span&gt;：&lt;/p&gt;

&lt;p&gt;如果你拿的是正常的东西，那么在大街上走路的时候当然不会有问题。但是，如果你拿了一些不该拿的东西，例如&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:bomb:&quot; alt=&quot;:bomb:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f4a3.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:bomb:&quot; alt=&quot;:bomb:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f4a3.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f4a3.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;或者一本封面上阿姨没穿衣服的书&lt;small&gt;（传输过程中出现关键词）&lt;/small&gt;，那么有人&lt;span class=&quot;blackout&quot;&gt;朝阳群众&lt;/span&gt;自然有事情做了——请&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f46e.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;叔叔来找你&lt;small&gt;（触发关键词，连接中断）&lt;/small&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/telescreen.jpg&quot; alt=&quot;telescreen&quot; /&gt;
&lt;br /&gt;&lt;small&gt;一点遮挡都没有，老大哥当然可以看得清清楚楚&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;需要注意的是，即使你找到了正确的路，但是你穿着印有星星月亮&lt;span class=&quot;blackout&quot;&gt;恐怖组织标志&lt;/span&gt;和一些虫子&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:bug:&quot; alt=&quot;:bug:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f41b.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:bug:&quot; alt=&quot;:bug:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f41b.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f41b.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;&lt;span class=&quot;blackout&quot;&gt;阿拉伯文&lt;/span&gt;的衣服到处乱转，&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:cop:&quot; alt=&quot;:cop:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f46e.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f46e.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;叔叔当然会找你&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:new_moon_with_face:&quot; alt=&quot;:new_moon_with_face:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f31a.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:new_moon_with_face:&quot; alt=&quot;:new_moon_with_face:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f31a.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f31a.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;。&lt;small&gt;（即 IP 正确，但是因为 HTTP 协议中的“Host: ?????.com”是明文，所以同样触发了关键词。）&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/terrorist.jpg&quot; alt=&quot;terrorist&quot; /&gt;
&lt;br /&gt;&lt;small&gt;暴露了自己的恐怖分子的身份，那么随便几个群众都能把你制服&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;好在目前 HTTPS 协议不受此影响&lt;small&gt;（上街的时候把东西放背包里，谁知道你拿了什么？）&lt;/small&gt;因此对于采用 HTTPS 的网站，出口检测设备需要采取其他手段。&lt;/p&gt;

&lt;p&gt;[% callout %]
安全建议&lt;/p&gt;

&lt;p&gt;尽量不要连接公共 Wifi。如果必须要用，建议用 VPN（仅仅是为了加密连接，不要想太多）。因为即使你可以保证只用 HTTPS，但是你要访问的网站和你所用的软件不能。
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;其他影响&lt;/h2&gt;

&lt;p&gt;凡是出国途中遇到问题，都是上面提到的原因——&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;有些时候苹果 App Store 或者 Windows 应用商店会经常出现故障。&lt;/li&gt;
  &lt;li&gt;很多外国网页加载速度奇慢无比，因为负责网页样式的代码都被放到那些“看起来不存在”的地方里面了。所以，在网页卡着的时候，浏览器事实上已经知道该输出什么文字，只不过不知道应该以什么颜色、样式输出&lt;span class=&quot;blackout&quot;&gt;浏览器哪儿知道什么出口检测设备&lt;/span&gt;，所以当然是一片空白（或者是一堆没有样式的文字）。&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;section-4&quot;&gt;解决故障的思路&lt;/h1&gt;

&lt;p&gt;其实大家最关心的是，怎样才能解决网络故障。下面是一点点提示：&lt;/p&gt;

&lt;h2 id=&quot;https&quot;&gt;HTTPS&lt;/h2&gt;

&lt;p&gt;感谢爱德华·斯诺登，他让我们在解决某些问题方面变得更加轻松——2014 年，国外很多主要网站已经全面采用 HTTPS。国内有一部分网站也采用了 HTTPS。&lt;/p&gt;

&lt;p&gt;国内为什么不普及呢？估计有两个原因：一是证书太贵了，二是太麻烦而且还没有用&lt;span class=&quot;blackout&quot;&gt;反正一切都是国家的&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;HTTPS 有什么好处呢？接着前面的例子讲——&lt;/p&gt;

&lt;p&gt;我们说，采用 HTTP 传输就好比上大街直接拿着东西走，所以拿着什么别人看得清清楚楚。&lt;/p&gt;

&lt;p&gt;HTTPS 就相当于上街时背个包，把东西放包里面（加密）。怎么装的只有双方知道，所以路人&lt;span class=&quot;blackout&quot;&gt;包括朝阳群众&lt;/span&gt;当然不知道你带了什么东西，也管不了你。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/87f159bf-d869-4345-9f31-0553e80b65f2.jpg&quot; alt=&quot;a&quot; /&gt;
&lt;br /&gt;&lt;small&gt;我什么都不知道&lt;span class=&quot;blackout&quot;&gt;。谁知道包里面是不是炸弹呢&lt;/span&gt;——这就是 HTTPS&lt;a href=&quot;http://epaper.cqcb.com/html/2014-07/04/content_121984.htm&quot;&gt;（图片来源）&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;自从 HTTPS 大规模普及，事实上已经成为了一个解决网络故障的原理。&lt;/p&gt;

&lt;h2 id=&quot;ipv6&quot;&gt;IPv6&lt;/h2&gt;

&lt;p&gt;由于 IPv6 是一个全新的协议，所以出口检测设备拿它也没办法。没准 IPv6 就是这个原因才没有被大规模推广。&lt;/p&gt;

&lt;p&gt;但是，注意，这不代表使用 IPv6 就可以万事大吉了——因为访问 IPv6 网站也要像前文提到的那样去“问路”，所以得到的结果照样有可能是错的。&lt;/p&gt;

&lt;p&gt;你仍然需要知道网站的正确地址才能访问。这样的话，如果 IPv4 地址是可以使用的，IPv4 和 IPv6 就没有太大区别了。不过 IPv6 速度更快而且不受干扰。&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
IPv6 隧道&lt;/p&gt;

&lt;p&gt;IPv6 没问题对吧？但是隧道可不是——隧道是不加密的，该断当然就断了。所以不要拿隧道当梯子使！
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
4+6=2&lt;/p&gt;

&lt;p&gt;知道那个可以用来屏蔽广告&lt;span class=&quot;blackout&quot;&gt;其实是用来出国&lt;/span&gt;的 Hosts 吧？其实，你可以同时给一个域名指定多个 IP——既有 IPv4 又有 IPv6！
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;鸡毛信&lt;/h2&gt;

&lt;p&gt;这是一个重点。&lt;/p&gt;

&lt;p&gt;知道鸡毛信的故事吧？在抗战时期，我们当然会用一些暗语来与自己人交流，尤其是地下工作者，要不然……采用类似的方法，即使见到鬼子面了，情报也不会被鬼子&lt;span class=&quot;blackout&quot;&gt;直接&lt;/span&gt;截获。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/encrypt.jpg&quot; alt=&quot;a&quot; /&gt;
&lt;br /&gt;&lt;small&gt;太君只能看到一群羊——谁知道羊身上还藏着情报&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;VPN、G&lt;span class=&quot;blackout&quot;&gt;oAgen&lt;/span&gt;t、S&lt;span class=&quot;blackout&quot;&gt;hadowsSoc&lt;/span&gt;ks&lt;span class=&quot;blackout&quot;&gt;、目油们&lt;/span&gt;等都是这样的东西&lt;span class=&quot;blackout&quot;&gt;，只不过 VPN 只要能和有关部门合作就合法，而其他的都不合法&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;我们建议，如果你真的是为了学术用途，建议你花钱买个合法的 VPN&lt;span class=&quot;blackout&quot;&gt;，因为合法的 VPN 不会被++但是会记录你的浏览记录&lt;/span&gt;。又稳定又方便。&lt;/p&gt;

&lt;h1 id=&quot;section-6&quot;&gt;规避风险&lt;/h1&gt;

&lt;p&gt;知道如何解决网络故障，但是也需要知道怎样规避风险。&lt;/p&gt;

&lt;h2 id=&quot;protocol-detecting&quot;&gt;Protocol detecting&lt;/h2&gt;

&lt;p&gt;智能家居从墙开始——&lt;/p&gt;

&lt;p&gt;有了机器学习技术作为支撑，出口检测设备已经能够识别各种 VPN、Gt、Sks 等流量。至于会不会++那些流量，全凭设备的心情&lt;span class=&quot;blackout&quot;&gt;，可能是有一个阈值，只要流量足够大就切断&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;&lt;small&gt;鸡毛信送多了，鬼子当然知道羊是用来送信的了，只不过，想不想“三光”全凭心情。&lt;/small&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-7&quot;&gt;探测&lt;/h2&gt;

&lt;p&gt;你以为墙只是一种用来支撑房子的东西吗？那是因为你没看过正大综艺《墙来了》！&lt;/p&gt;

&lt;p&gt;《墙来了》里的墙就可以主动地找你。可能出口检测设备就是受了 &lt;s&gt;CCAV&lt;/s&gt;CCTV 的启发，也开发了主动找你的功能。&lt;/p&gt;

&lt;p&gt;有关事项 Tor 项目已经做了深入研究，我们就不研究了。&lt;/p&gt;

&lt;h2 id=&quot;section-8&quot;&gt;办假证&lt;/h2&gt;

&lt;p&gt;见过路边“办证”的小广告吧？&lt;/p&gt;

&lt;p&gt;别以为小广告都是骗人的——出口检测设备也找过这些办证的&lt;span class=&quot;blackout&quot;&gt;，要不然为什么总有人想着要删除 CNNIC CA 呢&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;因此，在访问网站时，如果浏览器提示“证书无效”，那么你一定要停下来，不要再继续，因为假证可以用来监听和干预！&lt;/p&gt;

&lt;p&gt;[% callout %]
12306 除外&lt;/p&gt;

&lt;p&gt;12306 的证书是自己给自己颁发的，所以当然是假证了。自己制作证书，省钱啊&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:wink:&quot; alt=&quot;:wink:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f609.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:wink:&quot; alt=&quot;:wink:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f609.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f609.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;！
[% endcallout %]&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/fakecert1.png&quot; alt=&quot;a&quot; /&gt;
&lt;br /&gt;&lt;small&gt;千万不要继续，更不要信任假证书！&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/fakecert2.png&quot; alt=&quot;a&quot; /&gt;
&lt;br /&gt;&lt;small&gt;因为一旦继续，老大哥就可以知道你在看什么了（没有证书就看不到）&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-26-gfw2/fakecert3.png&quot; alt=&quot;a&quot; /&gt;
&lt;br /&gt;&lt;small&gt;甚至对你恶搞一下&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;[% callout %]
关于 CNNIC&lt;/p&gt;

&lt;p&gt;因为 CNNIC 黑历史比较多&lt;span class=&quot;blackout&quot;&gt;，没准 CNNIC 和某些设备是一伙儿的&lt;/span&gt;，所以大家都不太相信他们。2015 年 3 月，CNNIC 的一个在埃及的中间证书颁发机构伪造了 G&lt;span class=&quot;blackout&quot;&gt;mail&lt;/span&gt; 的证书，结果很快 Chrome、Firefox、Apple 等就不再信任 CNNIC CA 了。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;section-9&quot;&gt;不为人知的事情&lt;/h1&gt;

&lt;p&gt;很多人以为出口检测设备只是一个检测设备，其实它还是一个非常先进的武器，俗称“大炮”。&lt;/p&gt;

&lt;p&gt;因为中国除了人多就是人多，所以，只要随便找个大流量网站（比如 &lt;s&gt;12306&lt;/s&gt;百度统计），稍微加点攻击的代码，那么——绝对是难以招架的 DDoS&amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:scream:&quot; alt=&quot;:scream:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f631.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:scream:&quot; alt=&quot;:scream:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f631.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f631.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt;！&lt;/p&gt;

&lt;p&gt;[% callout %]
所以说……&lt;/p&gt;

&lt;p&gt;以后想摧毁哪个反&lt;span class=&quot;blackout&quot;&gt;共&lt;/span&gt;华组织的网站，只要在春节之前往 12306 网站里加入攻击代码……春节快乐！
[% endcallout %]&lt;/p&gt;

&lt;p&gt;由于潜力巨大，2015 年 3 月末，设备首次对 GitHub 小试牛刀。这次试验取得了&lt;span class=&quot;blackout&quot;&gt;白白激怒了全世界软件开发人员，没有任何&lt;/span&gt;实际效果。&lt;/p&gt;

&lt;p&gt;[% callout %]
补充说明&lt;/p&gt;

&lt;p&gt;由于对百度代码的修改作用发生在出口检测设备上面，因此国内访问百度并不会产生类似的攻击效果。在 GitHub 遭攻击之后不久，百度所有产品差不多都采用了 HTTPS&lt;span class=&quot;blackout&quot;&gt;，这样百度就不会再次被当作武器来使用了&lt;/span&gt;。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;section-10&quot;&gt;其他&lt;/h1&gt;

&lt;p&gt;以下方法从技术上讲都是可以实现的&lt;span class=&quot;blackout&quot;&gt;，有些是出口检测设备曾经用过的&lt;/span&gt;，只不过现在设备没大规模使用而已。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;不是彻底把路弄断，而是隔几分钟就开一下，给人一种不稳定的感觉。&lt;/li&gt;
  &lt;li&gt;禁止发邮件。&lt;/li&gt;
  &lt;li&gt;直接切断连接。&lt;/li&gt;
  &lt;li&gt;发现指定证书后切断连接。（因为公钥未加密）&lt;/li&gt;
  &lt;li&gt;切断指定端口，如 22、443……&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sat, 26 Sep 2015 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/09/26/g-f-w.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/09/26/g-f-w.html</guid>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>黑苹果安装心得</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;准备&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;买电脑&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;做好思想准备&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;论坛&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;认识一些概念&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;确定自己电脑能不能安装&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;虚拟机&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;笔记本&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;安装&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-9&quot; id=&quot;markdown-toc-section-9&quot;&gt;0. 准备&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-10&quot; id=&quot;markdown-toc-section-10&quot;&gt;1. 下载安装盘&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-11&quot; id=&quot;markdown-toc-section-11&quot;&gt;2. 将下载好的安装盘制作成启动盘&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-12&quot; id=&quot;markdown-toc-section-12&quot;&gt;3. 通过启动盘启动安装盘&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-13&quot; id=&quot;markdown-toc-section-13&quot;&gt;启动器&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#kext&quot; id=&quot;markdown-toc-kext&quot;&gt;驱动 (Kext)&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-14&quot; id=&quot;markdown-toc-section-14&quot;&gt;4. 运行安装程序&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-15&quot; id=&quot;markdown-toc-section-15&quot;&gt;5. 完成系统安装&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-16&quot; id=&quot;markdown-toc-section-16&quot;&gt;6. 安装驱动&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-17&quot; id=&quot;markdown-toc-section-17&quot;&gt;网卡&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-18&quot; id=&quot;markdown-toc-section-18&quot;&gt;显卡&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-19&quot; id=&quot;markdown-toc-section-19&quot;&gt;声卡&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-20&quot; id=&quot;markdown-toc-section-20&quot;&gt;触摸板&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-21&quot; id=&quot;markdown-toc-section-21&quot;&gt;电池电量&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#usb-30&quot; id=&quot;markdown-toc-usb-30&quot;&gt;USB 3.0&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dsdt&quot; id=&quot;markdown-toc-dsdt&quot;&gt;6.5 DSDT&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-22&quot; id=&quot;markdown-toc-section-22&quot;&gt;亮度调节&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-23&quot; id=&quot;markdown-toc-section-23&quot;&gt;电池电量&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-24&quot; id=&quot;markdown-toc-section-24&quot;&gt;原生电源管理&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-25&quot; id=&quot;markdown-toc-section-25&quot;&gt;7. 安装软件，开始享受新系统&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-26&quot; id=&quot;markdown-toc-section-26&quot;&gt;其他问题&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-27&quot; id=&quot;markdown-toc-section-27&quot;&gt;系统升级&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#imessage--facetime&quot; id=&quot;markdown-toc-imessage--facetime&quot;&gt;iMessage 和 FaceTime&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#iwork--imovie&quot; id=&quot;markdown-toc-iwork--imovie&quot;&gt;iWork 和 iMovie&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ntfs-&quot; id=&quot;markdown-toc-ntfs-&quot;&gt;挂载 NTFS 磁盘&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-28&quot; id=&quot;markdown-toc-section-28&quot;&gt;维护相关&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#recovery-hd&quot; id=&quot;markdown-toc-recovery-hd&quot;&gt;Recovery HD&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-29&quot; id=&quot;markdown-toc-section-29&quot;&gt;重装&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section-30&quot; id=&quot;markdown-toc-section-30&quot;&gt;调整分区容量&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;鉴于周围有很多人想体验体验苹果系统，作为一个成功用上黑苹果的人，我觉得应该写点什么了。&lt;/p&gt;

&lt;p&gt;[% callout %]
什么是黑苹果&lt;/p&gt;

&lt;p&gt;黑苹果就是在自己（非苹果品牌）电脑上面安装的苹果系统。因为苹果官方不允许这样做，所以对于初学者来说，黑苹果的安装绝对比其他系统困难很多。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;准备&lt;/h1&gt;

&lt;h2 id=&quot;section-1&quot;&gt;买电脑&lt;/h2&gt;

&lt;p&gt;如果你还没买电脑，建议咨询咨询已经装过黑苹果的人，尽量买一台配置接近苹果的电脑。&lt;span class=&quot;blackout&quot;&gt;土豪们可以直接买苹果电脑，反正 Pro 才一万多点，比戴尔的外星人便宜多了，而且还省了高达九成九的麻烦。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;绝对不要：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;买联想或惠普的电脑。除非你想知道刷机刷成砖的样子。&lt;/li&gt;
  &lt;li&gt;买处理器是 AMD 的电脑。处理器是 AMD，意味着你和黑苹果无缘了。&lt;span class=&quot;blackout&quot;&gt;其实 AMD 也能装，就是麻烦事儿多点。&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-2&quot;&gt;做好思想准备&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;如果你是从头开始，请做好&lt;strong&gt;长期斗争&lt;/strong&gt;的准备！&lt;/p&gt;

    &lt;p&gt;如果事情一切顺利，大约需要一个星期的时间。如果事情不顺，可能得花几个月时间才能弄得比较好用。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;安装双系统（3 个系统、4 个系统……）不会对电脑造成破坏，&lt;span class=&quot;blackout&quot;&gt;除非你脑残或手残。&lt;/span&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-3&quot;&gt;论坛&lt;/h2&gt;

&lt;p&gt;请到&lt;a href=&quot;http://bbs.pcbeta.com&quot;&gt;远景论坛&lt;/a&gt;上面注册账号。这不是广告，而是各路网友智慧的结晶。&lt;/p&gt;

&lt;p&gt;注册之后请大致扫一眼&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-1516108-1-1.html&quot;&gt;这个目录&lt;/a&gt;。以后我们会经常和这个论坛打交道。&lt;/p&gt;

&lt;p&gt;接下来本文会贴一些来自远景论坛的链接。有的需要阅读权限或下载附件，所以你当然要注册账号。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;认识一些概念&lt;/h2&gt;

&lt;p&gt;如果对以下问题不感冒，那么请不要拿黑苹果练手。&lt;span class=&quot;blackout&quot;&gt;先好好练习如何装 Windows 系统，练会了再回来。&lt;/span&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;苹果系统最新版本是多少？&lt;/li&gt;
  &lt;li&gt;装过系统吗？&lt;/li&gt;
  &lt;li&gt;你的电脑是 UEFI/Legacy、GPT/MBR？&lt;/li&gt;
  &lt;li&gt;什么是引导？&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-5&quot;&gt;确定自己电脑能不能安装&lt;/h2&gt;

&lt;h3 id=&quot;section-6&quot;&gt;虚拟机&lt;/h3&gt;

&lt;p&gt;只要电脑处理器不是 AMD 的，基本上没问题。&lt;span class=&quot;blackout&quot;&gt;可以直接下载一个已经装好的映像。&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-7&quot;&gt;笔记本&lt;/h3&gt;

&lt;p&gt;只要不是 AMD 处理器，就可以看&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-1516108-1-1.html&quot;&gt;这里&lt;/a&gt;。如果 CPU 和显卡符合要求，那么可以继续了。&lt;/p&gt;

&lt;p&gt;苹果系统不支持 AMD 处理器。&lt;span style=&quot;background-color: #111&quot;&gt;可以通过更换破解之后的内核来安装。因为破解有一定的隐患（例如不能直接升级），所以说，即使能成功，我也不建议在 AMD 处理器电脑上安装。&lt;/span&gt;&lt;/p&gt;

&lt;h1 id=&quot;section-8&quot;&gt;安装&lt;/h1&gt;

&lt;p&gt;[% callout style=success %]
提醒&lt;/p&gt;

&lt;p&gt;在正式按照论坛教程安装系统之前，先看这里——&lt;/p&gt;

&lt;p&gt;装系统，不管是安装哪个系统（Windows/Linux/黑苹果），思路都是一样的：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;下载安装盘&lt;/li&gt;
  &lt;li&gt;将下载好的安装盘制作成启动盘&lt;/li&gt;
  &lt;li&gt;通过启动盘启动安装盘&lt;/li&gt;
  &lt;li&gt;运行安装程序&lt;/li&gt;
  &lt;li&gt;完成系统安装&lt;/li&gt;
  &lt;li&gt;安装驱动&lt;/li&gt;
  &lt;li&gt;安装软件，开始使用新系统&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;[% endcallout %]&lt;/p&gt;

&lt;p&gt;由于 Windows 或比较流行的 Linux 发行版都希望用户能够轻松地把系统装到自己电脑上，所以，即使有些概念不太好理解，最终还是可以不太费力地把系统装好。&lt;/p&gt;

&lt;p&gt;而苹果公司并不希望用户在普通电脑上面安装苹果，所以以上每一步操作都有着极大的障碍。而且，苹果是硬件公司，你的电脑很可能因为与苹果硬件不匹配而在半路出现问题！&lt;/p&gt;

&lt;p&gt;装黑苹果感觉很复杂，原因就在此。&lt;/p&gt;

&lt;p&gt;接下来将对以上几步进行讲解，并用 Windows 作对比。希望大家理解之后再去看论坛的教程。&lt;/p&gt;

&lt;h2 id=&quot;section-9&quot;&gt;0. 准备&lt;/h2&gt;

&lt;p&gt;由于黑苹果的特殊性，我们应该做一些准备：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;把电脑硬盘给苹果划出一个分区。如果只想体验体验，那么 50GB 足矣。如果日后可能要作为日常系统使用（事实上很可能如此），并且要安装一些大型软件&lt;span class=&quot;blackout&quot;&gt;例如黄片&lt;/span&gt;，那么就要多分一些，因为苹果系统分区基本上没办法改容量。&lt;/li&gt;
  &lt;li&gt;准备一个 PE 启动盘。一旦后悔，可以随时把电脑恢复原状。&lt;/li&gt;
  &lt;li&gt;虽然事实上只用 Linux 系统也能把黑苹果装好，但是我建议初学者在 Windows 里操作。因为在 Linux 中一旦出问题，只有那高高在上的&lt;a href=&quot;http://cn.uncyclopedia.wikia.com/没有人&quot;&gt;没有人&lt;/a&gt;才会来救你。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;[% callout %]
Linux&lt;/p&gt;

&lt;p&gt;不建议你用 Linux，是因为很难找到一个在 Linux 中刻录 dmg/cdr 格式的软件。如果你已经刻了一个安装盘，或者找到刻录软件了，您请便。只有刻启动盘、安装启动器和处理故障的时候才需要电脑上原有的系统。&lt;/p&gt;

&lt;p&gt;Linux，装上 HFS+ 文件系统支持之后就可以读写 HFS+ 分区了，而且是免费的。
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-10&quot;&gt;1. 下载安装盘&lt;/h2&gt;

&lt;p&gt;[% callout %]
Windows 是这样的&lt;/p&gt;

&lt;p&gt;Windows 的安装盘是 ISO 格式的（我从来不考虑 GHO），所以可以很轻松地刻录成安装盘。即使不想刻录，基于 U 盘的解决方案也有很多。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;而苹果是这样的——苹果安装盘的映像是 dmg 或 cdr 格式的。不管是哪种，能够读取的软件都很少。而且普通电脑是无法直接拿来引导！&lt;/p&gt;

&lt;p&gt;在远景论坛上面，苹果系统的安装盘一般分三种：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;原版——基于原版制作的安装盘。一般不是“彻底”的原版，而是进行了一些简单的加工，可以用于安装，因为“纯正”的原版在普通电脑上面根本用不了。&lt;/li&gt;
  &lt;li&gt;懒人版——经过破解，支持了 MBR 分区（因为苹果系统只支持 EFI+GPT）。除此之外，不要以为懒人版有什么额外的东西了。&lt;/li&gt;
  &lt;li&gt;整合版——整合了一些驱动。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;那么如何选择安装盘？这取决于电脑的配置情况——&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;UEFI+GPT 优先选择原版。这是最接近原生苹果的搭配。&lt;/li&gt;
  &lt;li&gt;Legacy+MBR 当然只能选择懒人版。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;[% callout %]
个人建议&lt;/p&gt;

&lt;p&gt;我的建议是，如果电脑支持而且你会操作，那么就先把电脑转换成 UEFI+GPT，因为在 MBR 条件下把系统装好，&lt;strong&gt;进行系统升级会带来很大麻烦&lt;/strong&gt;，而 UEFI+GPT 可以大大方方地升级而不用担心出错。不过也可以在装完之后再转。&lt;a href=&quot;/2014/12/18/legacy-mbr-to-uefi-gpt-hackintosh/&quot;&gt;这里&lt;/a&gt;是一个装完之后才转换的教程。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
看不懂？&lt;/p&gt;

&lt;p&gt;即使看不懂，也要清楚自己电脑到底是 UEFI+GPT，还是 Legacy+MBR，或者是什么方案，否则后面实在无法继续。&lt;/p&gt;

&lt;p&gt;下面是一些简易的区分方法：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Windows XP：肯定是 Legacy+MBR&lt;/li&gt;
  &lt;li&gt;Windows 7：绝大多数系统都是 Legacy+MBR&lt;/li&gt;
  &lt;li&gt;Windows 8 或更高：打开“计算机管理”，找到“磁盘管理”。如果里面有几个零碎的、没有盘符的分区，那么就是 UEFI+GPT，否则是 Legacy+MBR。&lt;/li&gt;
  &lt;li&gt;Linux：能够装 Linux，那么这个问题不用教了吧？（提示：看 /dev/sda1 后面是 sda2 还是 sda5）&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-11&quot;&gt;2. 将下载好的安装盘制作成启动盘&lt;/h2&gt;

&lt;p&gt;[% callout %]
Windows 是这样的&lt;/p&gt;

&lt;p&gt;ISO 格式安装盘可以直接刻录到光盘里。因为现在很少有人使用光盘，所以一般都采用一些软件（例如 UltraISO）将安装盘刻录到 U 盘中。即使不直接刻录，通过 PE 启动盘也可以进行安装。总之解决方案非常多。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;由于苹果采用了特殊的文件系统（HFS+），所以在 Windows 中不太容易看到其中的文件。并且，由于没有引导信息，所以即使刻录好也无法直接引导启动（后面再讲如何启动）。&lt;/p&gt;

&lt;p&gt;因此论坛教程会让你安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;TransMac&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;Leopard 硬盘安装助手&lt;/code&gt;之类的软件。这些软件将完成同样的“刻录”过程。&lt;/p&gt;

&lt;p&gt;此外还有一点与 Windows 不同，刻录黑苹果安装盘的时候，有的教程会让你刻录到 U 盘中，有的教程会让你刻录到自己电脑硬盘中。这些都是可行的。&lt;/p&gt;

&lt;p&gt;刻录完毕，有些教程会让你把刻录的磁盘分区的磁盘标记改为 AF（MBR 磁盘）或 {48465300-0000-11AA-AA11-00306543ECAC}。这是为了能让各种软件正确地将分区识别为“苹果系统分区”而不是损坏的分区。&lt;/p&gt;

&lt;h2 id=&quot;section-12&quot;&gt;3. 通过启动盘启动安装盘&lt;/h2&gt;

&lt;p&gt;[% callout %]
Windows 是这样的&lt;/p&gt;

&lt;p&gt;开机按 F12
[% endcallout %]&lt;/p&gt;

&lt;p&gt;黑苹果就麻烦多了……&lt;/p&gt;

&lt;h3 id=&quot;section-13&quot;&gt;启动器&lt;/h3&gt;

&lt;p&gt;与刻录出来的 Windows 安装盘不同，苹果系统盘映像不含引导信息（就算有，普通电脑也根本无法引导）。&lt;/p&gt;

&lt;p&gt;因此必须借助一个辅助程序，才能让普通电脑启动苹果系统。目前流行这两个程序：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Clover (四叶草)——用于 UEFI+GPT 模式&lt;/li&gt;
  &lt;li&gt;Chameleon (变色龙)——用于 Legacy+MBR 模式&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;变色龙有 Windows 版安装程序，而四叶草没有，因此四叶草的文件需要想办法弄到手。&lt;/p&gt;

&lt;p&gt;[% callout %]
EFI 引导&lt;/p&gt;

&lt;p&gt;通过 EFI 引导并不需要去“刻录”。以 U 盘为例，只要在 U 盘根目录里有个 EFI 文件夹，EFI 里面有个 BOOT，BOOT 里面有个 bootx64.efi，而且文件正确，电脑就能以 UEFI 模式引导 U 盘了。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;以后会经常遇到“-f”、“-x”、“-v”等字样，这些是 Chameleon 的；而“Verbose mode”、“Without caches”等字样是 Clover 的。&lt;/p&gt;

&lt;h3 id=&quot;kext&quot;&gt;驱动 (Kext)&lt;/h3&gt;

&lt;p&gt;苹果电脑把驱动叫做“Kext”。以后看到“SLE”（/System/Library/Extensions）、“EE”（/Extra/Extensions，变色龙专用）、“kexts/10.10”（Clover 安装目录/kexts/10.10，Clover 专用）要知道他们在谈论驱动的存放路径。&lt;/p&gt;

&lt;p&gt;由于苹果电脑硬件和普通电脑不完全一样，部分驱动在普通电脑上面会产生错误，因此在正式进入安装程序之前，需要添加或删除一些驱动。&lt;/p&gt;

&lt;p&gt;由于 Windows 无法直接操作苹果分区，所以有的教程会让你安装 HFS+ for Windows，并且够意思地给了一个注册码。（某些 Linux，如 Ubuntu，可以直接读取 HFS+ 分区，不过需要手动用 mount 挂载才能写入。）&lt;/p&gt;

&lt;p&gt;添加和删除哪些驱动呢？看教程怎样说。此外有贴子专门解释了那些需要添加的驱动的作用。&lt;/p&gt;

&lt;h2 id=&quot;section-14&quot;&gt;4. 运行安装程序&lt;/h2&gt;

&lt;p&gt;[% callout %]
Windows 是这样的&lt;/p&gt;

&lt;p&gt;这一步 Windows 和黑苹果都一样，屏幕上都会出现能让人认识的中国字（虽然连成单词之后不一定知道是什么意思）。只不过，运气不好的话，黑苹果安装程序可以让系统崩溃……
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
学会自救&lt;/p&gt;

&lt;p&gt;在激动人心时刻到来之前，我们必须学会如何自救。&lt;/p&gt;

&lt;p&gt;一般情况下，教程都会告诉你应该用什么参数启动，并让你开启详细模式。但是，毕竟不是官方电脑，所以系统崩溃是正常现象。一旦崩溃，你需要知道如何通过错误信息进行自救。&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-863656-1-1.html&quot;&gt;这里&lt;/a&gt;是一个常见错误总结。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;进行到这一步时，我们终于要和真正的苹果程序打交道了。&lt;/p&gt;

&lt;p&gt;如果一进去就崩溃了，那么当然要去论坛搜索相关错误现象和错误信息。建议不要直接提问，以免被人鄙视。&lt;/p&gt;

&lt;p&gt;安装向导都是中国字，很好懂。不过千万不要手残，选错了分区……&lt;/p&gt;

&lt;p&gt;安装过程很漫长。即使电脑是固态硬盘，安装时间也不短。这个时候你只能祈祷不出错。&lt;/p&gt;

&lt;p&gt;如果安装坚持到了最后，没崩溃，那么恭喜你！&lt;/p&gt;

&lt;h2 id=&quot;section-15&quot;&gt;5. 完成系统安装&lt;/h2&gt;

&lt;p&gt;有的教程会让你重新删驱动，照做即可。&lt;/p&gt;

&lt;p&gt;如果无法进入系统，那么一定要用“详细模式”引导，记录错误现象，并向论坛寻求帮助。&lt;/p&gt;

&lt;p&gt;如果能够进入系统，那么接下来按照屏幕提示完成系统安装即可。都是中国话，应该没有人看不懂。&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
讲解到此为止&lt;/p&gt;

&lt;p&gt;可以逛论坛去了，因为在你真正操作到这一步的时候，麻烦才刚刚开始……
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-16&quot;&gt;6. 安装驱动&lt;/h2&gt;

&lt;p&gt;[% callout style=warning %]
先把系统装好&lt;/p&gt;

&lt;p&gt;先把系统装好，然后再讨论装驱动的问题。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
Windows 是这样的&lt;/p&gt;

&lt;p&gt;下载并按照“驱动精灵”，如果没有网卡驱动就下载集成网卡驱动的版本。全部装完之后把驱动精灵卸载就可以了。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
白苹果是这样的&lt;/p&gt;

&lt;p&gt;苹果是硬件公司——所有硬件都免驱，系统装好就可以使用了。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;安装系统，运气好的（初学者），几个小时就能弄好。运气差的也不会花太多时间。&lt;/p&gt;

&lt;p&gt;因为绝大多数时间都花在驱动上面了。&lt;span style=&quot;background-color: #111;&quot;&gt;忘记备份驱动和 DSDT
 而重装系统也会产生相同的效果。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;如果进行到这一步，接下来就要经常和论坛打交道了，例如&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-1516108-1-1.html&quot;&gt;这个导览&lt;/a&gt;和&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-1470582-1-1.html&quot;&gt;这个导览&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&quot;section-17&quot;&gt;网卡&lt;/h3&gt;

&lt;p&gt;网络是最关键的问题。有了网络，你才能到论坛上面搜答案。&lt;/p&gt;

&lt;p&gt;有线网卡一般问题不大。到论坛里找到驱动，下载安装即可。&lt;/p&gt;

&lt;p&gt;无线网卡问题很大，大致分为以下几种情况：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Atheros、Broadcom 牌：如果论坛中提到解决方案，那么太好了。（有些型号免驱，装完系统就能直接用——这是最好的）如果“无解”，那么就得换无线网卡了。&lt;/li&gt;
  &lt;li&gt;Intel 牌：直接预备 30 块钱换无线网卡吧。&lt;/li&gt;
  &lt;li&gt;USB 无线网卡：弄清楚网卡芯片，然后到论坛上面寻找解决方案（驱动）。&lt;strong&gt;USB 无线网卡不稳定，容易导致系统崩溃。&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;[% callout %]
无线网卡&lt;/p&gt;

&lt;p&gt;到淘宝网即可很方便地买到支持黑苹果的无线网卡，而且价格并不算贵。不过最好先确认一下接口，并且确认应该使用半高还是全高（把电脑拆开就知道是什么意思了）。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout %]
联想和惠普笔记本&lt;/p&gt;

&lt;p&gt;联想和惠普的笔记本采用了“白名单”机制，也就是说，你更换无线网卡，电脑会拒绝开机，并要求你将“非法的”无线网卡拆下来。&lt;/p&gt;

&lt;p&gt;这时你需要找另外一台笔记本电脑，查看无线网卡的 DEV、VEN 和 SUBSYS 参数，并且按照刷白名单教程，通过一些工具提取 BIOS 固件，将白名单修改成你自己的网卡，并重新刷 BIOS。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意，刷机有风险，刷坏会变砖！&lt;/strong&gt;&lt;span class=&quot;blackout&quot;&gt;变砖也不怕，只要找到自己电脑型号的盲刷包，对电脑进行盲刷，即可救砖。我的电脑砖过一次，然后就是靠盲刷省了几千块钱……&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bbs.bios.net.cn/thread-4521994-1-1.html&quot;&gt;这里是刷白名单的教程&lt;/a&gt;
[% endcallout %]&lt;/p&gt;

&lt;h3 id=&quot;section-18&quot;&gt;显卡&lt;/h3&gt;

&lt;p&gt;一般情况下，Intel 核显是能够自动识别的，而 Nvidia 或 AMD 独显无解（即使系统能够识别出来），所以只能用核显。&lt;/p&gt;

&lt;p&gt;大多数基于 Optimus 技术的笔记本是无法屏蔽核显的，这就意味着，N 卡独显在黑苹果中根本没有任何作用，除了多耗你一点电。如果不能把独显屏蔽，请到论坛搜索有关教程（涉及 DSDT，本文后面会提及）。&lt;/p&gt;

&lt;h3 id=&quot;section-19&quot;&gt;声卡&lt;/h3&gt;

&lt;p&gt;声卡有两种解决方案：万能声卡驱动和仿冒官方声卡。&lt;/p&gt;

&lt;p&gt;万能声卡驱动是最简单的——只需要安装一个叫做 VoodooHDA 的驱动即可解决问题。不过音量太大的时候可能会爆音。&lt;/p&gt;

&lt;p&gt;而仿冒官方声卡是一个非常麻烦的过程，需要对硬件有一定的了解（需要改 DSDT，本文后面会提及）。对于新手来说，这个过程是非常漫长和复杂的。&lt;/p&gt;

&lt;h3 id=&quot;section-20&quot;&gt;触摸板&lt;/h3&gt;

&lt;p&gt;如果苹果系统不支持你的触摸板，那么可以用万能驱动（VoodooController），只不过你很可能体验不了苹果的触摸板手势。&lt;/p&gt;

&lt;h3 id=&quot;section-21&quot;&gt;电池电量&lt;/h3&gt;

&lt;p&gt;我是通过一个叫 ACPIBatteryManager 的驱动来解决问题的。如果安装这个驱动导致系统崩溃，那么只能去改 DSDT 了。&lt;/p&gt;

&lt;h3 id=&quot;usb-30&quot;&gt;USB 3.0&lt;/h3&gt;

&lt;p&gt;我电脑没有 USB 3.0，所以我没做过相关研究。&lt;/p&gt;

&lt;h2 id=&quot;dsdt&quot;&gt;6.5 DSDT&lt;/h2&gt;

&lt;p&gt;DSDT，简而言之就是用于识别硬件的&lt;span class=&quot;blackout&quot;&gt;、看多了容易脑残的&lt;/span&gt;一些代码。&lt;/p&gt;

&lt;p&gt;一般情况都是先从 Windows 或 Linux 中提取一个原始的 DSDT，然后在苹果系统中通过 DSDT Editor 来编辑。变色龙和四叶草都可以加载自定义 DSDT，所以你需要做的就是，改代码，保存，编译，重启，观察现象然后再改代码，如此反复。&lt;/p&gt;

&lt;p&gt;此外还有一个工具叫做 IORegistryExplorer，是用来查看电脑硬件情况的。DSDT Editor 和它配合使用，效果更好。&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;blackout&quot;&gt;因为改 DSDT 非常容易导致脑残，所以装黑苹果不仅浪费时间，而且还特别耽误事儿。如果你因此丢了女朋友，我概不负责。&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-22&quot;&gt;亮度调节&lt;/h3&gt;

&lt;h3 id=&quot;section-23&quot;&gt;电池电量&lt;/h3&gt;

&lt;h3 id=&quot;section-24&quot;&gt;原生电源管理&lt;/h3&gt;

&lt;p&gt;[% callout %]
这里是有意留空的&lt;/p&gt;

&lt;p&gt;如果遇到了相关问题，去论坛上面找答案吧。
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-25&quot;&gt;7. 安装软件，开始享受新系统&lt;/h2&gt;

&lt;p&gt;这个不用解释了吧。&lt;/p&gt;

&lt;p&gt;值得注意的是，尽管苹果系统免费，但是因为苹果公司要求系统只能在苹果设备上运行，所以你的黑苹果仍然是盗版。&lt;span class=&quot;blackout&quot;&gt;别带着自己电脑去外国嘚瑟，除非你想吃外国的牢饭。&lt;/span&gt;&lt;/p&gt;

&lt;h1 id=&quot;section-26&quot;&gt;其他问题&lt;/h1&gt;

&lt;h2 id=&quot;section-27&quot;&gt;系统升级&lt;/h2&gt;

&lt;p&gt;只要你没破解过内核，那么只管放心地从 App Store 升级系统。&lt;/p&gt;

&lt;p&gt;如果你破解了内核（懒人版也是破解了内核），那么请先到论坛里把破解的内核下载好，升级之后重新破解一下。&lt;/p&gt;

&lt;p&gt;如果嫌麻烦，建议你找个时间把自己电脑改成 UEFI+GPT 的。&lt;/p&gt;

&lt;h2 id=&quot;imessage--facetime&quot;&gt;iMessage 和 FaceTime&lt;/h2&gt;

&lt;p&gt;黑苹果直接登录是登不进去的，因为这两个服务会对系统的真伪进行验证。&lt;/p&gt;

&lt;p&gt;使用变色龙的，变色龙本身有一个功能可以对这两个服务进行破解，从而顺利登录。&lt;/p&gt;

&lt;p&gt;而 Clover 没有类似功能。因此，需要到网上搜一个（或者问一些认识人，或者去苹果专卖店偷）正版电脑的序列号，然后给苹果客服打电话。一般情况下，和苹果客服磨叽磨叽就能解决问题。&lt;span class=&quot;blackout&quot;&gt;当然，不要让他们知道你的苹果是假的，除非你被 DSDT 折腾脑残了。&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;iwork--imovie&quot;&gt;iWork 和 iMovie&lt;/h2&gt;

&lt;p&gt;这两套软件在新苹果电脑上是免费的，而黑苹果用户到 App Store 里一看，会发现它们价格感人。&lt;/p&gt;

&lt;p&gt;因此，需要到网上搜一下老苹果用户如何免费使用这些软件。大致的思路是，先把电脑系统的语言换成英语，然后下载旧版的软件，接下来蹭 App Store 的优惠活动（免费升级）。升级之后你就成功“购买”了这些软件——以后即使重装也可以随便用了。&lt;/p&gt;

&lt;h2 id=&quot;ntfs-&quot;&gt;挂载 NTFS 磁盘&lt;/h2&gt;

&lt;p&gt;苹果系统可以读取 NTFS 磁盘，但是只读（因为苹果对 NTFS 支持有限，容易出错）。如果真需要写入，可以看&lt;a href=&quot;/2015/05/30/enable-ntfs-writing-support-in-os-x/&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;section-28&quot;&gt;维护相关&lt;/h2&gt;

&lt;h3 id=&quot;recovery-hd&quot;&gt;Recovery HD&lt;/h3&gt;

&lt;p&gt;Recovery HD 是一个相当于 PE 的紧急系统。&lt;/p&gt;

&lt;p&gt;只有原生安装盘才会装出一个 Recovery HD。如果你的电脑没有（例如用了懒人版），那么在转成 UEFI+GPT 之后升级系统，Recovery HD 也会冒出来。&lt;/p&gt;

&lt;h3 id=&quot;section-29&quot;&gt;重装&lt;/h3&gt;

&lt;p&gt;如果有 Recovery HD，那么只需进 Recovery HD 里，然后选择重装。总之，具体操作和白苹果是基本相同的，除了开机时不能按 Command-R。&lt;/p&gt;

&lt;p&gt;当然，你应该备份一下自己破解时用的驱动，还有 DSDT。如果弄丢了，你几个星期的辛苦就全白费了。&lt;/p&gt;

&lt;h3 id=&quot;section-30&quot;&gt;调整分区容量&lt;/h3&gt;

&lt;p&gt;很少有支持 HFS+ 文件系统的磁盘分区软件。&lt;/p&gt;

&lt;p&gt;对于一般电脑而言，苹果本身的“磁盘工具”会以为你用了 Bootcamp，然后拒绝调整容量。因此要用其他软件——&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Windows 中有 Paragon Partition Manager。&lt;/li&gt;
  &lt;li&gt;Linux 中有 GParted，但是只能缩小容量，不能扩大容量。&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 14 Sep 2015 04:11:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/09/14/hackintosh.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/09/14/hackintosh.html</guid>
        
        <category>Hackintosh</category>
        
        
        <category>Mac</category>
        
      </item>
    
      <item>
        <title>Funny Linux commands</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#kuso&quot; id=&quot;markdown-toc-kuso&quot;&gt;Kuso&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#sl&quot; id=&quot;markdown-toc-sl&quot;&gt;sl&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#tac&quot; id=&quot;markdown-toc-tac&quot;&gt;tac&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dd&quot; id=&quot;markdown-toc-dd&quot;&gt;dd&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fork-bomb&quot; id=&quot;markdown-toc-fork-bomb&quot;&gt;Fork Bomb&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#yes&quot; id=&quot;markdown-toc-yes&quot;&gt;yes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xeyes&quot; id=&quot;markdown-toc-xeyes&quot;&gt;xeyes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xkill&quot; id=&quot;markdown-toc-xkill&quot;&gt;xkill&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fuck&quot; id=&quot;markdown-toc-fuck&quot;&gt;fuck&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#easter-eggs&quot; id=&quot;markdown-toc-easter-eggs&quot;&gt;Easter Eggs&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#moo&quot; id=&quot;markdown-toc-moo&quot;&gt;moo&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#no-easter-eggs&quot; id=&quot;markdown-toc-no-easter-eggs&quot;&gt;No easter eggs&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cal&quot; id=&quot;markdown-toc-cal&quot;&gt;cal&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ascii-arts&quot; id=&quot;markdown-toc-ascii-arts&quot;&gt;ASCII arts&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#big-characters&quot; id=&quot;markdown-toc-big-characters&quot;&gt;BIG CHARACTERS&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#figlet&quot; id=&quot;markdown-toc-figlet&quot;&gt;figlet&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#toilet&quot; id=&quot;markdown-toc-toilet&quot;&gt;toilet&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#banner&quot; id=&quot;markdown-toc-banner&quot;&gt;banner&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cowsay&quot; id=&quot;markdown-toc-cowsay&quot;&gt;cowsay&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#bb&quot; id=&quot;markdown-toc-bb&quot;&gt;bb&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-matrix&quot; id=&quot;markdown-toc-the-matrix&quot;&gt;The Matrix&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#telnet&quot; id=&quot;markdown-toc-telnet&quot;&gt;telnet&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#asciiquarium&quot; id=&quot;markdown-toc-asciiquarium&quot;&gt;asciiquarium&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#lolcat&quot; id=&quot;markdown-toc-lolcat&quot;&gt;lolcat&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#others&quot; id=&quot;markdown-toc-others&quot;&gt;Others&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#factor&quot; id=&quot;markdown-toc-factor&quot;&gt;factor&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#oneko&quot; id=&quot;markdown-toc-oneko&quot;&gt;oneko&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#python&quot; id=&quot;markdown-toc-python&quot;&gt;Python&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Just for fun.&lt;/p&gt;

&lt;p&gt;If you get “command not found” after typing these commands, please install them manually.&lt;/p&gt;

&lt;h1 id=&quot;kuso&quot;&gt;Kuso&lt;/h1&gt;

&lt;h2 id=&quot;sl&quot;&gt;sl&lt;/h2&gt;

&lt;p&gt;ls is an everyday command. If you type in reverse, …&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/sl.png&quot; alt=&quot;sl&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A steam locomotive.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sl -l&lt;/code&gt; will display a smaller train, and &lt;code class=&quot;highlighter-rouge&quot;&gt;sl -F&lt;/code&gt; will let the train fly.&lt;/p&gt;

&lt;p&gt;So, you can type &lt;code class=&quot;highlighter-rouge&quot;&gt;alias ls=sl&lt;/code&gt; on other’s computer secretly.&lt;/p&gt;

&lt;h2 id=&quot;tac&quot;&gt;tac&lt;/h2&gt;

&lt;p&gt;cat is used to print files, so tac is used for printing files, too. Of course, in reverse.&lt;/p&gt;

&lt;h2 id=&quot;dd&quot;&gt;dd&lt;/h2&gt;

&lt;p&gt;Not all &lt;code class=&quot;highlighter-rouge&quot;&gt;dd&lt;/code&gt;s are dangerous. For example, enter text mode (Ctrl-Alt-F1) and type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo dd if=/dev/urandom of=/dev/fb0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Because /dev/urandom is a random generator, so results are different.&lt;/p&gt;

&lt;h2 id=&quot;fork-bomb&quot;&gt;Fork Bomb&lt;/h2&gt;

&lt;p&gt;Just enter an Apple Store, open Terminal (Press Control-Space and type “Terminal”), then type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:() { :|: &amp;amp; };:
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remember, you should exit the store quickly or …&lt;/p&gt;

&lt;h2 id=&quot;yes&quot;&gt;yes&lt;/h2&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;yes&lt;/code&gt; and you will get yyyyyyyyyyyyy…s. (In fact, it can be used for pipes to affirm repetitively.)&lt;/p&gt;

&lt;p&gt;It’s easy to simulate it:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;xeyes&quot;&gt;xeyes&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/xeyes.png&quot; alt=&quot;xeyes&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Eyes are just watching your pointer – Why does X11 contain such a boring thing?&lt;/p&gt;

&lt;p&gt;And a more boring one – xlogo. Just a ugly “X”, and … nothing else.&lt;/p&gt;

&lt;h2 id=&quot;xkill&quot;&gt;xkill&lt;/h2&gt;

&lt;p&gt;Do you want to be a demon?&lt;/p&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;xkill&lt;/code&gt; and click on any window – That program (process) will be terminated immediately.&lt;/p&gt;

&lt;p&gt;xkill, quick and accurate.&lt;/p&gt;

&lt;h2 id=&quot;fuck&quot;&gt;fuck&lt;/h2&gt;

&lt;p&gt;-“F**k!”&lt;/p&gt;

&lt;p&gt;-“Please watch your tongue!”&lt;/p&gt;

&lt;p&gt;Now, it’s not rude to curse your computer, and, you computer will fix your error after being cursed –&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/nvbn/thefuck&quot;&gt;https://github.com/nvbn/thefuck&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When you type a wrong command and get an error message, just say “fuck”, and the program will help you correct it.&lt;/p&gt;

&lt;h1 id=&quot;easter-eggs&quot;&gt;Easter Eggs&lt;/h1&gt;

&lt;h2 id=&quot;moo&quot;&gt;moo&lt;/h2&gt;

&lt;p&gt;Type: &lt;code class=&quot;highlighter-rouge&quot;&gt;apt-get moo&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;And: &lt;code class=&quot;highlighter-rouge&quot;&gt;apt-build moo&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;no-easter-eggs&quot;&gt;No easter eggs&lt;/h2&gt;

&lt;p&gt;You need &lt;code class=&quot;highlighter-rouge&quot;&gt;aptitude&lt;/code&gt;. So only deb-based system users can see it:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;aptitude moo
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;aptitude says there are no easter eggs. Don’t be cheats. Just go on:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;aptitude -v moo
aptitude -vv moo
aptitude -vvv moo
aptitude -vvvv moo
aptitude -vvvvv moo
aptitude -vvvvvv moo
aptitude -vvvvvvv moo
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;aptitude surrenders at last.&lt;/p&gt;

&lt;h2 id=&quot;cal&quot;&gt;cal&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cal 9 1752&lt;/code&gt;: Where is Sep. 3, 1752?&lt;/p&gt;

&lt;h1 id=&quot;ascii-arts&quot;&gt;ASCII arts&lt;/h1&gt;

&lt;h2 id=&quot;big-characters&quot;&gt;BIG CHARACTERS&lt;/h2&gt;

&lt;h3 id=&quot;figlet&quot;&gt;figlet&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/figlet.png&quot; alt=&quot;figlet&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;toilet&quot;&gt;toilet&lt;/h3&gt;

&lt;p&gt;“toilet” is not a toilet. It’s …&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/toilet.png&quot; alt=&quot;toilet&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;banner&quot;&gt;banner&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/banner.png&quot; alt=&quot;banner&quot; /&gt;&lt;/p&gt;

&lt;p&gt;These are real &lt;a href=&quot;https://en.wikipedia.org/wiki/Big-character_poster&quot;&gt;Big-character posters&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;cowsay&quot;&gt;cowsay&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/cowsay.png&quot; alt=&quot;cowsay&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay &quot;Hello world&quot;&lt;/code&gt;: A saying cow&lt;/li&gt;
  &lt;li&gt;Replace cowsay to cowthink: A thinking cow&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay -l&lt;/code&gt; Seeing supported kind of animals – &lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay -f tux &quot;Hello world&quot;&lt;/code&gt;: No cows, just Tux。&lt;/li&gt;
  &lt;li&gt;Install fortune, and type &lt;code class=&quot;highlighter-rouge&quot;&gt;fortune | cowsay&lt;/code&gt;: A philosophical cow.&lt;/li&gt;
  &lt;li&gt;Install fortune-zh and execute &lt;code class=&quot;highlighter-rouge&quot;&gt;fortune | cowsay&lt;/code&gt;: A cow that knows Chinese poem.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;bb&quot;&gt;bb&lt;/h2&gt;

&lt;p&gt;A simple ASCII image is not amazing.&lt;/p&gt;

&lt;p&gt;So let’s watch bb! It’s a 3D ASCII animation with music!&lt;/p&gt;

&lt;h2 id=&quot;the-matrix&quot;&gt;The Matrix&lt;/h2&gt;

&lt;p&gt;cmatrix:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/cmatrix.png&quot; alt=&quot;cmatrix&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;telnet&quot;&gt;telnet&lt;/h2&gt;

&lt;p&gt;Just type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;telnet towel.blinkenlights.nl
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;An ASCII movie.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/blinkenlights.png&quot; alt=&quot;blinkenlights&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If use IPv6, more scenes will show, and the movie will become colorful.&lt;/p&gt;

&lt;h2 id=&quot;asciiquarium&quot;&gt;asciiquarium&lt;/h2&gt;

&lt;p&gt;ASCII quarium…&lt;/p&gt;

&lt;h2 id=&quot;lolcat&quot;&gt;lolcat&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-09-08-fun-commands/lolcat.png&quot; alt=&quot;lolcat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;lolcat is a Ruby program so you should use &lt;code class=&quot;highlighter-rouge&quot;&gt;gem&lt;/code&gt; command to install.&lt;/p&gt;

&lt;h1 id=&quot;others&quot;&gt;Others&lt;/h1&gt;

&lt;h2 id=&quot;factor&quot;&gt;factor&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;factor 60&lt;/code&gt;：60 = 2&lt;em&gt;2&lt;/em&gt;3*5&lt;/p&gt;

&lt;h2 id=&quot;oneko&quot;&gt;oneko&lt;/h2&gt;

&lt;p&gt;A cat is always chasing you mouse pointer.&lt;/p&gt;

&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;

&lt;p&gt;You don’t need to learn programming. You just need to type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python -m SimpleHTTPSerever
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The easiest way to share files with each other.&lt;/p&gt;
</description>
        <pubDate>Tue, 08 Sep 2015 18:11:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/09/08/fun-commands.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/09/08/fun-commands.html</guid>
        
        
        <category>Linux</category>
        
        <category>fun</category>
        
      </item>
    
      <item>
        <title>［恶搞］GitHub 简介</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;价格&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;功能&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;在自己[房间#代码仓库]&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;客户端&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;[开房#建立代码仓库]&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;[玩耍#编辑]&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;提交和同步改动&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#branch&quot; id=&quot;markdown-toc-branch&quot;&gt;分支 (Branch)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#release&quot; id=&quot;markdown-toc-release&quot;&gt;发布 (Release)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#readmemd&quot; id=&quot;markdown-toc-readmemd&quot;&gt;README.md&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#wiki&quot; id=&quot;markdown-toc-wiki&quot;&gt;Wiki&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;去别人[房间#代码仓库]&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#issue&quot; id=&quot;markdown-toc-issue&quot;&gt;[聊天灌水#评论] (Issue)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fork--pull-merge&quot; id=&quot;markdown-toc-fork--pull-merge&quot;&gt;分支 (Fork) 、提交 (Pull)、合并 (Merge)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#organization&quot; id=&quot;markdown-toc-organization&quot;&gt;组织 (Organization)&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;其他&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#search&quot; id=&quot;markdown-toc-search&quot;&gt;搜索 (Search)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#octocat&quot; id=&quot;markdown-toc-octocat&quot;&gt;Octocat&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gist&quot; id=&quot;markdown-toc-gist&quot;&gt;Gist&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#pages&quot; id=&quot;markdown-toc-pages&quot;&gt;Pages&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gayhub&quot; id=&quot;markdown-toc-gayhub&quot;&gt;GayHub&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这是一篇&lt;a href=&quot;https://upclinux.github.io/intro/07/github&quot;&gt;给社团写的&lt;/a&gt;介绍 GitHub 的恶搞文。因为 Markdown 可以直接附加 HTML 标记，而且考虑到不是所有人都能理解码农的苦衷，所以加了一个“切换正经文”的功能。&lt;/p&gt;

&lt;p&gt;[% callout %]
程序猿幽默&lt;/p&gt;

&lt;p&gt;本文就是在恶搞[程序猿#程序员]。为了照顾不懂幽默的读者和[维基人#一本正经的人]，请把鼠标放到[蓝色文字#蓝色文字]上面，或者&lt;/p&gt;

&lt;p&gt;&lt;button class=&quot;btn btn-info&quot; id=&quot;switch&quot;&gt;点这里直接换成正经版本&lt;/button&gt;&lt;/p&gt;

&lt;p&gt;维基百科上面有一个恶搞 GitHub 的用户页，详见&lt;a href=&quot;https://zh.wikipedia.org/wiki/User:Vjudge1/GitHub&quot;&gt;这里&lt;/a&gt;。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt; 是全球最大的[同性交友#社交编程]网站，也是最活跃的[搞基场所#基于 Git 版本控制软件的空间]。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;价格&lt;/h1&gt;

&lt;p&gt;注册账户不收费，[搞基#编程]也不收费，但[整个搞基过程都是公开的#默认代码仓库都是公开仓库，任何人都可以浏览代码]。如果想[开私密房间#建立私有代码仓库]，你就只能掏钱了。&lt;/p&gt;

&lt;p&gt;如果你是个老总，GitHub 提供了私人定制服务，这样就可以[足不出户在自己公司和自己公司的员工搞比利了#在自己的服务器上进行版本控制工作]。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;功能&lt;/h1&gt;

&lt;p&gt;知乎上面有人总结了 GitHub 的基本功能：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;[同性交友#GitHub 是社交网站，具有和社交网站相同的好友、评论、赞、讨论等功能。]&lt;/li&gt;
  &lt;li&gt;[真人约会#任何人均可参与其他人的代码仓库的开发。（当然不能直接改人家的代码。）]&lt;/li&gt;
  &lt;li&gt;[排解寂寞#协同开发与编程，而且支持互相评论。]&lt;/li&gt;
  &lt;li&gt;[释放压力#通过 Git 版本控制系统来提高生产力。]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/img/gayhub.png&quot; alt=&quot;github&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这是知乎里面的一张图（其实知乎还是比较严肃的，这张图是个例外），内容是一个用户页。每个用户都可以[约#Follow]其他人，其他人也可以[约#Follow]用户。[约#Follow]了别人之后，你就可以从首页上看到他的[约会动态#开发动态]。&lt;/p&gt;

&lt;p&gt;为了[搞基#开发程序]，你需要[开个房间#建立代码仓库 (Repository)]。点击“New Repository” ([开房#建立代码仓库]) 建立[房间#代码仓库]。&lt;/p&gt;

&lt;p&gt;下面将详细介绍如何在自己或别人[房间#代码仓库]里[搞基#编程]。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;在自己[房间#代码仓库]&lt;/h1&gt;

&lt;p&gt;毕竟不是旅馆，所以总得知道怎样在[房间#代码仓库]里[玩耍#操作]，然后才能[玩得开心#顺利开发]吧？&lt;/p&gt;

&lt;p&gt;[% callout %]
提醒&lt;/p&gt;

&lt;p&gt;你可以随便在自己的空间内做实验。反正不要钱，而且玩够了可以直接到代码仓库的“Settings”里面删除。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;大部分[搞基准备工作#开发工作]都是在本地完成的。在[搞#开发]到一定程度的时候应该记录 (Commit) 一下，这样，在遇到问题的时候就可以有效地追踪[变化#改动]，方便[吃后悔药#回退 (Revert) 错误更改]。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;客户端&lt;/h2&gt;

&lt;p&gt;为了[方便偷懒#少敲一堆命令]，GitHub 开发了 Windows 和 Mac &lt;a href=&quot;https://desktop.github.com/&quot;&gt;客户端&lt;/a&gt;。虽然界面也是英语的，但是一看英语就头疼的人应该不会去编程，所以基本上不耽误事儿。&lt;/p&gt;

&lt;p&gt;[% callout %]
邮箱&lt;/p&gt;

&lt;p&gt;Git 有个关于姓名和邮箱的配置。一定要写上自己在 GitHub 上注册时的姓名和邮箱，否则提交之后动态也不算你的。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
关于 Linux 用户&lt;/p&gt;

&lt;p&gt;因为用 Linux 的是[高手和宅男#少数人]，因此 GitHub 没有 Linux 客户端。既然是高手，那么在 Linux 中[当然#只能]用 git 命令。&lt;a href=&quot;http://www.bootcss.com/p/git-guide/&quot;&gt;这里&lt;/a&gt;有个又简单又醒目的入门教程。&lt;/p&gt;

&lt;p&gt;在用户认证方面，建议使用 SSH key，这样可以少敲 N 次密码。需要进入 GitHub 网站的用户设置，找到 SSH Key 并且把生成的 key 复制到里面。
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;[开房#建立代码仓库]&lt;/h2&gt;

&lt;p&gt;“[房间#仓库] (Repository，简称 Repo)”是[搞基#存放源代码]的地方。[进出#存取、修改]、[闲谈#评论]（Issues）都是在这里完成的。&lt;/p&gt;

&lt;p&gt;所以，想[开房#建立代码仓库]的时候，就应该点击“New repository”按钮，然后起一个名字。名字只支持英文字母数字和符号。&lt;/p&gt;

&lt;p&gt;默认情况下，建立的[房间#仓库]都是公开的，反正不要钱。只有付费用户才能[享受 VIP 高档私人房间#建立私有仓库]，价格 $7/月。&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;[玩耍#编辑]&lt;/h2&gt;

&lt;p&gt;在继续之前，先对仓库所处位置进行一个区分：一个是在 GitHub 网站上面的，一个是在自己电脑上面的。当然，只有把改动上传到网站上面才算数（备注：其实只要 Commit 就算数）。&lt;/p&gt;

&lt;p&gt;你不能直接（不能直接当然就是间接）把你搞的东西提交上去，因为[你不能证明那是从 GitHub 搞过来的#本地代码缺少 Git 信息]。你需要让本地仓库里面存在有关 GitHub 的信息（Git 信息）。&lt;/p&gt;

&lt;p&gt;一个简单省事儿的办法是：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;先到网站上面，进入到[房间#仓库]，然后点击页面右下角的“Clone in Desktop”。不用理会上面的 “clone URL”，反正那是给[宅男#敲命令的人]用的。接下来，GitHub 客户端会自动启动，并询问你将代码保存到什么位置。如果没启动，那你应该先把客户端装好。&lt;/li&gt;
  &lt;li&gt;把你弄好的乱七八糟的东西都拽到刚保存的文件夹中。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;需要注意的是，页面上有个“Download ZIP”按钮，那个不是给开发者用的，而是给那些希望[抄袭代码然后拿大奖#直接下载]的人用的（后面会详细介绍）。因为下载完的压缩包里也没有 GitHub 信息。&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;提交和同步改动&lt;/h2&gt;

&lt;p&gt;Git（不是 GitHub）记录的是改动，因此 Git 更适合纯文本文件。如果主要工作在 Word、Excel、PowerPoint 上面，那么就不应该用 GitHub，而是应该用软件自带的“协作”功能，顺便还能&lt;a href=&quot;http://www.baidu.com/link?url=nsg0Z7UCflcHUx0IAh3JKNkCXkVk_GaJhQ5SQcoOZ-qat6xkpoZCbFi1nKF8957_q60JATi0JLFj-DY-zNKd_BSAsOn_baEaY4LYTYAZUmW&amp;amp;wd=&amp;amp;eqid=a1a8467700016cfa0000000355deadd2&quot;&gt;聊天&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;[搞#编辑]到一定程度，例如完成了一个功能，应该确认 (Commit) 一下改动，以方便追踪。[没有人想和一个一问三不知的人搞基#没有人愿意和不做任何记录和版本控制的码农合作]。&lt;/p&gt;

&lt;p&gt;打开 GitHub 客户端（不是网站，因为改动还在本地），找到自己的仓库，客户端会列出你所进行的改动。你需要决定标记哪些文件，然后填写说明，并确认 (Commit) 改动。&lt;/p&gt;

&lt;p&gt;注意，Commit 之后改动仍然在本地，而网站上面并不能看到这些改动。点击“Sync”按钮之后才能在网站上面看到最新动态。&lt;/p&gt;

&lt;p&gt;还要注意，你不能直接[闯进别人的房间里#提交对别人的软件仓库的编辑]，除非别人[是你基友，允许你这样做#在仓库设置中把你设置为“合作者 (Collaborators)”]。&lt;/p&gt;

&lt;h2 id=&quot;branch&quot;&gt;分支 (Branch)&lt;/h2&gt;

&lt;p&gt;一个软件有很多功能。如果你[玩得够大#程序功能很多]，可以通过分支 (Branch) 来分割项目，从而做到各司其职。&lt;/p&gt;

&lt;h2 id=&quot;release&quot;&gt;发布 (Release)&lt;/h2&gt;

&lt;p&gt;当你的[糟糕物成熟#程序稳定]之后，你可以决定将其发布 (Release)，这样别人就可以直接下载体验现成的二进制文件了。发布之后还有一个好处——很容易找“1.0”、“1.1”、“2.0”版本，免得乱套。&lt;/p&gt;

&lt;h2 id=&quot;readmemd&quot;&gt;README.md&lt;/h2&gt;

&lt;p&gt;README.md 是个纯文本文件，用 Markdown 语言书写——不要以为所有的编程语言都像 C 语言那样难学，Markdown 就很好学，几分钟就能学会，而且就算你[笨到根本学不会#有极其严重的代码恐惧症（那还来 GitHub 做甚）]，当作纯文本也能用。&lt;/p&gt;

&lt;p&gt;如果你在[房间#代码仓库]根目录下放了一个 README.md 文件，写了[“欢迎来搞基，这个房间是用来……的”文字#程序简要说明]，那么别人路过你的[房间#代码仓库]的时候就不会一头雾水了。&lt;/p&gt;

&lt;h2 id=&quot;wiki&quot;&gt;Wiki&lt;/h2&gt;

&lt;p&gt;不要一看到 Wiki 就想到维基百科 (Wikipedia) 或者伪基百科。Wiki 是一种文档系统，用在[房间#代码仓库]上面，当然就是用来写有关[搞基#程序]手册的了！&lt;/p&gt;

&lt;p&gt;在 GitHub 网站，进入[房间#代码仓库]，看右面，然后你就能发现“Wiki”了。&lt;/p&gt;

&lt;h1 id=&quot;section-7&quot;&gt;去别人[房间#代码仓库]&lt;/h1&gt;

&lt;p&gt;当你有了知识水平和一点人生的经验之后，你就可以到别人那里[寻欢作乐#参与开发]了！&lt;/p&gt;

&lt;h2 id=&quot;issue&quot;&gt;[聊天灌水#评论] (Issue)&lt;/h2&gt;

&lt;p&gt;打开 GitHub 网站，进入一个[房间#代码仓库]，你会看到右面有个“Issues”。这就是让你[灌水#评论]的地方。&lt;/p&gt;

&lt;p&gt;你可以选择发起一个新对话，也可以跟楼排队形。可以随便[发发牢骚#报告 bug]，[表达不满#提出建议意见]。&lt;/p&gt;

&lt;p&gt;[% callout style=danger %]
严正声明&lt;/p&gt;

&lt;p&gt;尽管本文的恶搞版本将“Issue”称作“聊天”、“灌水”，但是你不应该在 GitHub 的评论中写与程序无关的东西，不要发不合适的内容，更不要连着发帖。因为你每灌一次水，程序作者和关注 (Watch) 这个程序的人就会收到一封垃圾邮件。&lt;/p&gt;

&lt;p&gt;你应该只发与程序有关的、有建设性的、语言表达客气得体的文字，共同维护良好的气氛。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;Issue 支持 Markdown 语法，也支持发图片。如果你对 Markdown 不熟，Issue 支持在线预览。&lt;/p&gt;

&lt;h2 id=&quot;fork--pull-merge&quot;&gt;分支 (Fork) 、提交 (Pull)、合并 (Merge)&lt;/h2&gt;

&lt;p&gt;[直接闯入别人房间是不对的#你不能直接修改别人的代码]，但这不代表你不能[闯#修改]，只不过你需要间接地来。&lt;/p&gt;

&lt;p&gt;为了[大大方方的从正门去别人家搞基#将你的改动反映到对方代码仓库中]，你需要先迂回一下，在对方[房间#代码仓库页面]右上角点击“Fork”，将其分支出来。这时候你就[把人家房间复制成自己的了#有了一个副本]，这个副本是可以按照自己意愿随便改动的。&lt;/p&gt;

&lt;p&gt;当你感觉自己[恶搞#修改]得很漂亮的时候，你就可以去对方[房间门口敲门#申请合并]了。这时你需要点击页面右面的“Pull requests” ([合作#合并]请求)，然后点击“New pull request”([合作#合并]！)按钮。&lt;/p&gt;

&lt;p&gt;此时 GitHub 会帮你分析你都做了哪些[恶搞#修改]，你也可以顺便看一下自己的东西好不好看。感觉 OK 之后，到页面下方写点评论（你都做了哪些[坏事儿#贡献]），然后点击“Comment”（评论）。接下来就可以等对方同意了。&lt;/p&gt;

&lt;p&gt;在你评论之后，对方会收到一封邮件，[搞基过度有害健康#因为对方不可能一直在线去看 GitHub]。对方点击相同的“Pull requests”时会看到你发的帖子，然后可自行决定是否[合作#合并] (Merge)。如果对方决定 Merge，那么你就成功地[和对方搞基#为对方代码做出贡献]了。不管对方同意还是拒绝还是不做回应，对方都可以进行评论，这样双方就[可以先增进感情#互相就程序问题进行讨论]。&lt;/p&gt;

&lt;p&gt;在正式[合作#合并]之前，你的[恶搞#改动]，不管是发起申请之前的，还是申请之后的，都会算到 Pull request 之中。这也是[增进感情#进行互动]的需求。&lt;/p&gt;

&lt;p&gt;有时候大家[搞得很融洽#代码没有冲突]，[合作#合并]过程就很顺利。但是有时候[手乱伸就容易冲突#改动会发生冲突]，这时就需要[对方#程序作者]决策，手工解决冲突，然后再[合作#合并]。&lt;/p&gt;

&lt;p&gt;[% callout %]
合作者 (Collaborators)&lt;/p&gt;

&lt;p&gt;如果你和[基友#合作者]一块[搞基#开发]，那么你可以考虑将[基友#合作者]设置为“合作者” (Collaborators)，这样他就不用麻烦地 Fork 和 Pull 了。&lt;/p&gt;

&lt;p&gt;合作者设置在[房间#代码仓库]设置里。在页面右面的“Settings”中。&lt;/p&gt;

&lt;p&gt;如果合作者太多，可以考虑成立一个组织 (Organization)。
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;organization&quot;&gt;组织 (Organization)&lt;/h2&gt;

&lt;p&gt;GitHub 里建立组织是合法的，想建立多少就可以建立多少，而且不用备案登记。&lt;/p&gt;

&lt;p&gt;既然是一个组织，那么就可以设置管理员，并且各路[基友#开发者]就可以一起[玩 &amp;gt;3 Players 的游戏#协同开发]。&lt;/p&gt;

&lt;p&gt;组织的地位和用户是平等的，除了你不能[约#Follow]一个组织，组织也不能[约#Follow]你。&lt;/p&gt;

&lt;p&gt;[% callout style=danger %]
不要反党！&lt;/p&gt;

&lt;p&gt;GitHub 是用于软件开发的网站，也是中国很多软件公司保持运转的重要工具。没有人希望 GitHub 只是因为里面有一点不恰当的政治内容就被墙了。同样，没有人喜欢被有关部门请去喝茶。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;虽然 GitHub 不用备案登记，不过，如果你做了反动的事儿，[水表和快递#警察叔叔]还是要来的。&lt;/p&gt;

&lt;h1 id=&quot;section-8&quot;&gt;其他&lt;/h1&gt;

&lt;h2 id=&quot;search&quot;&gt;搜索 (Search)&lt;/h2&gt;

&lt;p&gt;既然全世界的码农都到这个网站[搞基#编程]，那么，&lt;/p&gt;

&lt;p&gt;在你准备开发一个应用的时候，为什么不先搜索一下，找一个类似的项目借鉴借鉴呢？&lt;/p&gt;

&lt;p&gt;这里有一个 Search 的经典案例：有人到 GitHub 里抄袭代码，然后就&lt;a href=&quot;https://github.com/iiordanov/remote-desktop-clients/issues/39&quot;&gt;获奖&lt;/a&gt;了，而且是最高奖！所以，你为什么还不趁着 GitHub 没被墙的时候抄一个大奖回来？&lt;/p&gt;

&lt;p&gt;因为想拿奖的人太多了，所以 GitHub 页面顶端就有一个搜索栏。搜索之后还可以根据语言来筛选。&lt;/p&gt;

&lt;h2 id=&quot;octocat&quot;&gt;Octocat&lt;/h2&gt;

&lt;p&gt;注意！喵星人来袭，&lt;a href=&quot;https://octodex.github.com&quot;&gt;点这里抵御攻击！&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
关于抄袭&lt;/p&gt;

&lt;p&gt;在天朝，抄袭一点创意，copy 一点素材都是无所谓的。不过，得等到 GitHub 彻底被墙之后再说。因为，复旦在 2015 年制作宣传片时抄袭了一些没有被墙的东西，结果连续两次引发了群众的强烈不满……（相关新闻：复旦&lt;a href=&quot;http://ent.sina.com.cn/m/c/2015-05-28/doc-icpkqeaz5906836.shtml&quot;&gt;第一次抄袭&lt;/a&gt;、&lt;a href=&quot;http://news.sohu.com/20150531/n414143642.shtml&quot;&gt;第二次抄袭&lt;/a&gt;）
[% endcallout %]&lt;/p&gt;

&lt;h2 id=&quot;gist&quot;&gt;Gist&lt;/h2&gt;

&lt;p&gt;有时候，因为[没什么基情#只有一些代码片段]，不值得[开房搞基#建立代码仓库]，所以 GitHub 提供了另一个服务——GitHub Gist。&lt;/p&gt;

&lt;p&gt;Gist 的功能和 GitHub 类似，不过里面都是[段子#代码片段]，规模比较小，小到在线就可以编辑。当然仍然可以用 Git 来进行版本控制，只要你不嫌麻烦。&lt;/p&gt;

&lt;p&gt;在中国，虽然墙娘不敢再随便欺负[小猫#GitHub]，但是 GitHub Gist 仍然被墙，所以：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;192.30.252.142 gist.github.com
199.27.74.133 gist-assets.github.com
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;pages&quot;&gt;Pages&lt;/h2&gt;

&lt;p&gt;GitHub Pages 是免费的静态空间服务，可以架设静态网站，包括静态博客。&lt;/p&gt;

&lt;p&gt;常用的静态博客系统有 Jekyll、Hexo 等。其中 Jekyll 是受 Pages 官方支持的。常用的评论系统有 Disqus 和多说。&lt;/p&gt;

&lt;p&gt;因为静态空间实现不了多大功能，而且静态博客系统不支持 Windows，因此乡民们更愿意在 GitHub 搞基，而不是喝茶写博客。&lt;/p&gt;

&lt;h2 id=&quot;gayhub&quot;&gt;GayHub&lt;/h2&gt;

&lt;p&gt;2015 年 6 月 26 日，美国最高法宣布同性婚姻合乎宪法。为表示庆祝，GitHub 将网站 logo 换成了彩虹背景。不过毕竟不能排斥异性恋，所以后来又把 logo 换回来了。&lt;/p&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
// 将“[a#b]”换成实际文本是 a、提示文本为 b 的蓝色文字
(function() {
  var ele = document.querySelector(&#39;article&#39;);
  if (ele === null) return false;

  var text = ele.innerHTML;
  var reg = /\[(.*?)#(.*?)\]/;
  while (reg.exec(text)) text = text.replace(reg, &#39;&lt;u class=&quot;text-info&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;bottom&quot; title=&quot;$2&quot;&gt;$1&lt;/u&gt;&#39;);

  ele.innerHTML = text;
})();

// 切换正经版本和恶搞版本
$(&#39;#switch&#39;).ready(function() {
  $(&#39;#switch&#39;).click(function() {
    $(&#39;u&#39;).each(function() {
      var ele = $(this);
      if (ele.attr(&#39;title&#39;)===undefined &amp;&amp; ele.data(&#39;original-title&#39;)===undefined) return true;

      var txt1 = ele.text();
      var txt2 = ele.attr(&#39;title&#39;)?ele.attr(&#39;title&#39;):ele.data(&#39;original-title&#39;);

      ele.attr(&#39;title&#39;, txt1).attr(&#39;data-original-title&#39;, txt1).text(txt2);
    });

    var e=$(&#39;#switch&#39;);
    if (e.hasClass(&#39;btn-info&#39;)) {
      e.removeClass(&#39;btn-info&#39;).addClass(&#39;btn-success&#39;).text(&#39;点这里换成恶搞版本&#39;);
    } else {
      e.removeClass(&#39;btn-success&#39;).addClass(&#39;btn-info&#39;).text(&#39;点这里换成正经版本&#39;);
    }
  });
});
&lt;/script&gt;

</description>
        <pubDate>Wed, 26 Aug 2015 22:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/08/26/github.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/08/26/github.html</guid>
        
        <category>GitHub</category>
        
        
        <category>Fun</category>
        
        <category>GitHub</category>
        
      </item>
    
      <item>
        <title>在 Linux 系统中上 QQ</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#wine&quot; id=&quot;markdown-toc-wine&quot;&gt;更新 wine&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wineqq&quot; id=&quot;markdown-toc-wineqq&quot;&gt;下载和安装 WineQQ&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;启动器&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#qq-&quot; id=&quot;markdown-toc-qq-&quot;&gt;QQ 卡死的处理&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;腾讯公司为了商业利益，放弃了 QQ for Linux 的开发。但是中国人又不得不用 QQ，于是……&lt;/p&gt;

&lt;p&gt;Linux 世界出现了三种解决方案：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;WebQQ（腾讯同样放弃了）/SmartQQ&lt;/li&gt;
  &lt;li&gt;分析 WebQQ 或什么的协议，自己写客户端&lt;/li&gt;
  &lt;li&gt;虚拟机：包括装 Windows 的和装 Android 的（GenyMotion）&lt;/li&gt;
  &lt;li&gt;WineQQ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;第一点当然最稳定，只不过功能少点，而且很容易顺手就把浏览器关掉了；第二点容易被封号；第三点当然很稳定，只不过有个虚拟机总给人一种累赘的感觉。&lt;/p&gt;

&lt;p&gt;所以 WineQQ 是一个折中的方案——不稳定，功能够多，不让人觉得累赘。&lt;/p&gt;

&lt;p&gt;最初的 WineQQ 是有 longene 团队开发的，现在他们已经弃坑（毕竟 wineqq 是副业），而深度团队和 CrossOver 合作（当然没有腾讯参与），已经出了比较新的 WineQQ。&lt;/p&gt;

&lt;p&gt;由于 wine 也支持 OS X 系统，所以苹果电脑同样可以用类似的方法使用 QQ。只不过，因为 QQ 有官方的苹果版，所以没有人会在乎这个。&lt;/p&gt;

&lt;h1 id=&quot;wine&quot;&gt;更新 wine&lt;/h1&gt;

&lt;p&gt;因为 Ubuntu 的 wine 比较旧，所以需要将 wine 更新到 1.7 版：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:ubuntu-wine/ppa
sudo apt-get update
sudo apt-get install wine1.7
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;其他系统可以略过。&lt;/p&gt;

&lt;h1 id=&quot;wineqq&quot;&gt;下载和安装 WineQQ&lt;/h1&gt;

&lt;p&gt;深度 WineQQ 是个 deb 安装包，但是因为用到了深度专有的软件包，所以 Ubuntu 等系统无法直接安装。&lt;/p&gt;

&lt;p&gt;先把它&lt;a href=&quot;http://packages.linuxdeepin.com/deepin/pool/non-free/d/deepinwine-qq/&quot;&gt;下载&lt;/a&gt;下来，当然，不要直接安装。&lt;/p&gt;

&lt;p&gt;使用解压缩软件解压，再将名为 control 的包解压（有的软件识别 deb 格式，看见的就是直接识别出来的内容），将其中的 opt/cxoffice/support/Deepin-QQ 目录解压到某个目录，例如 ~/Deepin-QQ。&lt;/p&gt;

&lt;p&gt;最后，运行命令：&lt;code class=&quot;highlighter-rouge&quot;&gt;WINEPREFIX=~/Deepin-QQ wine &quot;C:\Program Files\Tencent\QQ\Bin\QQ.exe&quot;&lt;/code&gt;，WineQQ 就弄好了。&lt;/p&gt;

&lt;p&gt;为了方便，可以将这条命令制作成脚本或启动器。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;启动器&lt;/h2&gt;

&lt;p&gt;假如 Deepin-QQ 目录是 /home/ubuntu/Deepin-QQ。&lt;/p&gt;

&lt;p&gt;想办法弄一张 QQ 的图片，保存到 /home/ubuntu/Deepin-QQ/qq.png。这张图将作为启动器（以及应用程序菜单中）的图标。&lt;/p&gt;

&lt;p&gt;建立一个文件 ~/.local/share/applications/qq.desktop，用文本编辑器将其打开，并输入&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ini&quot; data-lang=&quot;ini&quot;&gt;&lt;span class=&quot;nn&quot;&gt;[Desktop]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Application&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Categories&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Network;InstantMessaging;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Terminal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;QQ&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/bin/env WINEPREFIX=/home/ubuntu/Deepin-QQ wine &quot;C:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\P&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;rogram Files&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\T&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;encent&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\Q&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\B&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\Q&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Q.exe&quot;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/home/ubuntu/Deepin-QQ/qq.png&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;保存之后就可以在应用程序菜单中找到 QQ 了。&lt;/p&gt;

&lt;h2 id=&quot;qq-&quot;&gt;QQ 卡死的处理&lt;/h2&gt;

&lt;p&gt;毕竟是 wine，而且是腾讯不支持的项目，卡死崩溃都是正常现象。一旦卡死，可用以下命令结束所有 QQ 进程：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;WINEPREFIX=/home/ubuntu/Deepin-QQ wineserver -k
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 21 Aug 2015 04:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/08/21/wineqq.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/08/21/wineqq.html</guid>
        
        <category>wine</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Programming references on hand</title>
        <description>&lt;p&gt;As a developer, an browser for API documentation on hand is really helpful. So&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mac/iOS: &lt;a href=&quot;https://kapeli.com/dash&quot;&gt;Dash&lt;/a&gt;. Dash is avaliable on App Store. You can download it for free but you need to pay for all features.&lt;/li&gt;
  &lt;li&gt;Windows: &lt;a href=&quot;http://velocity.silverlakesoftware.com&quot;&gt;Velocity&lt;/a&gt;. Provided by Dash.&lt;/li&gt;
  &lt;li&gt;Linux: &lt;a href=&quot;http://zealdocs.org&quot;&gt;Zeal&lt;/a&gt;. Zeal is released under the GPL license, and docsets from Dash are avaliable for Zeal.&lt;/li&gt;
  &lt;li&gt;Android: &lt;a href=&quot;http://lovelydocs.io&quot;&gt;LovelyDocs&lt;/a&gt;. $ is required.&lt;/li&gt;
  &lt;li&gt;Online: &lt;a href=&quot;http://devdocs.io&quot;&gt;DevDocs&lt;/a&gt;. It works offline, on mobile, and can be installed on Chrome and Firefox. It’s also a free software.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.kapeli.com/dash-for-ios-android-windows-or-linux&quot;&gt;Dash for iOS, Android, Windows or Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 18 Aug 2015 04:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/08/18/hand-by-docs.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/08/18/hand-by-docs.html</guid>
        
        <category>Dash</category>
        
        <category>API</category>
        
        
        <category>Programming</category>
        
      </item>
    
      <item>
        <title>常见的云服务器</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;云主机&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;阿里云&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;腾讯云&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#digitalocean&quot; id=&quot;markdown-toc-digitalocean&quot;&gt;DigitalOcean&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#amazon-aws&quot; id=&quot;markdown-toc-amazon-aws&quot;&gt;Amazon AWS&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;免费空间&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;应用引擎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;在线开发平台&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;做出一个网站，到哪里去找一个合适的服务器呢？&lt;/p&gt;

&lt;div class=&quot;callout callout-danger&quot;&gt;
&lt;h4&gt;版权&lt;/h4&gt;
本文原是&lt;a href=&quot;http://wangchenyu.net.cn&quot;&gt;课戴表王晨宇&lt;/a&gt;写的，稍微整理了一下格式。转载请标明原作者！&lt;br /&gt;
语气更为中立的版本可见[这里](https://upclinux.github.io/intro/08/cloud/)。
&lt;/div&gt;

&lt;h1 id=&quot;section&quot;&gt;云主机&lt;/h1&gt;

&lt;p&gt;没有用过 benchmark 来跑分，但是我用 php 探针检测，腾讯云的可能因为是共享核吧的计算时间比列表中的参考值要大，阿里云的计算时间就比列表中的参考值都要小。我见网上很多人评论阿里云的硬盘速度慢，不过实际上网站的速度决定于 CPU 运算时间长短还有内存够不够用——除非你有别的用处。&lt;/p&gt;

&lt;p&gt;国内的我就用过腾讯云的 512M 共享核、阿里云的 1G 1核、阿里云的 512M 1核。实际上其他的也都不咋地了。&lt;/p&gt;

&lt;p&gt;国外的主机商我用过 DigitalOcean 的 512M 单核、Amazon AWS的各种配置（所有的“通用”型配置都用了一遍）、Windows Azure 4G、7G内存（免费体验嘛…）、vps.me的 128M 单核、HapHost 的 128M 单核、Conoha.jp 日本 1G 双核。&lt;/p&gt;

&lt;p&gt;IBM 的 Softlayer 只能算是应用引擎，所以后面再讲。&lt;/p&gt;

&lt;p&gt;可惜没能用上 Linode，因为不支持我的信用卡。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;阿里云&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;价格：512M 单核一年只需 288，但是流量费用另计。不过感觉起来是要比腾讯云划算。&lt;/li&gt;
  &lt;li&gt;操控性：可以随意的升级、降级、按月付费。&lt;/li&gt;
  &lt;li&gt;网速：下载东西时也是峰值 1~1.5MB/s 良心。不过因为我选择的青岛区域机房，所以在学校（备注：学校在青岛）的 ping 值 10 以下，有时候宿舍甚至是 2ms 1ms 爽。对了，腾讯云的共享核只能选广东。&lt;/li&gt;
  &lt;li&gt;系统：可以选择 Debian 5 32位。我选择的是 CentOS，一方面 yum 功能很强大，另一方面阿里云特别优化了 CentOS，装好启动内存在占 14M，我又稍微精简了一下只占 13M。镜像市场比腾讯云丰富的多，甚至有预装了 hhvm 的镜像。&lt;/li&gt;
  &lt;li&gt;客服：只能电话或者工单。不过工单一般一天内就回复了，技术类的几分钟就回复。&lt;/li&gt;
  &lt;li&gt;赠品：云盾是个好东西，能真的帮忙拦截 web 攻击和 ssh 攻击。不过 ssh 攻击只要主机优化好了也没啥。送 128M 的 OCS（完全兼容 memcached）也是一个大礼，尤其是对于 512M 内存的服务器，简直是雪中送炭。我的网站就在用，目测提速不少。通过 ACE 还可以开通免费的 RDS（rds 可能将来会收费）。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-2&quot;&gt;腾讯云&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;价格，一年 360 块钱的共享核能凭借低价吸引很多人。&lt;/li&gt;
  &lt;li&gt;操控性：我是贪便宜的上当者，因为买了以后才发现不能升级、不能退款，只能以年为单位续费。所以只好挂一个小网站耗着。也有优点，就是可以直接在后台给 Linux 服务器挂载 SSH 密钥。然而这个小小的优点……有点鸡肋。&lt;/li&gt;
  &lt;li&gt;网速：下载东西时 1M 宽带峰值 1~1.5MB/s 良心。&lt;/li&gt;
  &lt;li&gt;系统：后台可选择的系统不多，至少没有“专门针对小内存主机”的 Debian 32 位系统。好在服务市场里面免费环境很多。&lt;/li&gt;
  &lt;li&gt;客服：比较垃圾。联系很多次有时候等一天都排不上个队。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;digitalocean&quot;&gt;DigitalOcean&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;网速：网上大批的 do 的评测文章因为邀请一个人注册送 10$，但是国内线路最好的 San Francisco 节点我用起来感觉一点也不好。虽然网速可以达到满但是延迟 200~300 太高，不适合放网站。我装了一个 amh 面板，那个面板打开有时候慢的惊人。&lt;/li&gt;
  &lt;li&gt;操控性：提供的系统非常全面，而且可以细分到很多，这一点我非常满意，所以我经常测试各种系统&lt;/li&gt;
  &lt;li&gt;价格：512M 的 $5 一个月已经算是非常便宜了。而且推荐别人注册还能送钱。据说容易封号，不过我的账号用了半年了都没被封。&lt;/li&gt;
  &lt;li&gt;客服：全英文，不过很友好，回答速度也很快。&lt;/li&gt;
  &lt;li&gt;跑分同样是没跑，不过……我就挂了一个 vpn 目前。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;amazon-aws&quot;&gt;Amazon AWS&lt;/h2&gt;

&lt;p&gt;因为我在除了 1G 1 核以外其他主机都用的 Windows 系统，所以不说什么了。而且现在没在用，只能凭回忆。不过吐槽一下 4 核 8G 内存的主机挖矿效率很低啊！&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;网速：下载速度可以到满速，但是 Oregon 和 San Francisco 到国内延迟就很高，有时候还丢包。东京的很满意，Ping 值有时候 100 左右，而且网速也比较稳定。&lt;/li&gt;
  &lt;li&gt;操控性：非常好。可以搜到其他用户共享出来的镜像，所以基本上你想得到的都有。镜像市场更是非常全面。&lt;/li&gt;
  &lt;li&gt;客服：一般提交 Ticket 以后就会有客服来打电话，说的英语很标准，而且也很热心。&lt;/li&gt;
  &lt;li&gt;赠品：非常多，rds 20G，S3 储存 5G，SSD 磁盘 30G 其他的我都没用过。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;现在注册以后是不能直接用东京节点的服务器的，只能发邮件申请，而且时间相当漫长，好像要一星期。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;免费空间&lt;/h2&gt;

&lt;p&gt;vps.me 和 HapHost 我用的都是免费的，性能很垃圾。&lt;/p&gt;

&lt;p&gt;现在 haphost 已经没了，都并入 host1plus 了。&lt;/p&gt;

&lt;p&gt;vps.me 上没有开放ipv4，需要做端口映射，只给了ipv6。&lt;/p&gt;

&lt;p&gt;Conoha.jp 也没怎么用，申请了体验两个月，现在应该还没过期。国内速度可以。操作系统给的很全。因为用的是 kvm，所以可以直接重装系统啊什么的，理论上还能挂一个 Windows 镜像玩玩。只支持信用卡付款。客服没接触过，官网日语难懂，翻译了也难懂。还好系统都是英语的。&lt;/p&gt;

&lt;p&gt;对了，我有两个免费空间十分推荐，提供PHP和Mysql，据我观察他们上面有不少早至2009年就存在的免费网站，简单来说就是他们已经被证实至少6年不删不活跃用户：一个是freehostia.com（注册登陆需要翻墙，但是申请到的空间不需翻墙）一个是summerhost.info（完全开放给国人），summerhost.info 和 byethost.com很类似，都很稳定，不删用户。&lt;/p&gt;

&lt;h1 id=&quot;section-4&quot;&gt;应用引擎&lt;/h1&gt;

&lt;p&gt;（此处忘记了 SAE、BAE、GAE、Heroku）&lt;/p&gt;

&lt;p&gt;因为 openshift 支持 ssh 连接，所以基本上算半个 vps 了。&lt;/p&gt;

&lt;p&gt;openshift 用的就是亚马逊的服务器，但是网址被墙了。幸运的是ip没被墙，所以直接ping出来ip然后用一个cdn就能做网站，直接用ip连ssh就能翻墙。提供1.5GRAM和3G的硬盘空间，无限流量
一个用户可以创建3个免费的应用。&lt;/p&gt;

&lt;p&gt;和openshift相似但是没有被屏蔽的有phpcloud appfog 还有一个大家都知道的 SourceForge。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;uhurucloud 支持 .Net。&lt;/li&gt;
  &lt;li&gt;Snapphq  asp php mysql&lt;/li&gt;
  &lt;li&gt;Jelastic Java php mysql&lt;/li&gt;
  &lt;li&gt;CloudBees java php mysql&lt;/li&gt;
  &lt;li&gt;Cumulogic java php mysql&lt;/li&gt;
  &lt;li&gt;MoPaaS Java Ruby php mysql&lt;/li&gt;
  &lt;li&gt;Another Service  Another Service是一个法国的云计算平台&lt;/li&gt;
  &lt;li&gt;phpfog和Orchestra和cloudcontrol和dotcloud和pagodabox php+mysql&lt;/li&gt;
  &lt;li&gt;Appharbor和Webweb asp asp.net&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;需要注意的是，这些免费版（除了 GAE）一般不允许 24 小时连续开机，需要手动启动，除非付钱。&lt;/p&gt;

&lt;p&gt;对了，国内的引擎还有
* 阿里的 ACE（目前内侧免费）
* 京东的 jae
* 腾讯的 cee
* 盛大的 CAE&lt;/p&gt;

&lt;h1 id=&quot;section-5&quot;&gt;在线开发平台&lt;/h1&gt;

&lt;p&gt;然后就是在线开发平台，比如 cloud9.io、coding.net、nitrous.io、heroku、uhurucloud。值得一提的是这些基本上都支持node.js。&lt;/p&gt;
</description>
        <pubDate>Sun, 16 Aug 2015 20:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/08/16/cloud.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/08/16/cloud.html</guid>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>Install Rails (Mac/Cygwin/Windows)</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#install-rails-on-my-mac&quot; id=&quot;markdown-toc-install-rails-on-my-mac&quot;&gt;Install Rails on my Mac&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#nokogiri&quot; id=&quot;markdown-toc-nokogiri&quot;&gt;nokogiri&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#failed&quot; id=&quot;markdown-toc-failed&quot;&gt;1 (FAILED)&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#failed-1&quot; id=&quot;markdown-toc-failed-1&quot;&gt;2 (FAILED)&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;3 (╯°Д°)╯︵ ┻━┻&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-nokogiri-in-windows&quot; id=&quot;markdown-toc-install-nokogiri-in-windows&quot;&gt;Install nokogiri in Windows&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-nokogiri-under-cygwin&quot; id=&quot;markdown-toc-install-nokogiri-under-cygwin&quot;&gt;Install nokogiri under Cygwin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#vagrant&quot; id=&quot;markdown-toc-vagrant&quot;&gt;Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Macbook is better than computers with Windows or Linux inside because of few developing issues. Except Rails…&lt;/p&gt;

&lt;p&gt;[% callout %]
中国的朋友们&lt;/p&gt;

&lt;p&gt;如果在安装过程中遇到了“Connection reset”或“Timeout”的错误，那一定是防火的长城干的&lt;span class=&quot;blackout&quot;&gt;敢在这里污蔑当，一定是勾结了境外反华组织&lt;/span&gt;。因此，解决方法有三种：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;用你的科学上网工具（设置 HTTP_PROXY 和 HTTPS_PROXY）&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ruby.taobao.org&quot;&gt;淘宝&lt;/a&gt;——淘宝除了可以购物，还可以……&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;改 /etc/hosts：&lt;/p&gt;

    &lt;p&gt;23.235.40.249 rubygems.global.ssl.fastly.net
   54.186.104.15 production.cf.rubygems.org
   54.186.104.15 production.s3.rubygems.org&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;这三种方法都可以——怎么方便怎么来就行。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;install-rails-on-my-mac&quot;&gt;Install Rails on my Mac&lt;/h1&gt;

&lt;p&gt;[% callout style=danger %]
A better solution for Ubuntu/Mac&lt;/p&gt;

&lt;p&gt;Because it’s hard to install Rails, there are some special websites that introduce how to setup it. For example, &lt;a href=&quot;https://gorails.com&quot;&gt;GoRails&lt;/a&gt; and &lt;a href=&quot;https://gorails.com/setup/osx/10.10-yosemite&quot;&gt;guides&lt;/a&gt; in it.&lt;br /&gt;
[% endcallout %]&lt;/p&gt;

&lt;p&gt;What is installed on my Mac:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;MacPorts&lt;/li&gt;
  &lt;li&gt;Xcode&lt;/li&gt;
  &lt;li&gt;Ruby 2.2.3: installed by MacPorts, and is the default Ruby interpreter.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;First, gcc is required. If you don’t have gcc, just type&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcode-select --install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then it’s ready to type&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gem install rails
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;BUT…&lt;/p&gt;

&lt;h2 id=&quot;nokogiri&quot;&gt;nokogiri&lt;/h2&gt;

&lt;p&gt;nokogiri is the only troublemaker during the whole installation.&lt;/p&gt;

&lt;h3 id=&quot;failed&quot;&gt;1 (FAILED)&lt;/h3&gt;

&lt;p&gt;First I installed nokogiri directly so I failed.&lt;/p&gt;

&lt;p&gt;So I tried to do as what the message said. However, failed again.&lt;/p&gt;

&lt;h3 id=&quot;failed-1&quot;&gt;2 (FAILED)&lt;/h3&gt;

&lt;p&gt;I have read installation documents:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;http://www.nokogiri.org/tutorials/installing_nokogiri.html#mac_os_x&lt;/li&gt;
  &lt;li&gt;https://github.com/sparklemotion/nokogiri/wiki/What-to-do-if-libxml2-is-being-a-jerk&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;According to the document, I tried&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo port install libxml2 libxslt
sudo gem install nokogiri -- --with-xml2-include=/opt/local/include/libxml2 --with-xml2-lib=/opt/local/lib --with-xslt-dir=/opt/local
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;I have also tried&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gem install nokogiri -- --with-xml2-include=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk/usr/include/libxml2 --use-system-libraries
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Of course, it failed again and again.&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;3 (╯°Д°)╯︵ ┻━┻&lt;/h3&gt;

&lt;p&gt;Finally, I gave up on trying and decided to use the system version instead.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gem install nokogiri -v &#39;1.6.6.2&#39; -- --use-system-libraries --with-xml2-include=/usr/include/libxml2 --with-xml2-lib=/usr/lib
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(UPDATE: The newest version is 1.6.7.)&lt;/p&gt;

&lt;p&gt;It’s really Pyrrhic victory.&lt;/p&gt;

&lt;h1 id=&quot;install-nokogiri-in-windows&quot;&gt;Install nokogiri in Windows&lt;/h1&gt;

&lt;p&gt;[% callout style=warning %]
WARNING&lt;/p&gt;

&lt;p&gt;Do not use Rails in Windows unless you like the feel of SLOOOOOOOW.
[% endcallout %]&lt;/p&gt;

&lt;p&gt;Because it’s hard to compile in Windows. Nokogiri team has already worked for it. Just use&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install nokogiri
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;and everything will be ok.&lt;/p&gt;

&lt;p&gt;If you intend to do everything from scratch:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Install Ruby and DevKit&lt;/li&gt;
  &lt;li&gt;Download libxml2, libxslt (这俩需要翻墙), iconv and zlib. Unzip them, set PATH variable to gcc, and lots of &lt;code class=&quot;highlighter-rouge&quot;&gt;./configure &amp;amp;&amp;amp; make&lt;/code&gt;.
    &lt;ul&gt;
      &lt;li&gt;libxslt needs libxml2, so you need to give correct parameters before running &lt;code class=&quot;highlighter-rouge&quot;&gt;configure&lt;/code&gt;. For example, &lt;code class=&quot;highlighter-rouge&quot;&gt;./configure --with-libxml-src=/c/opt/include/libxml2-2.9.2
&lt;/code&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The final gem command should look like –&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; gem install nokogiri --platform=ruby -- --use-system-libraries --with-xml2-include=C:\opt\include\libxml2-2.9.2\include --with-xml2-lib=C:\opt\include\libxml2-2.9.2\.libs --with-xslt-include=C:\opt\include\libxslt-1.1.28 --with-xslt-lib=c:\opt\include\libxslt-1.1.28\libxslt\.libs --with-exslt-include=c:\opt\include\libxslt-1.1.28 --with-exslt-lib=c:\opt\include\libxslt-1.1.28\libexslt\.libs --with-zlib-lib=C:\opt\include\zlib-1.2.8 --with-zlib-include=C:\opt\include\zlib-1.2.8
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Enter irb, then type &lt;code class=&quot;highlighter-rouge&quot;&gt;require &#39;nokogiri&#39;&lt;/code&gt;. If it returned true, CONGRATULATIONS! &lt;span class=&quot;blackout&quot;&gt;If error messages show up…(╯°Д°)╯︵ ┻━┻&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;install-nokogiri-under-cygwin&quot;&gt;Install nokogiri under Cygwin&lt;/h1&gt;

&lt;p&gt;[% callout style=warning %]
WARNING&lt;/p&gt;

&lt;p&gt;Do not use Rails in Cygwin unless you like the feel of SLOOOOOOOOOOOOOOOOOOOW.
[% endcallout %]&lt;/p&gt;

&lt;p&gt;Install &lt;code class=&quot;highlighter-rouge&quot;&gt;ruby&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gcc&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;binutils&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Then install &lt;code class=&quot;highlighter-rouge&quot;&gt;libxml2&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;libxml2-devel&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;libxslt&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;libxslt-devel&lt;/code&gt;, and type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install nokogiri -- --use-system-libraries --with-xml2-include=/usr/include/libxml2 --with-xml2-lib=/usr/lib --with-xslt-dir=/usr/include/libxslt
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;vagrant&quot;&gt;Vagrant&lt;/h1&gt;

&lt;p&gt;For Windows users, you can try &lt;a href=&quot;https://www.vagrantup.com/&quot;&gt;Vagrant&lt;/a&gt;. It can be used to create an independent developing environment via virtual machines. And RubyMine supports it.&lt;/p&gt;

&lt;p&gt;With Vagrant, SLOOOOOOOW can reduce to SLOW…It’s much better than SLOOOOOOOW and SLOOOOOOOOOOOOOOOOOOOW.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;blackout&quot;&gt;Linux大法好，退Windows保平安&lt;/span&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 26 Jul 2015 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/07/26/install-rails.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/07/26/install-rails.html</guid>
        
        <category>Rails</category>
        
        
        <category>Ruby</category>
        
        <category>Mac</category>
        
      </item>
    
      <item>
        <title>Use Android phone as the secord screen</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#my-example&quot; id=&quot;markdown-toc-my-example&quot;&gt;My example&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#steps&quot; id=&quot;markdown-toc-steps&quot;&gt;Steps&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#remote-desktop&quot; id=&quot;markdown-toc-remote-desktop&quot;&gt;Remote Desktop&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#install-vnc-server&quot; id=&quot;markdown-toc-install-vnc-server&quot;&gt;Install VNC Server&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#start-vnc-server&quot; id=&quot;markdown-toc-start-vnc-server&quot;&gt;Start VNC Server&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#vnc-client&quot; id=&quot;markdown-toc-vnc-client&quot;&gt;VNC Client&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#synergy&quot; id=&quot;markdown-toc-synergy&quot;&gt;Synergy&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#install--configure-synergy&quot; id=&quot;markdown-toc-install--configure-synergy&quot;&gt;Install &amp;amp; configure synergy&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#start-synergy-serverclient&quot; id=&quot;markdown-toc-start-synergy-serverclient&quot;&gt;Start synergy server/client&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I just have a Banana Pro with a small (TFT) screen. However the screen is too tiny to show. So I take my Android phone as the second screen and make my keyboard and mouse available.&lt;/p&gt;

&lt;h1 id=&quot;my-example&quot;&gt;My example&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-07-19-dual-screens/device.jpg&quot; alt=&quot;devices&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The left screen is connected to the Banana Pro directly. The right screen is my Android phone which is running a remote desktop client. They two are showing different desktops.&lt;/p&gt;

&lt;p&gt;My keyboard and mouse are connected to the pi, but they can also control the desktop in the phone directly.&lt;/p&gt;

&lt;p&gt;[% callout style=info %]
The TFT screen&lt;/p&gt;

&lt;p&gt;The TFT screen will NOT show things automatically. You need to load a kernel model called &lt;code&gt;fbtft&lt;/code&gt; first.&lt;/p&gt;

&lt;p&gt;If you’re using Raspberry Pi and you’re rich, it’s better to purchase a HDMI screen.
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout style=info %]
Pi&lt;/p&gt;

&lt;p&gt;In fact, Raspberry Pi (Banana Pro is imitating the pi) is also a kind of computer. So you can also use your computers or laptops as the host.
[% endcallout %]&lt;/p&gt;

&lt;p&gt;[% callout style=warning %]
Wireless required&lt;/p&gt;

&lt;p&gt;I’m using VNC for remote desktop so wireless is required for connecting. And the phone and the host should be connected in the same LAN.
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;steps&quot;&gt;Steps&lt;/h1&gt;

&lt;p&gt;There are two tasks:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Remote Desktop: Let the phone show a desktop from the Pi.&lt;/li&gt;
  &lt;li&gt;Share keyboard &amp;amp; mouse: Let the keyboard and mouse control the desktop in the phone directly.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The OS in my banana is Fedora so I will take Fedora as example.&lt;/p&gt;

&lt;h2 id=&quot;remote-desktop&quot;&gt;Remote Desktop&lt;/h2&gt;

&lt;h3 id=&quot;install-vnc-server&quot;&gt;Install VNC Server&lt;/h3&gt;

&lt;p&gt;The answer to the first question is &lt;code class=&quot;highlighter-rouge&quot;&gt;VNC&lt;/code&gt;. It can start a new session:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo yum install tigervnc-server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then open &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.vnc/xstartup&lt;/code&gt;, modify the last line &lt;code class=&quot;highlighter-rouge&quot;&gt;twm &amp;amp;&lt;/code&gt; to your own desktop environment (for example, &lt;code class=&quot;highlighter-rouge&quot;&gt;startxfce4 &amp;amp;&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;mate-session &amp;amp;&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;At last, use &lt;code class=&quot;highlighter-rouge&quot;&gt;vncpasswd&lt;/code&gt; to set a password.&lt;/p&gt;

&lt;h3 id=&quot;start-vnc-server&quot;&gt;Start VNC Server&lt;/h3&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;vncserver&lt;/code&gt; for remote desktop.&lt;/p&gt;

&lt;p&gt;The resolution of my phone is 848x480 so I typed:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vncserver -geomerty 848x480
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can use any resolution you like.&lt;/p&gt;

&lt;p&gt;If you want to kill the session, just type &lt;code class=&quot;highlighter-rouge&quot;&gt;vncserver -kill :1&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;vnc-client&quot;&gt;VNC Client&lt;/h3&gt;

&lt;p&gt;First you must know IP of the host and start the VNC server.&lt;/p&gt;

&lt;p&gt;There are many VNC clients in Google Play. Just pick one randomly.&lt;/p&gt;

&lt;p&gt;Assume the IP is 192.168.1.100, you should connect to &lt;code class=&quot;highlighter-rouge&quot;&gt;192.168.1.100:5901&lt;/code&gt;. After typing the password you set, you should see the new desktop.&lt;/p&gt;

&lt;p&gt;If there is nothing on the screen, please check and modify &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.vnc/xstartup&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;synergy&quot;&gt;Synergy&lt;/h2&gt;

&lt;p&gt;By now you can’t use keyboard and mouse directly, so &lt;code class=&quot;highlighter-rouge&quot;&gt;Synergy&lt;/code&gt; is needed.&lt;/p&gt;

&lt;p&gt;[% callout %]
Synergy&lt;/p&gt;

&lt;p&gt;Synergy is a tool for sharing keyboard and mouse to multiple computers. It supports Windows, Linux and Mac at the same time. It’s free software under GNU GPL license.
[% endcallout %]&lt;/p&gt;

&lt;h3 id=&quot;install--configure-synergy&quot;&gt;Install &amp;amp; configure synergy&lt;/h3&gt;

&lt;p&gt;Type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo yum install synergy
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then edit &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.synergy.conf&lt;/code&gt; and type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;section: screens
	host:
	client:
end
section: links
	client:
		right = host
	host:
		left = client
end
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;start-synergy-serverclient&quot;&gt;Start synergy server/client&lt;/h3&gt;

&lt;p&gt;Make sure the desktop of the host and VNC server are started. Then type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;synergys --name host --display :0 --address 127.0.0.1
synergyc --name client --display :1 127.0.0.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then the Android phone will work like a “real” screen. (However, the mouse pointer may be invisible.)&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Jul 2015 00:35:04 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/07/20/dual-screens.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/07/20/dual-screens.html</guid>
        
        <category>Synergy</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>电脑出现故障，如何正确地提问</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;向同学求助&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;求助内容&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;示例&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;电脑开不开机&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;没网&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;参考资料&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;写给那些电脑出现故障而去网上提问的人，希望你们认真阅读，免得无故被人鄙视……&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;向同学求助&lt;/h2&gt;

&lt;p&gt;谨记以下三条原则：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;学生不是专业维修人员，没有义务帮你修电脑，更没有义务帮你把你电脑修好。
    &lt;ul&gt;
      &lt;li&gt;在提要求之前，先支付报酬。此处的报酬不一定是金钱，也可能是其他东西，例如零食或什么的，或者只是简单但真诚地说一句“谢谢”。&lt;/li&gt;
      &lt;li&gt;在你提供的信息不足以解决问题的时候，最好当面解决。不要因为信息不足而让对方感到麻烦。&lt;/li&gt;
      &lt;li&gt;如果问题无法解决，不得责难和嘲笑对方。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;避免在对方上课和考试的时间求助。&lt;/li&gt;
  &lt;li&gt;对以上两条原则有意见，可以花钱找专业维修人员。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-1&quot;&gt;求助内容&lt;/h2&gt;

&lt;p&gt;在提出求助时，应写清以下内容&lt;sup&gt;[1]&lt;/sup&gt;：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;问题的&lt;code class=&quot;highlighter-rouge&quot;&gt;简要描述&lt;/code&gt;，以及出现问题的&lt;code class=&quot;highlighter-rouge&quot;&gt;截图&lt;/code&gt;。
    &lt;ul&gt;
      &lt;li&gt;如果有以数字和字母形式 (即十六进制数字) 出现的错误代码，务必记录下来。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;在出现问题之前，&lt;code class=&quot;highlighter-rouge&quot;&gt;你做过哪些硬件和软件改动&lt;/code&gt;，以及哪些不寻常的事儿 (例如：我给了电脑一记重拳)。&lt;/li&gt;
  &lt;li&gt;技术细节：
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;操作系统版本&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;安装盘来源&lt;/code&gt; (MSDN/Ghost/预装…)：例如
        &lt;ul&gt;
          &lt;li&gt;Windows 8.1 专业版 x64 (MSDN)&lt;/li&gt;
          &lt;li&gt;Windows 7 专业版 x86 (Ghost)&lt;/li&gt;
          &lt;li&gt;Ubuntu 14.04 amd64&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;你采取过的修复措施&lt;/code&gt;：例如
        &lt;ul&gt;
          &lt;li&gt;用驱动精灵更新了一下驱动；&lt;/li&gt;
          &lt;li&gt;重装了一下软件；&lt;/li&gt;
          &lt;li&gt;按照 http://www.xxx.com/xxxxx.html 上面的步骤操作了一遍。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;硬件配置：如果怀疑与硬件问题有关，写清&lt;code class=&quot;highlighter-rouge&quot;&gt;硬件配置&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;参数&lt;/code&gt;。&lt;/li&gt;
      &lt;li&gt;网络配置：如果是网络问题，写清&lt;code class=&quot;highlighter-rouge&quot;&gt;网络配置&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;连接方法&lt;/code&gt;。例如连接到宿舍路由器，宿舍路由器采用动态 IP 配置。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;向同学提出求助时，如果自己感觉对这些东西不太懂，最好在确认对方方便之后，当面解决。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;示例&lt;/h2&gt;

&lt;h3 id=&quot;section-3&quot;&gt;电脑开不开机&lt;/h3&gt;

&lt;p&gt;我的电脑开不开机了。&lt;/p&gt;

&lt;p&gt;在我打开电脑之后，我看到了 Dell 标志，然后就看到屏幕提示：“Windows 未能启动……”。出现故障的照片如下：&lt;/p&gt;

&lt;p&gt;［此处略去一张照片］&lt;/p&gt;

&lt;p&gt;我什么都没弄。昨天开机的时候还好好的。&lt;/p&gt;

&lt;p&gt;我电脑装的是 Windows 7 64 位。好像是卖电脑那人给装的。&lt;/p&gt;

&lt;div class=&quot;callout callout-primary&quot;&gt;
&lt;h4&gt;分析&lt;/h4&gt;
如果只说第一句话，那么很可能会被人鄙视。因为电脑开不开机的情况有很多种，其中最明显的就是电脑没通电。&lt;br /&gt;
通过分析第二行和附带的照片 (特别是照片附带的错误代码)，分析可能是引导问题。&lt;br /&gt;
第三行和第四行进一步明确了细节，排除了某些导致故障的可能，缩小了解决问题的范围 (例如不恰当地删除文件导致了引导问题)。
&lt;/div&gt;

&lt;h3 id=&quot;section-4&quot;&gt;没网&lt;/h3&gt;

&lt;p&gt;我电脑上不了网了。&lt;/p&gt;

&lt;p&gt;电脑提示“连接受限”，网页和 QQ 都打不开。&lt;/p&gt;

&lt;p&gt;我电脑连的是宿舍路由器，用手机连就能上网，别人电脑连接之后也能上网。&lt;/p&gt;

&lt;div class=&quot;callout callout-primary&quot;&gt;
&lt;h4&gt;分析&lt;/h4&gt;
如果只说第一句话，一样会被人鄙视。&lt;br /&gt;
第二行的“连接受限”指出电脑可能未正确获取 IP。&lt;br /&gt;
第三行指出很可能是电脑系统的问题，不是路由器的问题，更不是学校的问题。
&lt;/div&gt;

&lt;h2 id=&quot;section-5&quot;&gt;参考资料&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://bbs.pcbeta.com/viewthread-1523514-1-1.html&quot;&gt;远景论坛 - 互助区求助帖发帖格式规范&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Wed, 01 Jul 2015 04:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/07/01/how-to-ask.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/07/01/how-to-ask.html</guid>
        
        
        <category>Maintainance</category>
        
      </item>
    
      <item>
        <title>Things about surfing the Internet scientifically</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#notes-about-the-gfw&quot; id=&quot;markdown-toc-notes-about-the-gfw&quot;&gt;Notes about the GFW&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#some-simple-technologies&quot; id=&quot;markdown-toc-some-simple-technologies&quot;&gt;Some simple technologies&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#substitutes&quot; id=&quot;markdown-toc-substitutes&quot;&gt;Substitutes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#online-proxy&quot; id=&quot;markdown-toc-online-proxy&quot;&gt;Online Proxy&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#hosts&quot; id=&quot;markdown-toc-hosts&quot;&gt;Hosts&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#anti-pollution-dns-servers&quot; id=&quot;markdown-toc-anti-pollution-dns-servers&quot;&gt;Anti-pollution DNS Servers&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#vpn&quot; id=&quot;markdown-toc-vpn&quot;&gt;VPN&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#lazy-tools&quot; id=&quot;markdown-toc-lazy-tools&quot;&gt;Lazy Tools&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ipv6&quot; id=&quot;markdown-toc-ipv6&quot;&gt;IPv6&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#set-up-your-own-proxy-server&quot; id=&quot;markdown-toc-set-up-your-own-proxy-server&quot;&gt;Set up your own proxy server&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#goagent&quot; id=&quot;markdown-toc-goagent&quot;&gt;GoAgent&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#shadowsocks&quot; id=&quot;markdown-toc-shadowsocks&quot;&gt;Shadowsocks&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Written for some countries which have some well-known issues about the Internet.&lt;/p&gt;

&lt;h2 id=&quot;notes-about-the-gfw&quot;&gt;Notes about the GFW&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Do NOT teach the method of circumvention in public or you will have FREE meals every day.&lt;/li&gt;
  &lt;li&gt;Try to use a safer transmission protocol like HTTPS, or the GFW may break the connection when detects the keyword.&lt;/li&gt;
  &lt;li&gt;The wall may heighten during important dates such as NPC &amp;amp; CPPCC or May 35th.&lt;/li&gt;
  &lt;li&gt;Compared with the North Korea, we are living in a happy life. &amp;lt;img class=’emoji’ title=’&lt;img class=&quot;emoji&quot; title=&quot;:ghost:&quot; alt=&quot;:ghost:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f47b.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ alt=’&lt;img class=&quot;emoji&quot; title=&quot;:ghost:&quot; alt=&quot;:ghost:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f47b.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;’ src=’https://assets.github.com/images/icons/emoji/unicode/1f47b.png’ height=’20’ width=’20’ align=’absmiddle’ /&amp;gt; There is complelety no Internet so there is no way to “cross the wall” in DPRK.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;some-simple-technologies&quot;&gt;Some simple technologies&lt;/h2&gt;

&lt;h3 id=&quot;substitutes&quot;&gt;Substitutes&lt;/h3&gt;

&lt;p&gt;If you don’t care about the quality and the censor, and you don’t like to be in trouble, you can use substitutes.&lt;/p&gt;

&lt;p&gt;However, you will find that Google, Wikipedia or so on are still necessary on academic purpose.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.gfsoso.net&quot;&gt;Gfsoso&lt;/a&gt; is a “mover” for Google Search, Images and Academic. It’s on record in China so it will not be GFWed (And you can’t search sensitive things by it).&lt;/p&gt;

&lt;h3 id=&quot;online-proxy&quot;&gt;Online Proxy&lt;/h3&gt;

&lt;p&gt;Search “Online Proxy” (please translate it into Chinese) in Baidu or other search engines.&lt;/p&gt;

&lt;p&gt;Disadvantages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unstable&lt;/li&gt;
  &lt;li&gt;May not support HTTPS&lt;/li&gt;
  &lt;li&gt;Security and privacy issues&lt;/li&gt;
  &lt;li&gt;Advertisement&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;hosts&quot;&gt;Hosts&lt;/h3&gt;

&lt;p&gt;Some GFWed websites, like Wikipedia, Twitter, GitHub Gist, are not completely blocked. In fact, only domains are polluted.&lt;/p&gt;

&lt;p&gt;Therefore, you can search a suitable &lt;code class=&quot;highlighter-rouge&quot;&gt;hosts&lt;/code&gt; file, replace the one in your computer (&lt;code class=&quot;highlighter-rouge&quot;&gt;C:\Windows\system32\drivers\etc\hosts&lt;/code&gt; in Windows or &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; in Linux and OS X) with it.&lt;/p&gt;

&lt;p&gt;NOTE:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Google is special – You need to change the IP of Google regularly. For example, one IP was avaliable yesterday, but it’s GFWed today. However, it may be opened again tomorrow.&lt;/p&gt;

    &lt;p&gt;As for Google, you need a program called &lt;a href=&quot;https://github.com/azzvx/gogotester&quot;&gt;GoGoTester&lt;/a&gt; (Windows Only).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;As for Youtube, it’s better to use another method for accessing.&lt;/li&gt;
  &lt;li&gt;It’s useless to change hosts if IPs are GFWed.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;callout callout-primary&quot;&gt;
&lt;h4&gt;HTTPS required&lt;/h4&gt;
Common websites use HTTPS now. With HTTPS, the GFW will not be able to reset the connection by filtering keywords. However, you need to type &quot;https://&quot; manually sometimes or Mr. Fang will still laugh at you.
&lt;/div&gt;

&lt;h3 id=&quot;anti-pollution-dns-servers&quot;&gt;Anti-pollution DNS Servers&lt;/h3&gt;

&lt;p&gt;Based on the same reason, alternative DNS servers are OK. For example, OpenDNS or Google DNS.&lt;/p&gt;

&lt;h3 id=&quot;vpn&quot;&gt;VPN&lt;/h3&gt;

&lt;p&gt;There are many free and non-free VPNs. Non-free VPNs are recommended because of the quality.&lt;/p&gt;

&lt;h3 id=&quot;lazy-tools&quot;&gt;Lazy Tools&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;畅游无限浏览器: A well-preconfigured GoAgent &amp;amp; Chrome. Of course, you can copy its configuration file to your own GoAgent client.&lt;/li&gt;
  &lt;li&gt;Web freer: A modified chrome with a proxy client inside.&lt;/li&gt;
  &lt;li&gt;Freegate, UltraSurf: Two lazy tools that developed by Falun Gong. They can work under wine.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ipv6&quot;&gt;IPv6&lt;/h3&gt;

&lt;p&gt;If you can access to the Internet via IPv6, it will be easy for some large websites.&lt;/p&gt;

&lt;p&gt;The GFW isn’t able to affect IPv6 sites by now. Thus, you can surf Google, Youtube and other websites as long as you find a &lt;code class=&quot;highlighter-rouge&quot;&gt;hosts&lt;/code&gt; file or a non-polluted DNS server for IPv6.&lt;/p&gt;

&lt;h2 id=&quot;set-up-your-own-proxy-server&quot;&gt;Set up your own proxy server&lt;/h2&gt;

&lt;p&gt;There are no Great Walls except that country. So you can enjoy a self sufficient life as long as you set up a non-GFWed server abroad.&lt;/p&gt;

&lt;p&gt;You don’t need to develop proxy softwares yourself. You just need to know how to setup and how to use.&lt;/p&gt;

&lt;h3 id=&quot;goagent&quot;&gt;GoAgent&lt;/h3&gt;

&lt;p&gt;GoAgent is written in Python so it can be used in Windows, Linux, OS X. It uses Google App Engine server to provide users with a free proxy service to gain access to blocked information.&lt;/p&gt;

&lt;p&gt;Someone finds that GoAgent seems to be disabled.&lt;/p&gt;

&lt;p&gt;In fact, the truth is that GAE was GFWed and Google IPs are often blocked while GoAgent is OK, so you need to change IPs regularly.&lt;/p&gt;

&lt;p&gt;Use &lt;a href=&quot;https://github.com/azzvx/gogotester&quot;&gt;GoGoTester&lt;/a&gt; for alternative IPs.&lt;/p&gt;

&lt;p&gt;NOTES：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Don’t forget to import the certificate like 12306 or some browsers may refuse to load pages.&lt;/li&gt;
  &lt;li&gt;Google IPs are unstable. You need to update proxy.ini regularly.&lt;/li&gt;
  &lt;li&gt;You can’t hide yourself because of the request header of GAE applications.&lt;/li&gt;
  &lt;li&gt;There are traffic and speed limits on GAE. An app is 1GB/day. You can create at most 10 apps in an account and GoAgent can switch apps automatically.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;shadowsocks&quot;&gt;Shadowsocks&lt;/h3&gt;

&lt;p&gt;Shadowsocks is another Server/Client kit. It also supports all kinds of platforms.&lt;/p&gt;

&lt;p&gt;If you can’t find a server, you can pay some money for avaliable services – &lt;a href=&quot;https://shadowsocks.com&quot;&gt;https://shadowsocks.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can use a student email to register GitHub Education, and then you’ll get a server of DigitalOcean with $100 charged.&lt;/p&gt;
</description>
        <pubDate>Fri, 19 Jun 2015 22:34:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/06/19/gfw.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/06/19/gfw.html</guid>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>作死记</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;背景&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;一&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;二&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;三&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;四&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;教训&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这是一个发生在身边的真实故事。&lt;/p&gt;

&lt;p&gt;虽然标题叫“作死记”，但是我不该而且不打算嘲笑这个哥们，毕竟谁都会犯错。希望大家看完能吸取点教训，避免犯同样的错误。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;背景&lt;/h2&gt;

&lt;p&gt;A 同学是个学霸。A 同学用的是戴尔电脑，装的是 Windows 8.1。&lt;/p&gt;

&lt;p&gt;有一天 A 同学嫌电脑预装软件太多，于是卸了几个。然后故事就开始了……&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;一&lt;/h2&gt;

&lt;p&gt;A 同学找到我，说自己电脑不正常了。为了搞清楚事情的原委，他把事情的经过告诉了我——&lt;/p&gt;

&lt;p&gt;有一天，A 同学打开了“卸载程序”，删掉了“戴尔电脑备份”什么的软件。（按理说不会出什么问题）&lt;/p&gt;

&lt;p&gt;重启之后，电脑出现了问题，桌面上的图标都丢了，而且戴尔的软件又自动装回来了。&lt;/p&gt;

&lt;p&gt;我问他是不是更新更的，他说不是。（估计是 KB3033889 的问题）&lt;/p&gt;

&lt;p&gt;如果事情到此为止，那么问题是可以解决的。不过……&lt;/p&gt;

&lt;p&gt;不过当我看到他的电脑时，系统已经被他重装过了。他打算再重装一个戴尔原版系统，不过每次都是提示错误，而且错误代码一长串，百度上查不着。于是他想找我直接把 C 盘格式化。&lt;/p&gt;

&lt;p&gt;原来不是找我解决问题的！&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;二&lt;/h2&gt;

&lt;p&gt;由于我不知道 A 同学到底对自己电脑做了什么，所以我要求 A 同学不能因为我做的任何事情而指责我。&lt;/p&gt;

&lt;p&gt;A 同学怀疑是 C 盘空间不足所以失败。我看 C 盘剩余空间很充足，说明不是剩余空间的问题，没必要格式化。&lt;/p&gt;

&lt;p&gt;重要事情说三遍。问了三遍“到底是否格式化”之后，我就按照他的意思把 C 盘格式化了（因为 A 同学没有 PE 盘）。&lt;/p&gt;

&lt;p&gt;格式化之后，重新运行了戴尔原版系统恢复，但是仍然报错。&lt;/p&gt;

&lt;p&gt;如果事情到此为止，那么装个盗版还是可以继续用的，虽然不能愉快地免费升级 Windows 10。不过……A 同学带着电脑去戴尔售后修理了。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;三&lt;/h2&gt;

&lt;p&gt;经过戴尔售后，电脑果然修好了。不过，CDEF 盘里的个人资料什么的，全丢了。&lt;/p&gt;

&lt;p&gt;如果只看到这里，大家一定会觉得专业人员水平不行，或者别有用心。我们还是要相信专业人员的力量。因为——&lt;/p&gt;

&lt;p&gt;经过我的一番追问，A 同学终于说出自己做过的事儿。到此，我终于知道为什么戴尔系统无法恢复，而且专业人士修理会把电脑文件全部弄丢了！&lt;/p&gt;

&lt;p&gt;原来，以前 A 同学嫌磁盘分区太多，想合并一下，于是就在“磁盘管理”中把磁盘转换成了动态磁盘。转换完成后，磁盘分区当然没减少，但是又没影响正常使用，于是就没再管这件事儿。&lt;/p&gt;

&lt;p&gt;对于修电脑的来说，他们可能根本想不到，用户居然做了这样一件事儿！&lt;/p&gt;

&lt;p&gt;大家应该知道，现在 GPT 和 MBR 之间可以无损转换。但是转换成动态磁盘是不可逆的，这意味着，如果想转换回来，只能把所有分区删干净然后重新分区。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;四&lt;/h2&gt;

&lt;p&gt;最后，A 同学动用了百度云上面的备份和数据恢复软件。&lt;/p&gt;

&lt;p&gt;数据找回来了，不过浪费的时间找不回来了。&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;教训&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;遇到不明白的概念，特别是在分区软件、数据备份恢复、低格等危险软件中，一定要先把概念搞明白，然后再动手。虚拟机除外。&lt;/li&gt;
  &lt;li&gt;同上。在正式执行危险动作之前，一定要想清后果。一旦出错，追悔莫及。&lt;/li&gt;
  &lt;li&gt;遇到无法解决的问题，一定要找有经验的人来处理。最好找专业售后。&lt;/li&gt;
  &lt;li&gt;避免采取极端措施。&lt;/li&gt;
  &lt;li&gt;求人解决问题的时候，要尽可能多地把现象和自己做过的事情告诉人家，少发表见解。不要自作聪明。&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Wed, 10 Jun 2015 06:59:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/06/10/die.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/06/10/die.html</guid>
        
        
        <category>others</category>
        
      </item>
    
      <item>
        <title>Session for CGI</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#codes&quot; id=&quot;markdown-toc-codes&quot;&gt;Codes&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#sessionh&quot; id=&quot;markdown-toc-sessionh&quot;&gt;session.h&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#sessionc&quot; id=&quot;markdown-toc-sessionc&quot;&gt;session.c&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#example&quot; id=&quot;markdown-toc-example&quot;&gt;Example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To be continued…&lt;/p&gt;

&lt;h1 id=&quot;codes&quot;&gt;Codes&lt;/h1&gt;

&lt;p&gt;My own &lt;a href=&quot;/2015/06/07/simple-request-for-cgi/&quot;&gt;request codes&lt;/a&gt; are required.&lt;/p&gt;

&lt;h2 id=&quot;sessionh&quot;&gt;session.h&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#ifndef SESSION_H
#define SESSION_H
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define SESSION_TIME    1200
#define HASH_LEN        16
#define COOKIE_MAX_LEN  4096
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;killSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HASH_LEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;#endif&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;sessionc&quot;&gt;session.c&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;time.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/stat.h&amp;gt;
#include &amp;lt;fcntl.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &quot;request.h&quot;
#include &quot;session.h&quot;
&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*
 * Start a session. Used in a page start, and the page will get data which stored in the server.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;startSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;HTTP_COOKIE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Get the session id in Cookie.
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// If gets nothing, create a new session.
&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;newSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HASH_LEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;9&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;F&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Get data that stored in the server
&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;snprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/tmp/sess_%s.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;O_RDONLY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// No data
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;newSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;COOKIE_MAX_LEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1025&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;readno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;strcat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Check whether the session is valid or not
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;CLIENT_IP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;REMOTE_ADDR&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;LAST_TIME&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;time_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SESSION_TIME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;correct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;correct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Invalid session (IP has been changed, or the session is expired)
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;killSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;newSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Valid session. Confirm the latest time.
&lt;/span&gt;        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;time_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;LAST_TIME&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
 * Kill the current session and delete stored data.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;killSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;free&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;snprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/tmp/sess_%s.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
 * Create a new session.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;newSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;time_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;killSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Get a random hash
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;srand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HASH_LEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Record the IP and the time
&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;REMOTE_ADDR&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;snprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/tmp/sess_%s.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;O_WRONLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;O_CREAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;CLIENT_IP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;LAST_TIME&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;free&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// The SESSIONID is a key which is used to
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// exchange data from the client and the server.
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Set-Cookie:SESSIONID=%s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
 * Get a stored value.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
 * Store a value.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;strncpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Allocate space
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;realloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;strncpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KEY_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;strncpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Save values to the disk.
&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;snprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/tmp/sess_%s.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;O_WRONLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;O_CREAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;session_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;free&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;example&quot;&gt;Example&lt;/h1&gt;

&lt;p&gt;Compile the complete C code to the &lt;code class=&quot;highlighter-rouge&quot;&gt;cgi-bin&lt;/code&gt; directory and name it to &lt;code class=&quot;highlighter-rouge&quot;&gt;session.cgi&lt;/code&gt;. Execute permission is also required.&lt;/p&gt;

&lt;p&gt;Then you can use url like ‘http://xxx.xxx.xxx.xxx/cgi-bin/session.cgi’ to see numbers.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;time.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/stat.h&amp;gt;
#include &amp;lt;fcntl.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &quot;request.h&quot;
#include &quot;session.h&quot;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Content-type: text/html&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;startSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;br&amp;gt;%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;num2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
        <pubDate>Mon, 08 Jun 2015 23:02:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/06/08/simple-session-for-cgi.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/06/08/simple-session-for-cgi.html</guid>
        
        <category>Session</category>
        
        <category>C</category>
        
        <category>CGI</category>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>Request &amp; Response for CGI</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#cgi&quot; id=&quot;markdown-toc-cgi&quot;&gt;CGI&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#exchange&quot; id=&quot;markdown-toc-exchange&quot;&gt;Exchange&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#http-request&quot; id=&quot;markdown-toc-http-request&quot;&gt;HTTP Request&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#code&quot; id=&quot;markdown-toc-code&quot;&gt;Code&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#request&quot; id=&quot;markdown-toc-request&quot;&gt;Request&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#requesth&quot; id=&quot;markdown-toc-requesth&quot;&gt;request.h&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#requestc&quot; id=&quot;markdown-toc-requestc&quot;&gt;request.c&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#example&quot; id=&quot;markdown-toc-example&quot;&gt;Example&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#testhtml&quot; id=&quot;markdown-toc-testhtml&quot;&gt;test.html&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#testc&quot; id=&quot;markdown-toc-testc&quot;&gt;test.c&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#issues&quot; id=&quot;markdown-toc-issues&quot;&gt;Issues&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#references&quot; id=&quot;markdown-toc-references&quot;&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I wrote a library about HTTP Request, Response and Session due to a project with &lt;a href=&quot;https://github.com/vjudge1/boa&quot;&gt;boa server&lt;/a&gt; required. After making php-cgi work, I gave up this library eventually.&lt;/p&gt;

&lt;p&gt;This article is about HTTP Request &amp;amp; Response.&lt;/p&gt;

&lt;p&gt;These codes are not suitable in production environment. Use &lt;a href=&quot;http://www.boutell.com/cgic/&quot;&gt;cgic&lt;/a&gt; instead.&lt;/p&gt;

&lt;h1 id=&quot;cgi&quot;&gt;CGI&lt;/h1&gt;

&lt;p&gt;CGI is a standard for dynamic generation of web pages by a web server.&lt;/p&gt;

&lt;p&gt;In general, static pages don’t meet demand obviously. However, a web server can’t execute dynamic files such as PHP, ASP directly so such work should be delivered to a special program.&lt;/p&gt;

&lt;p&gt;How do the web server and the program exchange datas with each other? Obey a specific rule! And this rule is called CGI.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-06-07-request/cgi1.gif&quot; alt=&quot;cgi1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The CGI program can be written in any languages because CGI is just an interface, not a kind of language.&lt;/p&gt;

&lt;h2 id=&quot;exchange&quot;&gt;Exchange&lt;/h2&gt;

&lt;p&gt;CGI programs exchange information via standard input &lt;code class=&quot;highlighter-rouge&quot;&gt;stdin&lt;/code&gt;, standard output &lt;code class=&quot;highlighter-rouge&quot;&gt;stdout&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;environment variables&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2015-06-07-request/cgi2.png&quot; alt=&quot;cgi2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The web server will provide a number of variables. The CGI programs can fetch server infomation via these variables. Refer to &lt;a href=&quot;https://en.wikipedia.org/wiki/Common_Gateway_Interface&quot;&gt;Wikipedia&lt;/a&gt; for more information. This time I only use REQUEST_METHOD, QUERY_STRING and CONTENT_LENGTH.&lt;/p&gt;

&lt;p&gt;The CGI programs should output the &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP Header&lt;/code&gt; (Don’t forget it!) and HTML codes to &lt;code class=&quot;highlighter-rouge&quot;&gt;stdout&lt;/code&gt;. And, what the program outputs is exactly what the browser receives.&lt;/p&gt;

&lt;h1 id=&quot;http-request&quot;&gt;HTTP Request&lt;/h1&gt;

&lt;p&gt;There are two main kinds of request methods: HTTP &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt;. After you submit a form, the browser will encode what you input as a special string. The form of the string is the same whether using GET or POST.&lt;/p&gt;

&lt;p&gt;The CGI program should detect the mode by the variable &lt;code class=&quot;highlighter-rouge&quot;&gt;REQUEST_METHOD&lt;/code&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Requests from HTTP GET just follow the URL. It looks like &lt;code class=&quot;highlighter-rouge&quot;&gt;http://www.blahblah.com/cgi-bin/a?param1=value1&amp;amp;param2=value2&lt;/code&gt;.&lt;/p&gt;

    &lt;p&gt;The data can be read from the variable &lt;code class=&quot;highlighter-rouge&quot;&gt;QUERY_STRING&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;You can’t see requests directly via POST (However you can see it when using a developer tool or opening developer mode of the browser). More data can be transfered in POST mode than GET.&lt;/p&gt;

    &lt;p&gt;The data should be read from &lt;code class=&quot;highlighter-rouge&quot;&gt;stdin&lt;/code&gt;. And the variable &lt;code class=&quot;highlighter-rouge&quot;&gt;CONTENT_LENGTH&lt;/code&gt; means the length of data.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;code&quot;&gt;Code&lt;/h1&gt;

&lt;h2 id=&quot;request&quot;&gt;Request&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt; code contains two files: request.h and request.c.&lt;/p&gt;

&lt;h3 id=&quot;requesth&quot;&gt;request.h&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// request.h : Header of HTTP GET &amp;amp; POST
// Only application/x-www-form-urlencoded can be dealed with.
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#ifndef REQUEST_H
#define REQUEST_H
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define HTTP_GET    1
#define HTTP_POST   2
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define POST_MAXLEN 2097152
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// A simple dictionary
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#define KEY_MAXLEN  64
#define VAL_MAXLEN  64
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEY_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#endif&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;requestc&quot;&gt;request.c&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &quot;request.h&quot;
&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/**
 * Fetch the query string from the server.
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requestMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;REQUEST_METHOD&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// If you run the program directly ...
&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requestMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requestMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;CONTENT_LENGTH&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// It may cause buffer overflow if someone designs a wrong CONTENT_LENGTH.
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;POST_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;POST_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Read POST data from stdin
&lt;/span&gt;        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requestMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Read GET data from the variable QUERY_STRING
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;QUERY_STRING&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/**
 * Convert the query string to a dictionary.
 */&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;decodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Count the number of parameters
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;&amp;amp;&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KEY_MAXLEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;+&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;c1&quot;&gt;// Space
&lt;/span&gt;            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39; &#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;%&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// ASCII chars
&lt;/span&gt;            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;&amp;amp;&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;+&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39; &#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;%&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;&amp;amp;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/**
 * Convert a hex digit to a decimal number
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hex2dec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;9&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;F&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;a&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;f&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;a&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/**
 * Convert a dictionary to a query string
 */&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;encodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// I assume that all characters need to be encoded as hexadecimal format.
&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEY_MAXLEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEY_MAXLEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;VAL_MAXLEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;// 0 is the key and 1 is the value
&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;\0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;9&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;Z&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;a&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;z&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;_&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;*&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;-&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;.&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;// Needn&#39;t be encoded
&lt;/span&gt;                    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;%&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ucb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Separator
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&#39;&amp;amp;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;realloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;example&quot;&gt;Example&lt;/h2&gt;

&lt;p&gt;Compile the complete C code to the &lt;code class=&quot;highlighter-rouge&quot;&gt;cgi-bin&lt;/code&gt; directory and name it to &lt;code class=&quot;highlighter-rouge&quot;&gt;request.cgi&lt;/code&gt;. Execute permission is also required.&lt;/p&gt;

&lt;p&gt;Copy &lt;code class=&quot;highlighter-rouge&quot;&gt;test.html&lt;/code&gt; to the document directory. For example, &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/www/test.html&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;testhtml&quot;&gt;test.html&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;HTTP GET&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;get&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/cgi-bin/request.cgi&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;HTTP POST&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;post&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/cgi-bin/request.cgi&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;testc&quot;&gt;test.c&lt;/h3&gt;

&lt;p&gt;This program will detect type of the request, and output parameters in tabular form.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &quot;request.h&quot;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Don&#39;t forget HTTP Header!
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Content-type: text/html&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;h1&amp;gt;GET&amp;lt;/h1&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;h1&amp;gt;POST&amp;lt;/h1&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;default:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Don&#39;t run this program directly!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;key_pair&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decodeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;table&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;Key&amp;lt;th&amp;gt;&amp;lt;th&amp;gt;Value&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;%s&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;%s&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;/table&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;p&amp;gt;&amp;lt;a href=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;javascript: history.go(-1);&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;Go Back&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;issues&quot;&gt;Issues&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;It’s hard to write a flexible dictionary structure so I just write a fixed-width one. Query keys and values mustn’t exceed 64 bytes or they will be truncated.&lt;/p&gt;

    &lt;p&gt;On the other hand, fixed-width structures are a waste of memory.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Query strings must be in correct form or the program may get errors.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/liuzhang/p/3929198.html&quot;&gt;我所了解的cgi by liuzhang&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 07 Jun 2015 23:02:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/06/07/simple-request-for-cgi.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/06/07/simple-request-for-cgi.html</guid>
        
        <category>Request</category>
        
        <category>C</category>
        
        <category>CGI</category>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>sudo for Windows</title>
        <description>&lt;p&gt;Windows enables UAC (User Account Control) by default. It’s like &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt; in Linux/Mac, but it’s NOT sudo when in Command Prompt.&lt;/p&gt;

&lt;p&gt;If you’re get used to &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt;, let’s make it run on Windows.&lt;/p&gt;

&lt;p&gt;Open notepad as Administrator, then type the following codes:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-batch&quot; data-lang=&quot;batch&quot;&gt;@ECHO OFF
IF &quot;%~1&quot; == &quot;&quot; (
    ECHO Usage: sudo ^&amp;lt;command^&amp;gt;
    EXIT /B
)
SET arg=%*
IF &quot;%~1&quot; == &quot;su&quot; (
    SET arg=cmd
) ELSE (
    SET arg=%arg:&quot;=&quot;&quot;%
)
ECHO Set UAC = CreateObject^(&quot;Shell.Application&quot;^) &amp;gt; %TMP%\shell.vbs
ECHO UAC.ShellExecute &quot;CMD&quot;, &quot;/c %arg%&quot;, &quot;&quot;, &quot;runas&quot;, 1 &amp;gt;&amp;gt; %TMP%\shell.vbs
CSCRIPT &quot;%TMP%\shell.vbs&quot; &amp;gt; NUL
DEL &quot;%TMP%\shell.vbs&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Save it to &lt;code class=&quot;highlighter-rouge&quot;&gt;C:\Windows\sudo.cmd&lt;/code&gt;. Then you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt; conveniently without opening another cmd by selecting “Run as Administrator”.&lt;/p&gt;
</description>
        <pubDate>Tue, 02 Jun 2015 06:30:33 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/06/02/sudo-for-windows.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/06/02/sudo-for-windows.html</guid>
        
        <category>Scripting</category>
        
        
        <category>Others</category>
        
      </item>
    
      <item>
        <title>Enable NTFS writing support in OS X</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#write-once&quot; id=&quot;markdown-toc-write-once&quot;&gt;Write Once&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#write-forever&quot; id=&quot;markdown-toc-write-forever&quot;&gt;Write Forever&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#issues&quot; id=&quot;markdown-toc-issues&quot;&gt;Issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;OS X mounts NTFS partitions as read-only parts automatically in default. But how can I access removable disks with NTFS format, or the Windows partition?&lt;/p&gt;

&lt;p&gt;You may install third-party softwares in order to make NTFS partitions writable.&lt;/p&gt;

&lt;p&gt;In fact, OS X has a native support for writing in NTFS parts, if you are brave to enable it.&lt;/p&gt;

&lt;p&gt;Take &lt;code class=&quot;highlighter-rouge&quot;&gt;/dev/disk0s4&lt;/code&gt; as an example.&lt;/p&gt;

&lt;h1 id=&quot;write-once&quot;&gt;Write Once&lt;/h1&gt;

&lt;p&gt;Open &lt;code class=&quot;highlighter-rouge&quot;&gt;Terminal&lt;/code&gt;, and type the following commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir ~/ntfs
sudo diskutil unmount /dev/disk0s4
sudo mount -o rw,auto,nobrowse -t ntfs /dev/disk0s4 ~/ntfs
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then the NTFS partition will be mounted to &lt;code class=&quot;highlighter-rouge&quot;&gt;~/ntfs&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It’s necessary to add &lt;code class=&quot;highlighter-rouge&quot;&gt;nobrowse&lt;/code&gt; or OS X will still mount it in read-only mode.&lt;/p&gt;

&lt;h1 id=&quot;write-forever&quot;&gt;Write Forever&lt;/h1&gt;

&lt;p&gt;If you hear of Linux, you should know &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/fstab&lt;/code&gt;. OS X will read &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/fstab&lt;/code&gt;, too.&lt;/p&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo vifs&lt;/code&gt; in Terminal. Then add the following line:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/dev/disk0s4 /mypart ntfs rw,auto,nobrowse
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;If you don’t know how to use Vi, press the letter &lt;code class=&quot;highlighter-rouge&quot;&gt;O&lt;/code&gt; key, type the code, then press &lt;code class=&quot;highlighter-rouge&quot;&gt;Escape&lt;/code&gt; key and &lt;code class=&quot;highlighter-rouge&quot;&gt;ZZ&lt;/code&gt; (press &lt;code class=&quot;highlighter-rouge&quot;&gt;Z&lt;/code&gt; twice).&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nobrowse&lt;/code&gt; is still required. And it means that the partition will not be shown in Devices in Finder. You can add it to Favorites manually.&lt;/p&gt;

&lt;p&gt;After rebooting, OS X will mount the NTFS partition to &lt;code class=&quot;highlighter-rouge&quot;&gt;/mypart&lt;/code&gt; in read-write mode.&lt;/p&gt;

&lt;h1 id=&quot;issues&quot;&gt;Issues&lt;/h1&gt;

&lt;p&gt;It’s NOT recommended to do so because of potential data loss.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If a file becomes grey, it means no permissions in OS X. You can copy it to a HFS+ partition (password required) before using it. You can also reset its owner and permission in Windows, but the file may be still grey.&lt;/li&gt;
  &lt;li&gt;Some files may lose and some directories may be messy sometimes. Use &lt;code class=&quot;highlighter-rouge&quot;&gt;chkdsk /f&lt;/code&gt; to repair them in Windows.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 30 May 2015 05:10:02 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/30/enable-ntfs-writing-support-in-os-x.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/30/enable-ntfs-writing-support-in-os-x.html</guid>
        
        <category>Mac</category>
        
        <category>NTFS</category>
        
        
        <category>Mac</category>
        
      </item>
    
      <item>
        <title>让“强智”教务系统支持 Linux/OS X</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;合适的解决方案&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;问题出在哪儿&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;工具&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#charles&quot; id=&quot;markdown-toc-charles&quot;&gt;Charles&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;设置代理&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;劫持&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;修改&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#jwxtjscorejs&quot; id=&quot;markdown-toc-jwxtjscorejs&quot;&gt;/jwxt/js/core.js&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;全校课表查看（未解决）&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-7&quot; id=&quot;markdown-toc-section-7&quot;&gt;选课（未解决）&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-8&quot; id=&quot;markdown-toc-section-8&quot;&gt;其他已知但未分析的问题&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-9&quot; id=&quot;markdown-toc-section-9&quot;&gt;重要提示&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;(坚持用 Windows 和 IE 浏览器的可以无视本文。)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;“强智”科技——中国教学教务管理软件领航者！&lt;/p&gt;

&lt;p&gt;旧版系统是各种注入，甚至网上&lt;a href=&quot;http://www.wooyun.org/bugs/wooyun-2012-011355&quot;&gt;改成绩的教程&lt;/a&gt;都直接拿这个系统开刀。虽然教程把学校名称挡上了，不过很明显，就是中国石油大学（华东）。&lt;/p&gt;

&lt;p&gt;后来学校升级了教务系统，至少表面上没有注入，不过，只支持旧版本的 IE6 浏览器。微软宣布放弃 XP 之后，学校把系统稍稍修复了一下，支持了其他版本的 IE，但还是不支持其他浏览器（包括 IE11 以及最新的 Edge）。这就意味着……&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;合适的解决方案&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;最简单的方法：装个虚拟机，或者用别人电脑。&lt;/li&gt;
  &lt;li&gt;如果纯粹为了看课表查成绩，可以关注&lt;code class=&quot;highlighter-rouge&quot;&gt;石大助手&lt;/code&gt;或者学校&lt;code class=&quot;highlighter-rouge&quot;&gt;官方微信&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;自己写爬虫。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;那本文要做什么事儿呢？本文旨在找到一种从根本上解决问题的方法。只要行政部门接受这个方法，问题就“算是彻底”解决了。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;问题出在哪儿&lt;/h1&gt;

&lt;p&gt;中国绝大多数用户都在用 Windows，而且那些学编程的很多都是在 Windows 下学习，所以那些人脑袋里只有 IE 啊！好在现在都 HTML5 了，都有移动设备了，所以这种现象稍微有所改善。但是你得知道，不是谁都那么与时俱进，所以……&lt;/p&gt;

&lt;p&gt;兼容性问题不外乎两方面：一是 ActiveX，二是前端用了不标准的代码 (或者没考虑浏览器兼容性)。&lt;/p&gt;

&lt;p&gt;教务系统的 JavsScript 非常不干净。还好教务系统没用 ActiveX，否则无解 (在这里替各大银行感到悲哀)。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;工具&lt;/h1&gt;

&lt;p&gt;思路很明显了：找到不标准的代码，主要是 JavaScript，把它改成兼容各种浏览器的。&lt;/p&gt;

&lt;h2 id=&quot;charles&quot;&gt;Charles&lt;/h2&gt;

&lt;p&gt;人家不可能让你改服务器上的东西吧？所以为了方便调试，我们需要一个工具——&lt;a href=&quot;http://www.charlesproxy.com&quot;&gt;Charles&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;Charles 是一个 HTTP 调试工具，可以抓包也可以代理。&lt;/p&gt;

&lt;p&gt;代理当然不是用来跨越万里长城的，而是——&lt;code class=&quot;highlighter-rouge&quot;&gt;偷梁换柱&lt;/code&gt;！一会儿我们就要把服务器的 js 脚本换成我们自己的。&lt;/p&gt;

&lt;p&gt;这个软件是要钱的，作为中国人，知道应该怎么解决这个问题吧？不解释了。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;设置代理&lt;/h2&gt;

&lt;p&gt;调试的时候需要把 HTTP 代理设置为 http://127.0.0.1:8888。&lt;/p&gt;

&lt;p&gt;具体操作不用教了吧？不会？先搞清楚自己用的什么桌面然后去找百度吧……&lt;/p&gt;

&lt;p&gt;还是不会？换 Firefox 浏览器！那个可以单独设置代理。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;劫持&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;下载一个文件 &lt;a href=&quot;http://jwxt.upc.edu.cn/jwxt/js/core.js&quot;&gt;http://jwxt.upc.edu.cn/jwxt/js/core.js&lt;/a&gt;。把它存到一个合适的地方。&lt;/li&gt;
  &lt;li&gt;打开 Charles。&lt;/li&gt;
  &lt;li&gt;登一下教务系统，然后会看到一个提示——“不能创建对象！”一会儿我们就让它能创建对象。&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;切换到 Charles，可以看到 jwxt.upc.edu.cn。&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/img/2015-05-29-jwxt/jwxt.png&quot; alt=&quot;jwxt&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;右击 &lt;code class=&quot;highlighter-rouge&quot;&gt;core.js&lt;/code&gt;，选择 &lt;code class=&quot;highlighter-rouge&quot;&gt;Map Local...&lt;/code&gt;，把弹出对话框的 &lt;code class=&quot;highlighter-rouge&quot;&gt;Local Path&lt;/code&gt; 设置成你刚才下载的那个脚本。&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/img/2015-05-29-jwxt/map.png&quot; alt=&quot;map&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;建议清除一下浏览器缓存，并且在调试期间禁用缓存。现在再访问教务系统，core.js 就是你自己的版本了。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;section-5&quot;&gt;修改&lt;/h1&gt;

&lt;p&gt;现在只有一些小的改动，所以改完之后并不是 100% 兼容，很多功能仍然用不了，但是至少能进去查成绩了。&lt;/p&gt;

&lt;h2 id=&quot;jwxtjscorejs&quot;&gt;/jwxt/js/core.js&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;在代码最开始加入：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ActiveXObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;XMLDocument&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectNodes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectNodes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XPathEvaluator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;undefined&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xpe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XPathEvaluator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nsResolver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xpe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createNSResolver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ownerDocument&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ownerDocument&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xpe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evaluate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nsResolver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;iterateNext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// IE11 既不支持 selectNodes，又不支持 evaluate&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;XMLDocument&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectSingleNode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectSingleNode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectNodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;往下找 send_request 函数。这里有一个笑点——&lt;code class=&quot;highlighter-rouge&quot;&gt;if (什么什么 &amp;amp;&amp;amp; 1 == 2)&lt;/code&gt;。那么，里面的代码就算等到中国足球夺冠之后也执行不了吧……&lt;/p&gt;

    &lt;p&gt;找到 &lt;code class=&quot;highlighter-rouge&quot;&gt;if(window.XMLHttpRequest &amp;amp;&amp;amp; 1==2 )&lt;/code&gt;，把 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp; 1==2&lt;/code&gt; 直接去掉。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;还是这个函数，从 &lt;code class=&quot;highlighter-rouge&quot;&gt;var topXml = ...&lt;/code&gt; 开始，一直到函数结束，把所有 &lt;code class=&quot;highlighter-rouge&quot;&gt;.text&lt;/code&gt; 全部换成 &lt;code class=&quot;highlighter-rouge&quot;&gt;.nodeValue&lt;/code&gt;。一共三组（这三组有注释，分别写作“加载顶层菜单开始”、“加载一层菜单开始”和“加载二层菜单开始”）。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-6&quot;&gt;全校课表查看（未解决）&lt;/h2&gt;

&lt;p&gt;由于这部分代码是动态生成的，所以无法采用替换文件的方式来调试。经过粗略分析，大致是以下位置出现错误：/jwxt/jiaowu/tkgl/queryKbByXzbj1.jsp 以及同一目录中的其他类似文件（如 queryKbByTeacher 等）。&lt;/p&gt;

&lt;p&gt;这些文件中（由于 jsp 是动态语言，因此实际内容不一定正好在这个文件中。但是生成的结果就在这里体现）有一系列 document.getElementById，然而其中的 id 并不存在。在操作这些并不存在的 DOM 元素时发生了错误，后面代码不再执行，因此无法获取全校课表。&lt;/p&gt;

&lt;p&gt;一个有效的修改办法是加入防错处理，或者直接忽略错误。不过目前我还没有在语言层面上找到解决办法。&lt;/p&gt;

&lt;h2 id=&quot;section-7&quot;&gt;选课（未解决）&lt;/h2&gt;

&lt;p&gt;虽然选择界面中 js 脚本也是动态生成的（分别为 /jwxt/jiaowu/xkgl/xsxkjmxs_tree.jsp 和 xsxkjmxs_frame.jsp），无法直接更改。不过，因为错误是采用了一个已经过时的 window.showModalDialog()，所以可以从语言层面上打补丁。&lt;/p&gt;

&lt;p&gt;此外 /jwxt/js/jspublic.js 也多处用到了这个函数。&lt;/p&gt;

&lt;p&gt;事实上，这个函数并不一定导致错误（在 Firefox 中可正常使用）。但是，因为 Chrome（Chrome 内核）、Opera 等浏览器不支持，而且没有替代品，所以此问题依然很严重——必须采用其他技术来进行窗口之间的交互，因此需要很大的改动才能彻底解决问题。&lt;/p&gt;

&lt;h2 id=&quot;section-8&quot;&gt;其他已知但未分析的问题&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;“任务栏”不能正常恢复窗口。&lt;/li&gt;
  &lt;li&gt;凡是出现“对话框”的，例如选课、查看成绩中的平时分，在 Chrome 和 Opera 中均无效（前文已解释原因）。&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-9&quot;&gt;重要提示&lt;/h1&gt;

&lt;p&gt;由于教务系统是一群不顾质量的码农开发的，并且网站本身未使用 HTTPS、密码明文传输，所以建议大家在使用教务系统的时候，不要设置与其他重要账户相同的密码，以免重要账号被端。&lt;/p&gt;
</description>
        <pubDate>Fri, 29 May 2015 22:00:08 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/29/let-jiao-wu-xi-tong-support-linux.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/29/let-jiao-wu-xi-tong-support-linux.html</guid>
        
        <category>Linux</category>
        
        <category>教务系统</category>
        
        
        <category>Web</category>
        
      </item>
    
      <item>
        <title>Setup Jekyll in Ubuntu/Windows</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#configure-git&quot; id=&quot;markdown-toc-configure-git&quot;&gt;Configure Git&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#setup-jekyll-in-ubuntu&quot; id=&quot;markdown-toc-setup-jekyll-in-ubuntu&quot;&gt;Setup Jekyll in Ubuntu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#setup-jekyll-in-windows-not-recommended&quot; id=&quot;markdown-toc-setup-jekyll-in-windows-not-recommended&quot;&gt;Setup Jekyll in Windows (Not recommended)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#visual-studio-code&quot; id=&quot;markdown-toc-visual-studio-code&quot;&gt;Visual Studio Code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#notes&quot; id=&quot;markdown-toc-notes&quot;&gt;Notes&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#clone-url&quot; id=&quot;markdown-toc-clone-url&quot;&gt;Clone URL&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;中文输入的问题&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gist-&quot; id=&quot;markdown-toc-gist-&quot;&gt;Gist 被&lt;em&gt;敏感词&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I found that using GitHub Pages and Jekyll to write blogs is really comfortable.&lt;/p&gt;

&lt;p&gt;I used to blog in OS X. The steps of configuration are quite easy:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Git is a bulit-in command in OS X so we don’t need to install it.&lt;/li&gt;
  &lt;li&gt;Download and install &lt;a href=&quot;https://mac.github.com&quot;&gt;GitHub for Mac&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Install Jekyll: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo gem install jekyll&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Use a favorite editor to write blogs. Use GitHub for Mac to push them to the remote server.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;However, it’s a bit tricky to do so in Linux, for example, Ubuntu. My Ubuntu is 14.04.&lt;/p&gt;

&lt;h1 id=&quot;configure-git&quot;&gt;Configure Git&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Install Git:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo apt-get install git
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Configure your name and email:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git config --global --add user.name &quot;Your Name&quot;
 git config --global --add user.email &quot;Your Email&quot;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Avoid an error prompt:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git config --global push.default simple
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add a SSH key:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ssh-keygen -t rsa -C &quot;GitHub&quot;
 cat ~/.ssh/id_rsa
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;Login to GitHub, and copy the output to “Settings” -&amp;gt; “SSH keys” -&amp;gt; “Add key”.&lt;/p&gt;

    &lt;p&gt;Now you can test it by:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ssh -T git@github.com
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;If OK, it will output &lt;code class=&quot;highlighter-rouge&quot;&gt;Hi xxxxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access.&lt;/code&gt;.&lt;/p&gt;

    &lt;p&gt;If you see &lt;code class=&quot;highlighter-rouge&quot;&gt;Agent admitted failure to sign using the key&lt;/code&gt;, please run:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ssh-add ~/.ssh/id_rsa
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Now you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;git pull&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;git push&lt;/code&gt; or so on to code.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;setup-jekyll-in-ubuntu&quot;&gt;Setup Jekyll in Ubuntu&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Install necessary libraries or Jekyll will fail to work:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo apt-get install ruby-dev nodejs
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install Jekyll &amp;amp; kramdown (Markdown support):&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo gem install jekyll kramdown
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Jekyll will work. Use the following commands to test:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; jekyll new test
 cd test
 jekyll serve
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;Browse &lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:4000&lt;/code&gt; to see the new blog.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;setup-jekyll-in-windows-not-recommended&quot;&gt;Setup Jekyll in Windows (Not recommended)&lt;/h1&gt;

&lt;p&gt;Because nokogiri 1.6.7 is released, there is no problems about nokogiri.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Install Ruby and DevKit.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install Jekyll &amp;amp; kramdown (Markdown support):&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; gem install jekyll kramdown
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Jekyll will work. Use the following commands to test:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; chcp 65001
 jekyll new test
 cd test
 jekyll serve
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;NOTES:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Don’t forget &lt;code class=&quot;highlighter-rouge&quot;&gt;chcp 65001&lt;/code&gt; (change the encoding of console to UTF-8) before running jekyll. You can add it in the front of &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll.cmd&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;File Encoding: UTF-8 without BOM. So Do NOT use Notepad.&lt;/li&gt;
  &lt;li&gt;Line Endings: either CRLF or LF is ok.&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;visual-studio-code&quot;&gt;Visual Studio Code&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;(UPDATE: Atom Editor is much better because of its Jekyll plugin.)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I recognize that I’m a little lazy and will feel bored after typing too many commands.&lt;/p&gt;

&lt;p&gt;So, let’s get an easy-to-use editor – &lt;a href=&quot;https://code.visualstudio.com&quot;&gt;Visual Studio Code&lt;/a&gt;! In fact, I use Code instead of Vim in OS X while writing and customizing blogs.&lt;/p&gt;

&lt;p&gt;After downloading, type&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo unzip VSCode-linux-x64.zip -d /opt/Code
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Code will be extracted into &lt;code class=&quot;highlighter-rouge&quot;&gt;/opt/Code&lt;/code&gt;. It’s not convenient. So,&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo ln -s /opt/Code/Code /usr/local/bin/code
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;To make it easier in graphical environment, type (I use &lt;code class=&quot;highlighter-rouge&quot;&gt;vim&lt;/code&gt; rather than gedit):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gedit ~/.local/share/applications/code.desktop
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add the following codes and save:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ini&quot; data-lang=&quot;ini&quot;&gt;&lt;span class=&quot;nn&quot;&gt;[Desktop Entry]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Terminal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Visual Studio Code&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt/Code/Code %F&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Application&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Categories&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Development;IDE;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt/Code/resources/app/vso.png&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;OK. Enjoy coding! And all things can be done via Visual Studio Code.&lt;/p&gt;

&lt;h1 id=&quot;notes&quot;&gt;Notes&lt;/h1&gt;

&lt;h2 id=&quot;clone-url&quot;&gt;Clone URL&lt;/h2&gt;

&lt;p&gt;GitHub provides 3 kinds of URLs for cloning. It’s recommended to use &lt;code class=&quot;highlighter-rouge&quot;&gt;SSH clone URL&lt;/code&gt; because we configured SSH just now.&lt;/p&gt;

&lt;p&gt;I tried to clone with HTTPS URL and find a trouble when pushing. So I clone again with SSH URL and succeed.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;中文输入的问题&lt;/h2&gt;

&lt;p&gt;默认情况下，Visual Studio Code 不能正常显示汉字——中国字是方块字，结果中国字真变成“方块字”了。&lt;/p&gt;

&lt;p&gt;可以这样解决问题：点击“File”、“Preferences”、“User Settings”，然后在右侧窗口加入一个属性：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;editor.fontFamily: &quot;Droid Sans Mono, Droid Sans Fallback&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;“Droid Sans Mono”可能不太好看，如果你电脑有字体的话，可以考虑&lt;code class=&quot;highlighter-rouge&quot;&gt;Consolas&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;Mocano&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;此外还有一个问题，输入中文标点的时候可能需要按一下&lt;code class=&quot;highlighter-rouge&quot;&gt;空格&lt;/code&gt;才能出现。至少用“搜狗拼音输入法”的时候是这样的。&lt;/p&gt;

&lt;h2 id=&quot;gist-&quot;&gt;Gist 被&lt;em&gt;敏感词&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;GitHub 曾被天朝&lt;em&gt;敏感词&lt;/em&gt;给&lt;em&gt;敏感词&lt;/em&gt;了。多亏了&lt;a href=&quot;http://weibo.com/kaifulee?stat_date=201301&amp;amp;page=4&quot;&gt;李开复&lt;/a&gt;大哥，自从他抗议之后，GitHub 再也没有被&lt;em&gt;敏感词&lt;/em&gt;。&lt;/p&gt;

&lt;p&gt;不过唯独那个 GitHub Gist 还一直被&lt;em&gt;敏感词&lt;/em&gt;。所以说，我们应该对我们的&lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;做点小改动:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;192.30.252.143	gist.github.com
23.235.43.133	gist-assets.github.com
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Sat, 23 May 2015 02:37:06 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/23/writing-blogs-in-ubuntu.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/23/writing-blogs-in-ubuntu.html</guid>
        
        <category>GitHub</category>
        
        <category>Jekyll</category>
        
        <category>Ubuntu</category>
        
        
        <category>GitHub</category>
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>配置 LaTeX 环境</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;安装&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#windows&quot; id=&quot;markdown-toc-windows&quot;&gt;Windows&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#linux&quot; id=&quot;markdown-toc-linux&quot;&gt;Linux&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#os-x&quot; id=&quot;markdown-toc-os-x&quot;&gt;OS X&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;中文问题&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;作弊&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;数学公式&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;复杂图形&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;复杂表格&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#lyx&quot; id=&quot;markdown-toc-lyx&quot;&gt;Lyx&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;用 Word 写论文的只有两种人：一种是井底之蛙，另一种是被迫用 Word 的人。&lt;/p&gt;

&lt;p&gt;用 LaTeX 写论文才是王道。不过，毕竟是老外开发的软件，所以需要配置配置才能正常使用中文。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;安装&lt;/h1&gt;

&lt;h2 id=&quot;windows&quot;&gt;Windows&lt;/h2&gt;

&lt;p&gt;Windows 下的配置是最轻松的：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;下载并安装 &lt;a href=&quot;http://www.ctex.org/CTeXDownload&quot;&gt;CTEX&lt;/a&gt;。建议下载完整版，免得麻烦。&lt;/li&gt;
  &lt;li&gt;CTEX 附带的两个编辑器很不好用，其中一个还要钱 (不仅要钱而且对 UTF-8 支持还很差劲)。你可以自己下载 &lt;code class=&quot;highlighter-rouge&quot;&gt;TexStudio&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;linux&quot;&gt;Linux&lt;/h2&gt;

&lt;p&gt;以 Ubuntu 为例。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;texlive-full&lt;/code&gt; 软件包。&lt;/li&gt;
  &lt;li&gt;安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;texstudio&lt;/code&gt; 软件包。&lt;/li&gt;
  &lt;li&gt;这时候可以编译英文文档了，但是中文文档还不可以，因为缺中文字体。
    &lt;ul&gt;
      &lt;li&gt;到 Windows 系统盘的 Windows\Fonts 目录中找到宋体 (SIMSUN.ttc)、楷体 (SIMKAI.ttf)、黑体 (SIMHEI.ttf)、仿宋 (SIMFANG.ttf) 四种字体。&lt;/li&gt;
      &lt;li&gt;把这四种字体复制到 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/texlive/texmf-dist/fonts/truetype/public&lt;/code&gt; 中，不要改名。&lt;/li&gt;
      &lt;li&gt;运行 &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo texconfig&lt;/code&gt;，选择其中的 &lt;code class=&quot;highlighter-rouge&quot;&gt;REHASH&lt;/code&gt;，使系统检测到刚复制的四个字体。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;os-x&quot;&gt;OS X&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;下载并安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;MacTex&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;下载并安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;TexStudio&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;同样要把四种中文字体的问题解决。因为我觉得把 Windows 的基本汉字字体拿过来安装有些危险，所以选择了改 ctex 宏包。&lt;/p&gt;

    &lt;p&gt;因为我只用 XeLaTeX 编译器，因此我只改了 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/texlive/2014/texmf-dist/tex/latex/ctex/fontset/ctex-xecjk-winfonts.def&lt;/code&gt;，并做了以下改动：&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-latex&quot; data-lang=&quot;latex&quot;&gt;&lt;span class=&quot;k&quot;&gt;\setCJKmainfont&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[BoldFont={STHeiti},ItalicFont={Kaiti SC}]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;Songti SC&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setCJKsansfont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;Songti SC&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setCJKmonofont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;STFangsong&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;\setCJKfamilyfont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhsong&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;Songti SC&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setCJKfamilyfont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhhei&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;STHeiti&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setCJKfamilyfont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhkai&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;Kaiti SC&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setCJKfamilyfont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhfs&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;STFangsong&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;\newcommand*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\songti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\CJKfamily&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhsong&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;% 宋体&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\newcommand*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\heiti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\CJKfamily&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhhei&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;% 黑体&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\newcommand*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\kaishu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\CJKfamily&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhkai&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;% 楷书&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\newcommand*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\fangsong&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\CJKfamily&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;zhfs&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;% 仿宋&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\endinput&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;section-1&quot;&gt;中文问题&lt;/h1&gt;

&lt;p&gt;只需要在文档的导言区加一句：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[UTF8,hyperref]{ctexcap}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;然后就能输出中文了。&lt;/p&gt;

&lt;p&gt;编译的时候，建议大家用 XeLaTeX，因为这个对中文的支持更好。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;作弊&lt;/h1&gt;

&lt;p&gt;如果公式、图形或表格非常复杂，那么与其苦苦研究和调试 LaTeX 语句，不如找个简单方法直接解决问题。毕竟天朝人有钱，不怕商业软件价格贵。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;数学公式&lt;/h2&gt;

&lt;p&gt;对于复杂数学公式，不妨直接用 &lt;code class=&quot;highlighter-rouge&quot;&gt;MathType&lt;/code&gt;。MathType 可以直接以 LaTeX 格式来输入公式，也可以把公式直接复制成 LaTeX 格式。对于不容易写出代码的复杂数学公式来说，非常方便。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;复杂图形&lt;/h2&gt;

&lt;p&gt;最简单的办法——用 Illustrator 或什么矢量图绘制软件（Inkscape）把图画好，保存成 pdf 或 svg 格式，然后插入到文档中。&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;复杂表格&lt;/h2&gt;

&lt;p&gt;对于非常复杂的表格，我们可以拿 Word 做好，保存成 PDF 格式，用 Illustrator 或其他矢量图软件进行适当处理，然后插入到文档中。&lt;/p&gt;

&lt;p&gt;但是这样字体看着就不匹配了，怎么办？&lt;/p&gt;

&lt;p&gt;去 LaTeX 安装目录里找 &lt;code class=&quot;highlighter-rouge&quot;&gt;texgyrepagella&lt;/code&gt; 字体，把它装上，然后到 Word 里把字体设成 &lt;code class=&quot;highlighter-rouge&quot;&gt;TeX Gyre Pagella&lt;/code&gt;。&lt;/p&gt;

&lt;h2 id=&quot;lyx&quot;&gt;Lyx&lt;/h2&gt;

&lt;p&gt;Lyx 是一个类似 Word 的可视化编辑软件。&lt;/p&gt;

&lt;p&gt;Lyx 基于 LaTeX，用 Lyx 编辑的文本也使用 LaTeX 编译，因此 Lyx 适合“代码恐惧症”患者。&lt;/p&gt;
</description>
        <pubDate>Sat, 23 May 2015 02:37:06 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/23/install-latex.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/23/install-latex.html</guid>
        
        <category>LaTeX</category>
        
        
        <category>Linux</category>
        
        <category>Mac</category>
        
      </item>
    
      <item>
        <title>Windows in UEFI Mode</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#the-origin&quot; id=&quot;markdown-toc-the-origin&quot;&gt;The origin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#uefi-vs-legacy&quot; id=&quot;markdown-toc-uefi-vs-legacy&quot;&gt;UEFI vs. Legacy&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#booting-via-legacy-mode&quot; id=&quot;markdown-toc-booting-via-legacy-mode&quot;&gt;Booting via Legacy Mode&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#booting-via-uefi-mode&quot; id=&quot;markdown-toc-booting-via-uefi-mode&quot;&gt;Booting via UEFI Mode&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#secure-boot&quot; id=&quot;markdown-toc-secure-boot&quot;&gt;Secure Boot&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#switch-uefi--legacy&quot; id=&quot;markdown-toc-switch-uefi--legacy&quot;&gt;Switch UEFI &amp;amp; Legacy&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#enter-bios-setup-with-windows-8-pre-installed&quot; id=&quot;markdown-toc-enter-bios-setup-with-windows-8-pre-installed&quot;&gt;Enter BIOS Setup with Windows 8 pre-installed&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#gpt-vs-mbr&quot; id=&quot;markdown-toc-gpt-vs-mbr&quot;&gt;GPT vs. MBR&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#advantages-of-gpt&quot; id=&quot;markdown-toc-advantages-of-gpt&quot;&gt;Advantages of GPT&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#what-mbr-looks-like&quot; id=&quot;markdown-toc-what-mbr-looks-like&quot;&gt;What MBR looks like&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#what-gpt-looks-like&quot; id=&quot;markdown-toc-what-gpt-looks-like&quot;&gt;What GPT looks like&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#brand-name-computers&quot; id=&quot;markdown-toc-brand-name-computers&quot;&gt;Brand-name Computers&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#windows-support&quot; id=&quot;markdown-toc-windows-support&quot;&gt;Windows Support&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#old-windows-2003-or-older&quot; id=&quot;markdown-toc-old-windows-2003-or-older&quot;&gt;Old Windows (2003 or older)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#new-windows-vista-or-newer&quot; id=&quot;markdown-toc-new-windows-vista-or-newer&quot;&gt;New Windows (Vista or newer)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#loseless-change&quot; id=&quot;markdown-toc-loseless-change&quot;&gt;Loseless CHANGE&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#notes-on-installing-windows&quot; id=&quot;markdown-toc-notes-on-installing-windows&quot;&gt;Notes on installing Windows&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#linux-support&quot; id=&quot;markdown-toc-linux-support&quot;&gt;Linux Support&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#os-x-support&quot; id=&quot;markdown-toc-os-x-support&quot;&gt;OS X Support&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#mac&quot; id=&quot;markdown-toc-mac&quot;&gt;Mac&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#hackintosh&quot; id=&quot;markdown-toc-hackintosh&quot;&gt;Hackintosh&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This article is the summary of my own experience on UEFI and Legacy Mode. So some information may be wrong.&lt;/p&gt;

&lt;p&gt;Experiences about installing an operating system (e.g., Windows or Linux) are required or you may feel hard to understand it.&lt;/p&gt;

&lt;h1 id=&quot;the-origin&quot;&gt;The origin&lt;/h1&gt;

&lt;p&gt;It was easy to install a Windows system in the past until the popularity of Windows 8. Laptops with Windows 8 pre-installed adopt the newest firmware named UEFI.&lt;/p&gt;

&lt;p&gt;Differences between UEFI and traditional mode are great. While, both of them also exist at the same time. Therefore it’s important to understand these two modes in order to manage to install operating systems in different computers.&lt;/p&gt;

&lt;h1 id=&quot;uefi-vs-legacy&quot;&gt;UEFI vs. Legacy&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/BIOS&quot;&gt;BIOS&lt;/a&gt;, which names “Basic Input/Output System”, are used in old computers.&lt;/p&gt;

&lt;p&gt;It will be loaded firstly after the computer powers on. Then, the computer will do self-check, load bootloader and boot the OS.&lt;/p&gt;

&lt;p&gt;BIOS is too old to meet the development of computer hardware. For example, addressability of BIOS is just 16-bit, and it’s hard to create an extension for BIOS.&lt;/p&gt;

&lt;p&gt;So there is a substitution and a new standard called EFI. EFI was initially developed by Intel. It was transfered to UEFI Forum and renamed to UEFI.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/UEFI&quot;&gt;UEFI&lt;/a&gt; (Unified Extensible Firmware Interface) works like a tiny operating system. Some computers have a built-in EFI Shell, so maintainance work can be done without any other tools.&lt;/p&gt;

&lt;h2 id=&quot;booting-via-legacy-mode&quot;&gt;Booting via Legacy Mode&lt;/h2&gt;

&lt;p&gt;The following description is based my experience. You can refer to Wikipedia to read &lt;a href=&quot;https://en.wikipedia.org/wiki/Master_boot_record&quot;&gt;the more accurate process&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;BIOS will read information in &lt;code class=&quot;highlighter-rouge&quot;&gt;Sector 0&lt;/code&gt; in the hard drive. Sector 0 is just 512 bytes, including a program, make BIOS locate to the active partition.&lt;/li&gt;
  &lt;li&gt;Finding &lt;code class=&quot;highlighter-rouge&quot;&gt;the active partition&lt;/code&gt; and read information from it.&lt;/li&gt;
  &lt;li&gt;Boot the bootloader according to codes inside the partition.&lt;/li&gt;
  &lt;li&gt;Boot the OS by the bootloader.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bootloaders of Windows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;DOS and Windows based on DOS (until Windows Me) are not booting through specialized startup managers. Unless you fix the bootloader manually, NT-based systems can’t be booted if you install Windows 9x after NT.&lt;/li&gt;
  &lt;li&gt;Windows NT series (3.5 to 2003) use &lt;code class=&quot;highlighter-rouge&quot;&gt;NTLDR&lt;/code&gt;. NTLDR is compatible with older systems via chain loading. The configuration file is called Boot.ini.&lt;/li&gt;
  &lt;li&gt;New NT systems (Vista or newer) use &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows Boot Manager&lt;/code&gt;. The configuration file is named BCD. BCD is a binary file like a Windows registry file and can be edited by &lt;code class=&quot;highlighter-rouge&quot;&gt;bcdedit.exe&lt;/code&gt;. It can even boot an image in WIM format.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;booting-via-uefi-mode&quot;&gt;Booting via UEFI Mode&lt;/h2&gt;

&lt;p&gt;Nowadays, laptops use 64-bit UEFI. At the same time 32-bit UEFI are used in some tablets.&lt;/p&gt;

&lt;p&gt;UEFI will search and execute &lt;code class=&quot;highlighter-rouge&quot;&gt;EFI\Boot\bootx64.efi&lt;/code&gt; in startup disks (e.g., hard drives, CDs or USB flash disks) after power on. Then this program continues to search and execute bootloaders. Finally, the OS is booted.&lt;/p&gt;

&lt;p&gt;Making a bootable USB drive for UEFI mode is quite easy – just extract the installation image to root directory of USB drive by extraction software, and, it’s OK.&lt;/p&gt;

&lt;p&gt;It should be noted that a 32-bit OS can’t be installed via UEFI mode in laptops. However, some tablets may be OK.&lt;/p&gt;

&lt;h2 id=&quot;secure-boot&quot;&gt;Secure Boot&lt;/h2&gt;

&lt;p&gt;Secure Boot is a feature of UEFI. If Secure Boot is on, the firmware will verify signature of the bootloader and it will refuse to boot if the signature is not existed or not valid.&lt;/p&gt;

&lt;p&gt;This feature is widely used on Windows 8. It’s considered a restriction because users may not be able to install Linux or other systems (even including Windows 7 and older Windows systems).&lt;/p&gt;

&lt;p&gt;Fortunately, Secure Boot can be closed in PCs and Windows will still work. If a warning message is appeared in the bottom right corner in the desktop, please install patches via Windows Update.&lt;/p&gt;

&lt;p&gt;Microsoft forbids users disable Secure Boot in other devices like Windows RT or phones with Windows installed. So you can’t change OS for these devices.&lt;/p&gt;

&lt;p&gt;Microsoft will force OEMS to enable Secure Boot after Windows 10 published, and whether Secure Boot can be disabled or not will be determined by OEM. Therefore I don’t know whether I can change systems easily in the future.&lt;/p&gt;

&lt;p&gt;Secure Boot can’t be disabled directly in some computers. Please try to set a BIOS password in this case.&lt;/p&gt;

&lt;h2 id=&quot;switch-uefi--legacy&quot;&gt;Switch UEFI &amp;amp; Legacy&lt;/h2&gt;

&lt;p&gt;All of laptops which is not too old adpot EFI mode at present. However there are no switches in some laptops (Although EFI is really used).&lt;/p&gt;

&lt;p&gt;The number of manufacturers of BIOS is small while the number of OEMs is large. OEMs may customize BIOS so details of the following steps will not be the same.&lt;/p&gt;

&lt;p&gt;First Enter &lt;code class=&quot;highlighter-rouge&quot;&gt;BIOS Setup&lt;/code&gt; (Maybe F2, F8, Delete or other keys) and get &lt;code class=&quot;highlighter-rouge&quot;&gt;Boot&lt;/code&gt; page.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you see something like &lt;code class=&quot;highlighter-rouge&quot;&gt;Boot Mode&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI Boot Option&lt;/code&gt;, you can switch these two modes.&lt;/li&gt;
  &lt;li&gt;Some computers have &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI Priority Order&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI First&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;Legacy First&lt;/code&gt;. It’s also a way of changing boot modes (Adjusting the priority).&lt;/li&gt;
  &lt;li&gt;Some computers have &lt;code class=&quot;highlighter-rouge&quot;&gt;CSM Support&lt;/code&gt;. It is the support of Legacy Mode. However, it’s still UEFI prefered.&lt;/li&gt;
  &lt;li&gt;Some computers have no similar options. Just two kinds of circumstances:
    &lt;ul&gt;
      &lt;li&gt;The computer doesn’t support EFI at all.&lt;/li&gt;
      &lt;li&gt;The computer supports EFI and EFI prefered. It will boot via EFI mode as long as bootx64 exists no matter whether boot information for traditional mode exists.&lt;/li&gt;
      &lt;li&gt;You can prove this by extracting a 64-bit Windows 8 ISO to a clean USB drive which has no boot code.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;enter-bios-setup-with-windows-8-pre-installed&quot;&gt;Enter BIOS Setup with Windows 8 pre-installed&lt;/h2&gt;

&lt;p&gt;Some computers don’t show messages like “Press F2 to setup”, don’t enter BIOS Setup by pressing F2 and always startup Windows 8 directly.&lt;/p&gt;

&lt;p&gt;You can do the following steps in this case:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Go into Windows 8.&lt;/li&gt;
  &lt;li&gt;Reboot with &lt;code class=&quot;highlighter-rouge&quot;&gt;Shift&lt;/code&gt; key pushed&lt;/li&gt;
  &lt;li&gt;A diagnosis interface will show. Select &lt;code class=&quot;highlighter-rouge&quot;&gt;Troubleshooting&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Advanced Settings&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI Firmware Settings&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Press &lt;code class=&quot;highlighter-rouge&quot;&gt;Restart&lt;/code&gt; button and BIOS Setup will be entered automatically.&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;gpt-vs-mbr&quot;&gt;GPT vs. MBR&lt;/h1&gt;

&lt;p&gt;I will only introduce what they “look like”. I won’t consider SCSI, RAID or dynamic paritions…&lt;/p&gt;

&lt;h2 id=&quot;advantages-of-gpt&quot;&gt;Advantages of GPT&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;GPT supports partitions greater than 2TB.&lt;/li&gt;
  &lt;li&gt;GPT supports over 4 main partitions. There are at most 4 main partitions in MBR drives (and logical partitions are used to support more partitions).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;what-mbr-looks-like&quot;&gt;What MBR looks like&lt;/h2&gt;

&lt;p&gt;In general, people are used to divide an MBR disk into a primary partition (C:, /dev/sda1) and an extended partition (/dev/sda2). Other partitions are contained in the extended partition (from /dev/sda5).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/mbr.png&quot; alt=&quot;mbr&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;what-gpt-looks-like&quot;&gt;What GPT looks like&lt;/h2&gt;

&lt;p&gt;All of partitions in GPT disks are primary partition. The first partition using FAT32 filesystem is ESP (EFI System Partition).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gpt1.png&quot; alt=&quot;gpt1&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;brand-name-computers&quot;&gt;Brand-name Computers&lt;/h2&gt;

&lt;p&gt;Some brand-name computers have a easy-to-use recovery tool like “OneKey”. So there are some dedicated partitions saving recovery programs or original system images. You can’t alloc drive letters to these partitions directly.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gpt2.png&quot; alt=&quot;gpt2&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;windows-support&quot;&gt;Windows Support&lt;/h1&gt;

&lt;h2 id=&quot;old-windows-2003-or-older&quot;&gt;Old Windows (2003 or older)&lt;/h2&gt;

&lt;p&gt;Windows XP or older only supports Legacy + MBR and can’t detect GPT drives.&lt;/p&gt;

&lt;p&gt;Windows 2003 can detect GPT drives although can’t boot in them.&lt;/p&gt;

&lt;h2 id=&quot;new-windows-vista-or-newer&quot;&gt;New Windows (Vista or newer)&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;32-bit Windows doesn’t support UEFI except some tablets.&lt;/li&gt;
  &lt;li&gt;64-bit Windows only supports UEFI + GPT and Legacy + MBR.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In fact, UEFI &amp;amp; Legacy, GPT &amp;amp; MBR can be combined casually. However, Windows and Windows Installer will only work in supported mode.&lt;/p&gt;

&lt;p&gt;If you got wrong mode when installing Windows, you will find no partition can be installed to and receive an error message like this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Windows cannot be installed on this drive. The selected disk has an MBR partition table. On EFI systems, Windows can only be installed to GPT disk.&lt;/li&gt;
  &lt;li&gt;Windows cannot be installed on this drive. The selected disk has an GPT partition table.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In this case, you need reboot and use the correct mode to boot.&lt;/p&gt;

&lt;p&gt;In addition, you can use partitioning tool like &lt;code class=&quot;highlighter-rouge&quot;&gt;diskpart&lt;/code&gt; to rebuild partition table if you are not afraid of data loss.&lt;/p&gt;

&lt;h2 id=&quot;loseless-change&quot;&gt;Loseless CHANGE&lt;/h2&gt;

&lt;p&gt;Switching GPT/MBR will wipe all datas in the drive. However, this process can be done loselessly with the help of some professional softwares.&lt;/p&gt;

&lt;p&gt;WARNING: It may still cause data loss. So avoid trying this in an important device!&lt;/p&gt;

&lt;p&gt;Before this, you need a startup disk with DiskGenius (It’s Chinese interface). There are plenty of tools in China such as &lt;a href=&quot;http://www.dabaicai.com&quot;&gt;Dabaicai&lt;/a&gt; and &lt;a href=&quot;http://www.laomaotao.net&quot;&gt;LaoMaoTao&lt;/a&gt;…&lt;/p&gt;

&lt;p&gt;(1) UEFI + GPT =&amp;gt; Legacy + MBR&lt;/p&gt;

&lt;p&gt;DiskGenius can convert GPT from/to MBR loselessly.&lt;/p&gt;

&lt;p&gt;WARNING: Because MBR only supports at most 4 main partitions, data may lose while converting.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use DiskGenius to convert.&lt;/li&gt;
  &lt;li&gt;Set the partition containing Windows as the active partition.&lt;/li&gt;
  &lt;li&gt;Fix boot by typing the following command in Command Prompt:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bat&quot; data-lang=&quot;bat&quot;&gt;bcdboot C:\Windows /l zh-CN&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Change Boot Mode to Legacy.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(2) Legacy + MBR =&amp;gt; UEFI + GPT&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use DiskGenius to convert.&lt;/li&gt;
  &lt;li&gt;Create two new partitions sized about 200MB and 128MB from header. The 200MB partition will be used as ESP so its filesystem must be FAT32. Alloc a drive letter (for example, X:) to the ESP.&lt;/li&gt;
  &lt;li&gt;Type these commands in Command Prompt:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bat&quot; data-lang=&quot;bat&quot;&gt;diskpart
list disk
sel disk 0
list part
sel part 0
set id={C12A7328-F81F-11D2-BA4B-00A0C93EC93B}
sel part 1
set id={E3C9E316-0B5C-4DB8-817D-F92DF00215AE}
quit&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Fix boot:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bat&quot; data-lang=&quot;bat&quot;&gt;bcdboot C:\Windows /s X: /f uefi /l zh-cn&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Change Boot Mode to UEFI.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;notes-on-installing-windows&quot;&gt;Notes on installing Windows&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Windows 7 can be installed via EFI mode. If the installer can’t boot via EFI mode, you can find &lt;code class=&quot;highlighter-rouge&quot;&gt;bootmgfw.efi&lt;/code&gt; in the existing Windows, copy it to &lt;code class=&quot;highlighter-rouge&quot;&gt;EFI/Boot/&lt;/code&gt; directory and rename it to bootx64.efi.&lt;/li&gt;
  &lt;li&gt;Most Chinese won’t want to install Windows 7 via EFI mode except genuine users.&lt;/li&gt;
  &lt;li&gt;If you want to make a dual-boot, and have a Windows 8 (or newer), it’s better to disable “Quick Startup” in Power Settings in Control Panel, or partitions can’t be accessed correctly by other systems especially Linux.&lt;/li&gt;
  &lt;li&gt;If a error about GPT/MBR occurs while installing Windows, and Legacy Mode is required but the computer can’t switch boot modes, you can try to delete or rename &lt;code class=&quot;highlighter-rouge&quot;&gt;EFI&lt;/code&gt; directory in your installation disk.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;linux-support&quot;&gt;Linux Support&lt;/h1&gt;

&lt;p&gt;Linux supports both GPT and MBR, and supports UEFI and Legacy.&lt;/p&gt;

&lt;p&gt;Old systems use LILO or GRUB as the bootloader. They two don’t support UEFI.&lt;/p&gt;

&lt;p&gt;Now most distributions use GRUB2 and syslinux (in Installation CD). They support UEFI. Few distributions support Secure Boot except Ubuntu and Fedora.&lt;/p&gt;

&lt;p&gt;Of course, 32-bit Linux don’t support UEFI as 32-bit Windows do.&lt;/p&gt;

&lt;p&gt;If you want to switch boot mode, you just need to reinstall the bootloader rather than the whole system.&lt;/p&gt;

&lt;h1 id=&quot;os-x-support&quot;&gt;OS X Support&lt;/h1&gt;

&lt;h2 id=&quot;mac&quot;&gt;Mac&lt;/h2&gt;

&lt;p&gt;All of Macs use Apple EFI. Apple computers don’t support Legacy Mode.&lt;/p&gt;

&lt;p&gt;Apple computers use GPT and there are only three partitions: ESP, Macintosh HD (HFS+ filesystem), Recovery HD (HFS+ filesystem)/&lt;/p&gt;

&lt;p&gt;Systems in USB drives must support EFI in order to boot in Apple computers. Press &lt;code class=&quot;highlighter-rouge&quot;&gt;Option&lt;/code&gt; key after powering on, a boot menu will shown and you can choose the USB drive.&lt;/p&gt;

&lt;p&gt;It’s recommended to use &lt;code class=&quot;highlighter-rouge&quot;&gt;BootCamp Assistant&lt;/code&gt; in OS X if you want to install Windows.&lt;/p&gt;

&lt;p&gt;If you use Windows just in few times, you can use virtual machines such as Parallels Desktop, VMware Fusion or VirtualBox.&lt;/p&gt;

&lt;h2 id=&quot;hackintosh&quot;&gt;Hackintosh&lt;/h2&gt;

&lt;p&gt;“Hackintosh” is OS X which installed into a normal computer rather than Apple computers.&lt;/p&gt;

&lt;p&gt;Steps on installing Hackintosh is really complicated. I won’t introduce them.&lt;/p&gt;

&lt;p&gt;Hackintosh can’t boot directly without a special bootloader. Currently there are two popular bootloaders - Clover and Chameleon. Chameleon only supports Legacy Mode. Clover supports both UEFI and Legacy.&lt;/p&gt;

&lt;p&gt;OS X only supports GPT. So you must crack the kernel if you want to install it to a MBR drive. It’s not recommended to upgrade the system after cracking the kernel unless you know how to crack it again.&lt;/p&gt;
</description>
        <pubDate>Fri, 22 May 2015 04:43:40 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/22/windows-in-uefi-mode.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/22/windows-in-uefi-mode.html</guid>
        
        <category>Windows</category>
        
        <category>UEFI</category>
        
        
        <category>Maintainance</category>
        
      </item>
    
      <item>
        <title>Wi-Fi Hotspot on Banana Pro (2) - Auth</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#wifidog&quot; id=&quot;markdown-toc-wifidog&quot;&gt;WifiDog&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#how-does-wifidog-work&quot; id=&quot;markdown-toc-how-does-wifidog-work&quot;&gt;How does WifiDog work&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wifidog-gateway&quot; id=&quot;markdown-toc-wifidog-gateway&quot;&gt;WifiDog Gateway&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#install-wifidog-gateway&quot; id=&quot;markdown-toc-install-wifidog-gateway&quot;&gt;Install WifiDog Gateway&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#configuration&quot; id=&quot;markdown-toc-configuration&quot;&gt;Configuration&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#auth-server&quot; id=&quot;markdown-toc-auth-server&quot;&gt;Auth Server&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#wifidog-auth&quot; id=&quot;markdown-toc-wifidog-auth&quot;&gt;wifidog-auth&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mini-server-on-board&quot; id=&quot;markdown-toc-mini-server-on-board&quot;&gt;Mini server on board&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#start-wifidog&quot; id=&quot;markdown-toc-start-wifidog&quot;&gt;Start wifidog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#references&quot; id=&quot;markdown-toc-references&quot;&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All works are based on my &lt;a href=&quot;/linux/2015/05/15/wi-fi-hotspot-on-banana-pro-1.html&quot;&gt;previous article&lt;/a&gt;. I continued to deploy &lt;code class=&quot;highlighter-rouge&quot;&gt;portal authentication&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Before reading, make sure that you succeed to create an AP (Access Point) on the board.&lt;/p&gt;

&lt;h1 id=&quot;wifidog&quot;&gt;WifiDog&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.wifidog.org&quot;&gt;Wifidog&lt;/a&gt; is a complete and embeddable captive portal solution for wireless. You can open a free hotspot with authentication, e.g. charge system, WeChat Wifi.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;WeChat Wifi is a open Wi-Fi designed for marking. However, you can only use WeChat for subscribing the specific WeChat public account before surfing the Internet freely.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;how-does-wifidog-work&quot;&gt;How does WifiDog work&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.wifidog.org/wiki/doc/developer/FlowDiagram&quot;&gt;See here&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;wifidog-gateway&quot;&gt;WifiDog Gateway&lt;/h1&gt;

&lt;h2 id=&quot;install-wifidog-gateway&quot;&gt;Install WifiDog Gateway&lt;/h2&gt;

&lt;p&gt;Wifidog consists of two parts: auth server and client daemon. I installed the client daemon firstly.&lt;/p&gt;

&lt;p&gt;It can be &lt;a href=&quot;https://github.com/wifidog/wifidog-gateway&quot;&gt;downloaded&lt;/a&gt; from GitHub. I just used &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/wifidog/wifidog-gateway
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then, &lt;code class=&quot;highlighter-rouge&quot;&gt;cd&lt;/code&gt; to the directory, and type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./autogen.sh
make
make install
cp wifidog.conf /etc/
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;wifidog&lt;/code&gt; and you may receive a error about &lt;code class=&quot;highlighter-rouge&quot;&gt;libhttpd.so.0&lt;/code&gt;. Just run &lt;code class=&quot;highlighter-rouge&quot;&gt;ldconfig&lt;/code&gt; to fix it.&lt;/p&gt;

&lt;p&gt;Now you can type &lt;code class=&quot;highlighter-rouge&quot;&gt;wifidog -c /etc/wifidog.conf -f -d 7&lt;/code&gt; and watch what happening.&lt;/p&gt;

&lt;h2 id=&quot;configuration&quot;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;Edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/wifidog.conf&lt;/code&gt; and do the following changes:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;GatewayInterface&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;wlan0&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;AuthServer&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;Hostname&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;192&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.168.100.1&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;SSLAvailable&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;no&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;HTTPPort&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Path&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;LoginScriptPathFragment&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;login.php?&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;PortalScriptPathFragment&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;portal.php?&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;MsgScriptPathFragment&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gw_message.php?&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;PingScriptPathFragment&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ping.php?&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;AuthScriptPathFragment&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;auth.php?&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I just used the board as an auth server directly. If possible, please use EXTERNAL servers to reduce load of the router and use HTTPS protocol for security.&lt;/p&gt;

&lt;p&gt;WifiDog provides lots of features such as IP blocking (may be like GFW?), trusted users.&lt;/p&gt;

&lt;h1 id=&quot;auth-server&quot;&gt;Auth Server&lt;/h1&gt;

&lt;h2 id=&quot;wifidog-auth&quot;&gt;wifidog-auth&lt;/h2&gt;

&lt;p&gt;You can use &lt;a href=&quot;https://github.com/wifidog/wifidog-auth&quot;&gt;wifidog-auth&lt;/a&gt; in production environment. Here is a &lt;a href=&quot;http://dev.wifidog.org/wiki/doc/install/auth-server&quot;&gt;tutorial&lt;/a&gt; about deploying.&lt;/p&gt;

&lt;p&gt;It’s sorry that I failed to deploy the existing repo on my Banana Pro and it’s too HUGE for me and my board. So I use a simple one instead.&lt;/p&gt;

&lt;h2 id=&quot;mini-server-on-board&quot;&gt;Mini server on board&lt;/h2&gt;

&lt;p&gt;I use lighttpd, PHP and MySQL for auth on the board. You can Google how to install them.&lt;/p&gt;

&lt;p&gt;The following codes are from &lt;a href=&quot;http://talk.withme.me/?p=267&quot;&gt;zhyaof&lt;/a&gt; with some changes and they’re just prototypes. DO NOT use them in production environment!&lt;/p&gt;

&lt;p&gt;Create a database firstly (MySQL) and add a user named test:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DATABASE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`users`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VARCHAR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`password`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`token`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`logintime`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DATETIME&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`gw_address`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`gw_port`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`gw_id`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`mac`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`url`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;test&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;123456&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;auth.php&lt;/code&gt;: It must output &lt;code class=&quot;highlighter-rouge&quot;&gt;Auth: 1&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;Auth: 0&lt;/code&gt; (other numbers are also OK if you read the docs). The former one means access to the Internet.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Get parameters from URL firstly.
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$stage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;stage&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;stage&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ip&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ip&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mac&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mac&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;token&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;token&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$incoming&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;incoming&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;incoming&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$outgoing&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;outgoing&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;outgoing&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$gw_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// mac &amp;amp; token are used for auth.
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Connect to MySQL. Please change the the following code to your own.
&lt;/span&gt;        &lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;mysql_user&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;mysql_password&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Auth: 0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;mysql_select_db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;portal&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// After succeeding to login, IP, MAC and Token from the user will be recorded into the database (login.php).
&lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;// MACs are to identify users. However, it can be bypassed by ARP spoofing.
&lt;/span&gt;            &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM users WHERE mac=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39; AND token=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_num_rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Auth: 1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Auth: 0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Auth: 0&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;portal.php&lt;/code&gt;: A page that shows “Login successful” and jumps to the url (up to you).&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php
    session_start();
    $url = $_SESSION[&#39;url&#39;];
?&amp;gt;&lt;/span&gt;
Login successful.
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;href&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;?php echo $url; ?&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gw_message.php&lt;/code&gt;: A page shown when error occurs.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])){&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ping.php&lt;/code&gt;: Confirm that the server is alive and collect information of the load of the router. It’ll be called regularly and must respond &lt;code class=&quot;highlighter-rouge&quot;&gt;Pong&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;    Pong&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;login.php&lt;/code&gt;: The router will provide information of the user and the server needs to show a login page. If correct, specific page (&lt;code class=&quot;highlighter-rouge&quot;&gt;http://$gw_address:$gw_port/wifidog/auth?token=......&lt;/code&gt;) needs to be jumped to.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Get parameters from the URL.
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$gw_address&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_address&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_address&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$gw_port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_port&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_port&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$gw_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gw_id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mac&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mac&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;url&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;url&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// gw_address, gw_port, gw_id and mac are required for auth.
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// If POSTed from the login page, ...
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// WARNING: NO defense of injection!
&lt;/span&gt;            &lt;span class=&quot;nv&quot;&gt;$post_username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$post_password&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// Connect to the database. Change these strings from your own.
&lt;/span&gt;            &lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;mysql_user&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;mysql_password&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;$error_message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Failed to connect to the databse: &#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mysql_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// login_view.php is a login page and able to show error messages.
&lt;/span&gt;                &lt;span class=&quot;k&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;login_view.php&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nb&quot;&gt;mysql_select_db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;‘&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;portal&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;’&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$con&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// Validity check
&lt;/span&gt;                &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM users WHERE username=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$post_username&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39; AND password=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$post_password&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_num_rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;// Authentication successful. Generate a random token.
&lt;/span&gt;                    &lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLOMNOPQRSTUVWXYZ&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$pattern&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mt_rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)};&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

                    &lt;span class=&quot;c1&quot;&gt;// Write token to the database. It&#39;ll occur in auth.php.
&lt;/span&gt;                    &lt;span class=&quot;nb&quot;&gt;mysql_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Update users SET token=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;, logintime=&#39;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Y-m-d H:i:s&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&#39;, gw_address=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_address&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;, gw_port=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_port&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;, gw_id=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;, mac=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$mac&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;, url=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$url&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39; WHERE username=&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$post_username&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$error_message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

                    &lt;span class=&quot;c1&quot;&gt;// Just for backup
&lt;/span&gt;                    &lt;span class=&quot;nb&quot;&gt;session_start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$post_username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;url&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

                    &lt;span class=&quot;c1&quot;&gt;// Login successful. Jump to the specific page.
&lt;/span&gt;                    &lt;span class=&quot;nb&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Location: http://&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;:&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$gw_port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;/wifidog/auth?token=&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;// Login failed.
&lt;/span&gt;                    &lt;span class=&quot;nv&quot;&gt;$error_message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Wrong username or password!&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;login_view.php&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;login_view.php&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;login_view.php&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;http-equiv=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/html; charset=utf-8&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;language&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Portal Login&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;post&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;?php echo &quot;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;php&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;gw_address=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$gw_address&amp;amp;gw_port=$gw_port&amp;amp;gw_id=$gw_id&amp;amp;mac=$mac&amp;amp;url=$url&quot;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;&quot;&amp;gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Username&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;username&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;username&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;?php echo $post_username; ?&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Password&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;?php echo $post_password; ?&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;cp&quot;&gt;&amp;lt;?php
            if(!empty($error_message)){
                echo &quot;&amp;lt;h4&amp;gt;$error_message&amp;lt;/h4&amp;gt;&quot;;
            }
        ?&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Submit&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;start-wifidog&quot;&gt;Start wifidog&lt;/h1&gt;

&lt;p&gt;To have a test, please type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wifidog -c /etc/wifidog.conf -d 7 -f
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If no error occurs, you can let it start automatially by adding a line in &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/rc.local&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/local/bin/wifidog -c /etc/wifidog.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://dev.wifidog.org/wiki/doc/install/debian&quot;&gt;Wifidog Documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://talk.withme.me/?p=267&quot;&gt;zhyaof&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 18 May 2015 02:22:23 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/18/wi-fi-hotspot-on-banana-pro-2.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/18/wi-fi-hotspot-on-banana-pro-2.html</guid>
        
        <category>Wireless</category>
        
        <category>hostapd</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Wi-Fi Hotspot on Banana Pro (1) - AP</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#banana-pro&quot; id=&quot;markdown-toc-banana-pro&quot;&gt;Banana Pro&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#install-bananian&quot; id=&quot;markdown-toc-install-bananian&quot;&gt;Install Bananian&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#install-development-tools&quot; id=&quot;markdown-toc-install-development-tools&quot;&gt;Install development tools&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#enable-ap-mode&quot; id=&quot;markdown-toc-enable-ap-mode&quot;&gt;Enable AP mode&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#hostapd&quot; id=&quot;markdown-toc-hostapd&quot;&gt;hostapd&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#static-ip-for-wlan0&quot; id=&quot;markdown-toc-static-ip-for-wlan0&quot;&gt;Static IP for wlan0&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#enable-dhcp-server&quot; id=&quot;markdown-toc-enable-dhcp-server&quot;&gt;Enable DHCP server&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#go-to-the-internet&quot; id=&quot;markdown-toc-go-to-the-internet&quot;&gt;Go to the Internet&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I am busy preparing exams these days, so I seldom touched my boards during these two weeks.&lt;/p&gt;

&lt;p&gt;Picking up my Banana Pro, I think out an idea – A wireless router with authentication.&lt;/p&gt;

&lt;h1 id=&quot;banana-pro&quot;&gt;Banana Pro&lt;/h1&gt;

&lt;p&gt;Banana Pro is a development board designed by &lt;a href=&quot;http://www.lemaker.org&quot;&gt;lemaker&lt;/a&gt; and it’s similiar to Raspberry Pi. The performance of Banana Pro is better than Raspberry Pi. &lt;strong&gt;However, DO NOT get it unless you can solve problems by yourself because of lacking in documents.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;OpenWrt supports Banana Pro without its onboard wireless adapter. I tried making the wireless work many times but eventally I failed.&lt;/p&gt;

&lt;p&gt;This time I will try Debian direcly.&lt;/p&gt;

&lt;h2 id=&quot;install-bananian&quot;&gt;Install Bananian&lt;/h2&gt;

&lt;p&gt;Download and flash &lt;a href=&quot;http://www.bananian.org&quot;&gt;Bananian&lt;/a&gt; to the micro SD card.&lt;/p&gt;

&lt;p&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;dd&lt;/code&gt; in Linux or OS X and use &lt;code class=&quot;highlighter-rouge&quot;&gt;Win32ImageDisker&lt;/code&gt; in Windows.&lt;/p&gt;

&lt;p&gt;After booting, type &lt;code class=&quot;highlighter-rouge&quot;&gt;bananian-config&lt;/code&gt; to configure the new system. Change the profile to Banana Pro.&lt;/p&gt;

&lt;p&gt;Before rebooting, edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/modules&lt;/code&gt; file, and add the content below into it:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ap6210 op_mode=2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;install-development-tools&quot;&gt;Install development tools&lt;/h2&gt;

&lt;p&gt;There are no real development tools in Bananian. You have to install them manually:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install gcc make git libc-dev automake libtool
apt-get install vim
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;enable-ap-mode&quot;&gt;Enable AP mode&lt;/h1&gt;

&lt;h2 id=&quot;hostapd&quot;&gt;hostapd&lt;/h2&gt;

&lt;p&gt;I used the newest hostapd (version 2.4) rather than the one in Debian (version 1.0). Use these commands to compile and install it:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install libnl-dev libssl-dev
cd
wget http://w1.fi/releases/hostapd-2.4.tar.gz
tar -xvf hostapd-2.4.tar.gz
cd hostapd-2.4/hostapd
cp defconfig .config
make
make install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You need a create a configuation file &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/hostapd/hostapd.conf&lt;/code&gt;, and add:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ini&quot; data-lang=&quot;ini&quot;&gt;&lt;span class=&quot;py&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;wlan0&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;nl80211&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ssid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;MySSID&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;6&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;hw_mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;g&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;macaddr_acl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;auth_algs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ignore_broadcast_ssid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;wpa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;wpa_passphrase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;12345678&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;wpa_key_mgmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;WPA-PSK&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;wpa_pairwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;TKIP&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;rsn_pairwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;CCMP&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I tried &lt;code class=&quot;highlighter-rouge&quot;&gt;wpa=3&lt;/code&gt; according to the document but both my phone and my Mac can’t connect to the board. so I replaced it with &lt;code class=&quot;highlighter-rouge&quot;&gt;wpa=2&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Now you can run the following command to test and you will see a hotspot named &lt;code class=&quot;highlighter-rouge&quot;&gt;MySSID&lt;/code&gt; with your phone.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;hostapd -d /etc/hostapd/hostapd.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;static-ip-for-wlan0&quot;&gt;Static IP for wlan0&lt;/h2&gt;
&lt;p&gt;Edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/network/interfaces&lt;/code&gt; and add the following lines:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;allow-hotplug wlan0
    iface wlan0 inet static
    address 192.168.100.1
    netmask 255.255.255.0

up hostapd -B /etc/hostapd/hostapd.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;enable-dhcp-server&quot;&gt;Enable DHCP server&lt;/h2&gt;
&lt;p&gt;There are many kinds of DHCP servers. I chose &lt;code class=&quot;highlighter-rouge&quot;&gt;udhcpd&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;callout callout-primary&quot;&gt;
&lt;h4&gt;IPv6&lt;/h4&gt;
udhcpd doesn&#39;t support IPv6. Use isc-dhcp-server instead if you need IPv6.  &lt;a href=&quot;/2015/06/23/wi-fi-hotspot-on-banana-pro-3/&quot;&gt;Click here&lt;/a&gt; for more information.
&lt;/div&gt;

&lt;p&gt;Install the DHCP server:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install udhcpd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/udhcpd.conf&lt;/code&gt; and do the following changes:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;start    192.168.100.101    #default: 192.168.0.20
end      192.168.100.254   #default: 192.168.0.254

interface   wlan0     #default: eth0

option  subnet  255.255.255.0
opt     router  192.168.100.1
opt     wins    192.168.100.1
option  dns     8.8.8.8
option  domain  local
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/default/udhcpd&lt;/code&gt; and modify &lt;code class=&quot;highlighter-rouge&quot;&gt;DHCPD_ENABLED=&quot;no&quot;&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;DHCPD_ENABLED=&quot;yes&quot;&lt;/code&gt;. Then &lt;code class=&quot;highlighter-rouge&quot;&gt;udhcpd&lt;/code&gt; will start automatically after booting.&lt;/p&gt;

&lt;h2 id=&quot;go-to-the-internet&quot;&gt;Go to the Internet&lt;/h2&gt;
&lt;p&gt;You can connect to the hotspot by now but you can’t connect to the Internet.&lt;/p&gt;

&lt;p&gt;There are two ways to route flow - NAT and bridge.&lt;/p&gt;

&lt;p&gt;I used NAT. Type these 3 commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;iptables -A FORWARD -o eth0 -i wlan0 -s 192.168.1.0/24 -m conntrack --ctstate NEW -j ACCEPT
iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then Internet will be available.&lt;/p&gt;

&lt;p&gt;The configuation will be erased after rebooting. So edit &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/network/interfaces&lt;/code&gt; and add these lines to the end (Refered to &lt;a href=&quot;http://frank-mankel.de/?p=401&quot;&gt;frank-mankel.de/?p=401&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;up /sbin/iptables -F
up /sbin/iptables -X
up /sbin/iptables -t nat -F
up iptables -A FORWARD -o eth0 -i wlan0 -s 192.168.1.0/24 -m conntrack --ctstate NEW -j ACCEPT
up iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
up iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
up sysctl -w net.ipv4.ip_forward=1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now, a basic router is made. I’ll add some features then.&lt;/p&gt;
</description>
        <pubDate>Sat, 16 May 2015 00:35:04 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/16/wi-fi-hotspot-on-banana-pro-1.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/16/wi-fi-hotspot-on-banana-pro-1.html</guid>
        
        <category>Wireless</category>
        
        <category>hostapd</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>The 2048 Game on Arduino</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#requirement&quot; id=&quot;markdown-toc-requirement&quot;&gt;Requirement&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sketches&quot; id=&quot;markdown-toc-sketches&quot;&gt;Sketches&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#preparation&quot; id=&quot;markdown-toc-preparation&quot;&gt;Preparation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#code&quot; id=&quot;markdown-toc-code&quot;&gt;Code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#preview&quot; id=&quot;markdown-toc-preview&quot;&gt;Preview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One day, I felt boring. Finding some electronic components nearby, I wrote a little game – The 2048 Game on Arduino Uno.&lt;/p&gt;

&lt;p&gt;The function is really simple. You just need 4 buttons for moving. If GAME OVER, just press reset button and play again.&lt;/p&gt;

&lt;h1 id=&quot;requirement&quot;&gt;Requirement&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;an Arduino board like Uno&lt;/li&gt;
  &lt;li&gt;4 buttons&lt;/li&gt;
  &lt;li&gt;a LCD12864 screen (The chip of my screen is ST7920.)&lt;/li&gt;
  &lt;li&gt;a bread board with some wires&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;sketches&quot;&gt;Sketches&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;/img/arduino2048sketches.png&quot; width=&quot;700&quot; /&gt;&lt;/p&gt;

&lt;p&gt;4 buttons are placed horizontally. They are same as direction keys in &lt;code class=&quot;highlighter-rouge&quot;&gt;Vim&lt;/code&gt; (h, j, k, l).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The 1st button means LEFT.&lt;/li&gt;
  &lt;li&gt;The 2nd button means DOWN.&lt;/li&gt;
  &lt;li&gt;The 3rd button means UP.&lt;/li&gt;
  &lt;li&gt;The 4th button means RIGHT.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It’s much better if you have a joystick-like button. Unfortunately, I have no one.&lt;/p&gt;

&lt;h1 id=&quot;preparation&quot;&gt;Preparation&lt;/h1&gt;
&lt;p&gt;You need Arduino IDE and &lt;code class=&quot;highlighter-rouge&quot;&gt;u8glib&lt;/code&gt; Library for Arduino.&lt;/p&gt;

&lt;p&gt;u8glib is a library for LCD screens. You can get it from &lt;a href=&quot;https://code.google.com/p/u8glib/&quot;&gt;Google Code&lt;/a&gt; or &lt;a href=&quot;http://pan.baidu.com/s/1dDfApod&quot;&gt;BaiduYun&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After downloading it, you need extract it to &lt;code class=&quot;highlighter-rouge&quot;&gt;~/Documents/Arduino/libraries&lt;/code&gt; directory.&lt;/p&gt;

&lt;h1 id=&quot;code&quot;&gt;Code&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/*
 *   ARDUINO 2048
 *
 *   2015.2.14
 *
 */&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;U8glib.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// SCK=3, MOSI=9, CS=8
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;U8GLIB_ST7920_128X64_1X&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;#define UP      6
#define DOWN    5
#define LEFT    4
#define RIGHT   7
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gameOver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;16&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;32&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;64&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;128&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;256&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;512&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1024&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;2048&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;4096&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;8192&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;####&quot;&lt;/span&gt;    
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;paintBoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;top&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;firstPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setFont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u8g_font_7x14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setFontPosTop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Border
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drawHLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;top&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textHeight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drawVLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;top&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textHeight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Text
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;top&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spanV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textHeight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//Serial.print(board[i][j]);
&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drawStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nextPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fake&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
     * There are ? situations about moving. Take LEFT as an example:
     *   1 1 2 1   =&amp;gt;   2 1 1 1 (Move)
     *   2 4 8 4   =&amp;gt;   2 4 8 4 (Take no action)
     *   2 2 4 1   =&amp;gt;   4 4 1 1 (Combine)
     *   1 2 2 4   =&amp;gt;   4 4 1 1 (Move &amp;amp; Combine)
     *   1 1 1 1   =&amp;gt;   1 1 1 1 (No action)
     *   2 2 4 4   =&amp;gt;   4 8 1 1
     *
     * So we move them firstly. Then we combine them. And we move them again.
     */&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LEFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;signed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;signed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;signed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;signed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;generateNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emptyBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;emptyBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emptyBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emptyBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;detectGameOver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LEFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;gameOver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;firstPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setFont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u8g_font_ncenB14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setFontPosTop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drawStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;GAME OVER&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nextPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INPUT_PULLUP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INPUT_PULLUP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INPUT_PULLUP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INPUT_PULLUP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gameOver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;randomSeed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;analogRead&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;generateNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;generateNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;lcd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;paintBoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//Serial.begin(9600);
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gameOver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Check buttons
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uchar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;digitalRead&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LOW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;generateNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;paintBoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;detectGameOver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
           &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;preview&quot;&gt;Preview&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;/img/arduino2048.jpg&quot; width=&quot;500&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 11 May 2015 21:01:20 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/11/the-2048-game-on-arduino.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/11/the-2048-game-on-arduino.html</guid>
        
        <category>Arduino</category>
        
        
        <category>Arduino</category>
        
        <category>fun</category>
        
      </item>
    
      <item>
        <title>A useful script for blog</title>
        <description>&lt;p&gt;&lt;em&gt;Just a test for using jekyll.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;How to post a new article in Jekyll? A simple way is just creating a new file and writing a header.&lt;/p&gt;

&lt;p&gt;It seems not to sound good. So it’s time to write a simple script.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;usage: post &amp;lt;title&amp;gt; [categories]&#39;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi

&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$title&lt;/span&gt; | sed &lt;span class=&quot;s1&quot;&gt;&#39;s/[^0-9a-zA-Z]/-/g&#39;&lt;/span&gt; | tr A-Z a-z&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;date +%Y-%m-%d&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;-&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;.markdown

&lt;span class=&quot;nb&quot;&gt;shift &lt;/span&gt;1
cat &amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;_posts/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;sh&quot;&gt;&amp;lt;&amp;lt; EOF
---
layout: post
title: &quot;$title&quot;
date: `date +%Y-%m-%d\ %H:%M:%S`
author: vjudge1
categories: $2
tags: $3
---

* content
{:toc}
EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;New blog posted.&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is just the beginning. And there is still something wrong in my blog.&lt;/p&gt;

&lt;p&gt;I’m used to Linux &amp;amp; Mac because its powerful scripting environment, and I can’t imagine living in the real Windows instead of virtual machines.&lt;/p&gt;
</description>
        <pubDate>Mon, 11 May 2015 09:06:01 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/11/a-useful-script-for-blog.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/11/a-useful-script-for-blog.html</guid>
        
        <category>Scripting</category>
        
        
        <category>GitHub</category>
        
      </item>
    
      <item>
        <title>Welcome to Jekyll!</title>
        <description>&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &#39;Hi, Tom&#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://github.com/jekyll/jekyll-help&quot;&gt;Jekyll’s dedicated Help repository&lt;/a&gt;.&lt;/p&gt;

</description>
        <pubDate>Sun, 10 May 2015 01:21:46 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/05/10/welcome-to-jekyll.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/05/10/welcome-to-jekyll.html</guid>
        
        <category>Jekyll</category>
        
        <category>GitHub</category>
        
        
        <category>GitHub</category>
        
      </item>
    
      <item>
        <title>［备份用］黑苹果安装记录</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;基本信息&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;安装盘的处理&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;安装完成&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;驱动&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;声卡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;网卡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dsdt&quot; id=&quot;markdown-toc-dsdt&quot;&gt;DSDT&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dsdt-1&quot; id=&quot;markdown-toc-dsdt-1&quot;&gt;屏幕亮度 DSDT&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;电池电量&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#hdmivga&quot; id=&quot;markdown-toc-hdmivga&quot;&gt;HDMI/VGA&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#clover-&quot; id=&quot;markdown-toc-clover-&quot;&gt;Clover 设置&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#kexts&quot; id=&quot;markdown-toc-kexts&quot;&gt;kexts&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#drivers64uefi&quot; id=&quot;markdown-toc-drivers64uefi&quot;&gt;drivers64UEFI&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#configplist&quot; id=&quot;markdown-toc-configplist&quot;&gt;config.plist&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;写本文纯粹是为了给自己留个备份。&lt;/p&gt;

&lt;p&gt;不同电脑不一样。思路可以借鉴，步骤不要照抄！&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;基本信息&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Lenovo V470&lt;/li&gt;
  &lt;li&gt;Legacy+MBR，故使用懒人版，并按照懒人版教程进行安装&lt;/li&gt;
  &lt;li&gt;启动器 Chameleon&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-1&quot;&gt;安装盘的处理&lt;/h1&gt;

&lt;p&gt;将教程中有关 SNB 的文件复制到 /Extra。&lt;/p&gt;

&lt;p&gt;/System/Library/Extensions 删除以下两个文件：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AppleIntelCPUPowerManagement.kext&lt;/li&gt;
  &lt;li&gt;AppleIntelCPUPowerManagementClient.kext&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;[% callout %]
注意&lt;/p&gt;

&lt;p&gt;这两个驱动也可以通过 NullCPUPowerManagement 来屏蔽。
[% endcallout %]&lt;/p&gt;

&lt;p&gt;下面驱动在没有问题的情况下不用删：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AMD 开头的所有文件&lt;/li&gt;
  &lt;li&gt;AppleThunderbolt 开头的 6 个文件&lt;/li&gt;
  &lt;li&gt;NV 开头的 8 个文件&lt;/li&gt;
  &lt;li&gt;IOBluetooth 开头的所有文件&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-2&quot;&gt;安装完成&lt;/h1&gt;

&lt;p&gt;进入安装盘，再次把有关文件复制到 /Extra 中。&lt;/p&gt;

&lt;p&gt;以下驱动酌情删除：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AppleIntelCPUPowerManagement.kext（必删，除非有 NullCPUPowerManagement））&lt;/li&gt;
  &lt;li&gt;AppleIntelCPUPowerManagementClient.kext（必删，除非有 NullCPUPowerManagement）&lt;/li&gt;
  &lt;li&gt;AppleSmartBatteryManager.kext&lt;/li&gt;
  &lt;li&gt;AppleIntelHDGraphics 开头的 5 个文件&lt;/li&gt;
  &lt;li&gt;AppleThunderbolt 开头的 6 个文件&lt;/li&gt;
  &lt;li&gt;GeForce 开头的 7 个文件&lt;/li&gt;
  &lt;li&gt;NV 开头的 7 个文件（笔记本双显卡的请删除——其实不用删）&lt;/li&gt;
  &lt;li&gt;AppleHDA.kext（必删，除非以后你想仿冒声卡）&lt;/li&gt;
  &lt;li&gt;AMD 开头的 15 个文件&lt;/li&gt;
  &lt;li&gt;ATIRadeon 开头的 4 个文件&lt;/li&gt;
  &lt;li&gt;IOBluetooth 开头的所有文件（注意这个是蓝牙驱动，要是不删可以进入系统并且想使用蓝牙的留着吧）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;[% callout %]
事实&lt;/p&gt;

&lt;p&gt;一开始对苹果的底细一点都不清楚，心里感到害怕，就照着教程删了。后来偶然将系统升级，发现以上各驱动其实完全没必要删。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;section-3&quot;&gt;驱动&lt;/h1&gt;

&lt;h2 id=&quot;section-4&quot;&gt;声卡&lt;/h2&gt;

&lt;p&gt;VoodooHDA&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;网卡&lt;/h2&gt;

&lt;p&gt;有线网卡：RTL8111E 有驱动。&lt;/p&gt;

&lt;p&gt;无线网卡：刷白名单，换成免驱的 BCM4322（详细参数：DEV 432B、VEN 14E4、SUBSYS 000D1028，刷机时用）。&lt;/p&gt;

&lt;h2 id=&quot;dsdt&quot;&gt;DSDT&lt;/h2&gt;

&lt;p&gt;在 Ubuntu 中，DSDT 被存在 /sys/firmware/acpi/tables 里。SSDT 也在。&lt;/p&gt;

&lt;p&gt;不过需要反编译一下才能进行修改。&lt;/p&gt;

&lt;h2 id=&quot;dsdt-1&quot;&gt;屏幕亮度 DSDT&lt;/h2&gt;

&lt;p&gt;(1) Device (GFX0) { Name (ADR, ….) 的下一行加入：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Method (_DSM, 4, NotSerialized)
{
    Store (Package (0x12)
    {
        &quot;device-id&quot;,
        Buffer (0x04)
        {
            0x06, 0x01, 0x00, 0x00
        },
        &quot;model&quot;,
        Buffer (0x17)
        {
            &quot;Intel HD Graphics 3000&quot;
        },
        &quot;hda-gfx&quot;,
        Buffer (0x0A)
        {
            &quot;onboard-2&quot;
        },
        &quot;AAPL,HasPanel&quot;,
        Buffer (0x04)
        {
            0x01, 0x00, 0x00, 0x00
        },
        &quot;AAPL,Haslid&quot;,
        Buffer (0x04)
        {
            0x01, 0x00, 0x00, 0x00
        },
        &quot;AAPL,backlight-control&quot;,
        Buffer (0x04)
        {
            0x01, 0x00, 0x00, 0x00
        },
        &quot;@0,backlight-control&quot;,
        Buffer (0x04)
        {
            0x01, 0x00, 0x00, 0x00
        },
        &quot;@0,AAPL,boot-display&quot;,
        Buffer (0x04)
        {
            0x01, 0x00, 0x00, 0x00
        },
        &quot;@0,built-in&quot;,
        Buffer (One)
        {
            0x01
        }
    }, Local0)
    DTGP (Arg0, Arg1, Arg2, Arg3, RefOf (Local0))
    Return (Local0)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(2) Scope (_SB) 后面加入&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Device (PNLF)
{
    Name (_HID, EisaId (&quot;APP0002&quot;))
    Name (_CID, &quot;backlight&quot;)
    Name (_UID, 0x0A)
    Name (_STA, 0x0B)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(3) DTGP: 放到“Method (GETB, 3, Serialized)”的前面。DTGP 是一个非常常用的函数，不过我电脑没有。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Method (DTGP, 5, NotSerialized)
{
    If (LEqual (Arg0, Buffer (0x10)
        {
        /* 0000 */    0xC6, 0xB7, 0xB5, 0xA0, 0x18, 0x13, 0x1C, 0x44,
        /* 0008 */    0xB0, 0xC9, 0xFE, 0x69, 0x5E, 0xAF, 0x94, 0x9B
        }))
    {
        If (LEqual (Arg1, One))
        {
            If (LEqual (Arg2, Zero))
            {
                Store (Buffer (One)
                {
                    0x03
                }, Arg4)
                Return (One)
            }
            If (LEqual (Arg2, One))
            {
                Return (One)
            }
        }
    }
    Store (Buffer (One)
    {
        0x00
    }, Arg4)
    Return (Zero)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(4) 改亮度快捷键：Fn+Home、Fn+PageUp&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;电池电量&lt;/h2&gt;

&lt;p&gt;直接安装 ACPIBatteryManager。&lt;/p&gt;

&lt;p&gt;下面是按照论坛贴子的教程进行的操作，只不过结果是完败。&lt;/p&gt;

&lt;p&gt;思路：首先找到电池的函数。我的电脑电池函数与其他电脑不同——它是调用了其他函数。&lt;/p&gt;

&lt;p&gt;记住所有涉及的变量名称，把多字节的变量全部拆成单字节的。&lt;/p&gt;

&lt;p&gt;首先是拆字节需要的函数 B1B2 一类的——&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Method (B1B2, 2, NotSerialized)
{
    Or (ShiftLeft (Arg1, 0x08), Arg0, Local0)
    Return (Local0)
}
Method (B1B4, 4, NotSerialized)
{
    Or (ShiftLeft (Arg1, 0x08), Arg0, Local0)
    Or (ShiftLeft (Arg2, 0x10), Local0, Local0)
    Or (ShiftLeft (Arg3, 0x18), Local0, Local0)
    Return (Local0)
}
Method (L1L4, 4, NotSerialized)
{
    Or (ShiftLeft (Arg1, 0x20), Arg0, Local0)
    Or (ShiftLeft (Arg2, 0x40), Local0, Local0)
    Or (ShiftLeft (Arg3, 0x60), Local0, Local0)
    Return (Local0)
}
Method (L1L6, 6, NotSerialized)
{
    Or (ShiftLeft (Arg1, 0x20), Arg0, Local0)
    Or (ShiftLeft (Arg2, 0x40), Local0, Local0)
    Or (ShiftLeft (Arg3, 0x60), Local0, Local0)
    Or (ShiftLeft (Arg4, 0x80), Local0, Local0)
    Or (ShiftLeft (Arg5, 0xA0), Local0, Local0)
    Return (Local0)
}
Method (D2D4, 2, NotSerialized)
{
    Or (ShiftLeft (Arg1, 0x80), Arg0, Local0)
    Return (Local0)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;然后按照论坛教程的模板，对不同字节变量进行替换即可。一共需要改数十处。&lt;/p&gt;

&lt;h2 id=&quot;hdmivga&quot;&gt;HDMI/VGA&lt;/h2&gt;

&lt;p&gt;备注：这个修改仅对 Intel HD 3000 有效。&lt;/p&gt;

&lt;p&gt;改 AppleIntelSNBGraphicsFB。&lt;/p&gt;

&lt;p&gt;找到其中的：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;01020400 10070000 10070000  # 4 代表 4 个接口
05030000 02000000 30000000  # 优先使用内建LCD
02050000 00040000 07000000  # HDMI
03040000 00040000 09000000  # DVI－A
04060000 00040000 09000000  # DVI－D
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;此外还有&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;06020000 10000000 09000000  # 表示VGA
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;根据实际需要进行替换即可。&lt;/p&gt;

&lt;p&gt;由于 Clover 可以间接改文件，所以不会对系统造成破坏。&lt;/p&gt;

&lt;h1 id=&quot;clover-&quot;&gt;Clover 设置&lt;/h1&gt;

&lt;p&gt;自从把 Legacy+MBR 换成 UEFI+GPT，感觉完美多了。&lt;/p&gt;

&lt;h2 id=&quot;kexts&quot;&gt;kexts&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ACPIBatteryManager：电池电量驱动&lt;/li&gt;
  &lt;li&gt;ElliottForgeLegacyRTC：防重置驱动&lt;/li&gt;
  &lt;li&gt;FakeSMC：不用解释了吧&lt;/li&gt;
  &lt;li&gt;VoodooHDA：万能声卡驱动&lt;/li&gt;
  &lt;li&gt;VoodooPS2Controller：键鼠驱动&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;drivers64uefi&quot;&gt;drivers64UEFI&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;DataHubDxe-64.efi&lt;/li&gt;
  &lt;li&gt;EmuVariableUefi-64.efi&lt;/li&gt;
  &lt;li&gt;FSInject-64.efi&lt;/li&gt;
  &lt;li&gt;HFSPlus-64.efi&lt;/li&gt;
  &lt;li&gt;OsxAptioFixDrv-64.efi&lt;/li&gt;
  &lt;li&gt;OsxFatBinaryDrv-64.efi&lt;/li&gt;
  &lt;li&gt;PartitionDxe-64.efi&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;其中 HFSPlus-64.efi 需要到论坛里搜。虽然 Clover Configuration 里面也有，只不过一是系统还未启动，二是下载地址被墙了。&lt;/p&gt;

&lt;h2 id=&quot;configplist&quot;&gt;config.plist&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ACPI
    &lt;ul&gt;
      &lt;li&gt;DSDT
        &lt;ul&gt;
          &lt;li&gt;Name: DSDT.aml&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;PatchAPIC: Yes&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;KernelAndKextPatches
    &lt;ul&gt;
      &lt;li&gt;AppleRTC: Yes&lt;/li&gt;
      &lt;li&gt;AsusAICPUPM: Yes（因为这个 Yes，我用上了原生电源管理）&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;序列号可以用一个叫 Clover Configuration 的软件生成。需要改两处：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;RtVariables 的 ROM&lt;/li&gt;
  &lt;li&gt;SMBIOS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;改完验证一下，通过之后就可以给苹果客服打电话修复 iMessage 和 FaceTime 了。&lt;/p&gt;
</description>
        <pubDate>Wed, 25 Feb 2015 04:11:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2015/02/25/hackintosh-journal.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2015/02/25/hackintosh-journal.html</guid>
        
        <category>Hackintosh</category>
        
        
        <category>Mac</category>
        
      </item>
    
      <item>
        <title>Linux/Mac 下烧录 STC 单片机</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#windows-&quot; id=&quot;markdown-toc-windows-&quot;&gt;和 Windows 环境的区别&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ubuntu-&quot; id=&quot;markdown-toc-ubuntu-&quot;&gt;Ubuntu 的配置&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#stcflash-&quot; id=&quot;markdown-toc-stcflash-&quot;&gt;stcflash (推荐)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gstcisp&quot; id=&quot;markdown-toc-gstcisp&quot;&gt;gSTCISP&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#os-x-&quot; id=&quot;markdown-toc-os-x-&quot;&gt;OS X 的配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#blink&quot; id=&quot;markdown-toc-blink&quot;&gt;烧录 blink&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;源码&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#bin-&quot; id=&quot;markdown-toc-bin-&quot;&gt;获得 bin 格式&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#stcflash&quot; id=&quot;markdown-toc-stcflash&quot;&gt;stcflash&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;据说单片机高手都是鄙视 STC 单片机的，因为 STC 的老姚 (姚永平) 喜欢到处 Tree New Bee。不过拿 STC 单片机入门还是很好的，毕竟它又简单又便宜，最重要的是，它可以拿 USB 直接下载。&lt;/p&gt;

&lt;p&gt;但是老姚的烧录软件只有 Windows 版 (并且烧录软件里面也是到处吹牛皮)，所以在 Linux 或 Mac 系统下要麻烦一下了……&lt;/p&gt;

&lt;p&gt;下面讲的是在纯 Linux/Mac 环境下烧单片机。如果嫌麻烦，你可以装虚拟机然后在里面跑 Windows。&lt;/p&gt;

&lt;p&gt;单片机：STC89C52RC&lt;/p&gt;

&lt;p&gt;使用了开发板，支持在线下载，串口芯片为 PL2303HX。&lt;/p&gt;

&lt;h1 id=&quot;windows-&quot;&gt;和 Windows 环境的区别&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Windows 下用的是 Keil 和 STC-ISP，前者是编程软件（带编译器），后者是官方的下载软件。所以只要找到这两个的替代品，剩下的就都 ok 了。
    &lt;ul&gt;
      &lt;li&gt;Keil 的替代品是 sdcc。不过二者语法有些不同，程序不能直接拿来编译。&lt;/li&gt;
      &lt;li&gt;Keil 在 wine 中不能正常工作，但是编译器可以。&lt;/li&gt;
      &lt;li&gt;STC-ISP 的替代品有 gSTCISP、stcflash，前者是图形界面程序。由于 STC 的烧录方法是不公开的，所以这两个软件并不支持所有种类的 STC。不过 89C5x 都是没问题的。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;代码可以用 Vim 写，然后写 Makefile 编译。当然，怎么搞都行。&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;ubuntu-&quot;&gt;Ubuntu 的配置&lt;/h1&gt;

&lt;p&gt;其他 Linux 发行版思路类似。&lt;/p&gt;

&lt;p&gt;一般下载器都是 PL2303 芯片，此芯片免驱，所以不用安装了。默认情况下串口可能是&lt;code class=&quot;highlighter-rouge&quot;&gt;/dev/ttyUSB0&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;用以下命令安装编译器：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install sdcc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;stcflash-&quot;&gt;stcflash (推荐)&lt;/h2&gt;

&lt;p&gt;stcflash 可以从 &lt;a href=&quot;https://github.com/laborer/stcflash&quot;&gt;GitHub&lt;/a&gt; 下载。我对这个程序稍微做了修改，所以现在可以直接烧录 .hex 格式的程序了。&lt;/p&gt;

&lt;p&gt;stcflash 需要 pySerial，所以：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install python-serial
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;也可以源码安装，只要你愿意折腾。&lt;/p&gt;

&lt;p&gt;为了方便，可以把它复制到 /usr/local/bin 中：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo cp stcflash.py /usr/local/bin/stcflash
sudo chmod +x /usr/local/bin/stcflash
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;我个人感觉 stcflash 用起来会舒服一些，因为是命令行工具，便于写 Makefile。&lt;/p&gt;

&lt;h2 id=&quot;gstcisp&quot;&gt;gSTCISP&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;先执行下面这条命令，编译时要用&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo apt-get install libvte-dev
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;百度 gSTC-ISP_v1.0.tar.gz 的&lt;a href=&quot;http://forum.ubuntu.org.cn/download/file.php?id=104628&amp;amp;sid=767b624faf73a36c71fcd4f8111773e&quot;&gt;源代码&lt;/a&gt;，解压&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; tar xvf gSTC-ISP_v1.0.tar.gz
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;接下来把 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/include/vte-0.0/vte&lt;/code&gt; 中与 vte 有关的所有文件拷到解压后的 &lt;code class=&quot;highlighter-rouge&quot;&gt;gSTC-ISP_v1.0/src&lt;/code&gt; 中。&lt;/li&gt;
  &lt;li&gt;把 gSTC-ISP_v1.0/src/main.c 中的 &lt;code class=&quot;highlighter-rouge&quot;&gt;#include &amp;lt;vte/vte.h&amp;gt;&lt;/code&gt; 改为 &lt;code class=&quot;highlighter-rouge&quot;&gt;#include &quot;vte.h&quot;&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;接下来就可以 &lt;code class=&quot;highlighter-rouge&quot;&gt;./configure &amp;amp;&amp;amp; make &amp;amp;&amp;amp; make install&lt;/code&gt; 了。&lt;/li&gt;
  &lt;li&gt;为了方便，可以把它复制到 /usr/local/bin 中：sudo cp gSTCISP /usr/local/bin&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;很麻烦是吧？毕竟是支持图形界面的……还是命令行更简单！&lt;/p&gt;

&lt;h1 id=&quot;os-x-&quot;&gt;OS X 的配置&lt;/h1&gt;

&lt;p&gt;为了省事儿，还是用 &lt;a href=&quot;https://github.com/laborer/stcflash&quot;&gt;stcflash&lt;/a&gt; 吧。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;PL2303 当然有 &lt;a href=&quot;http://www.prolific.com.tw/US/ShowProduct.aspx?p_id=229&amp;amp;pcid=41&quot;&gt;Mac 的驱动&lt;/a&gt;，下载安装然后重启就能用了。默认情况下串口可能是&lt;code class=&quot;highlighter-rouge&quot;&gt;/dev/tty.usbserial&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;安装 sdcc 编译器：需要安装一个软件——MacPorts (其实 brew 也行)
我直接用 MacPorts 了——&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo port install binutils sdcc
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;需要安装 pySerial。首先要&lt;a href=&quot;https://pypi.python.org/packages/source/p/pyserial/pyserial-2.7.tar.gz#md5=794506184df83ef2290de0d18803dd11&quot;&gt;下载代码&lt;/a&gt;，解压。
安装其实很简单，只要&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo python setup.py install
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;就 OK 了。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;下载 stcflash。为了方便，可以复制到 /usr/local/bin 中：&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo cp stcflash.py /usr/local/bin/stcflash
 sudo chmod +x /usr/local/bin/stcflash
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;我没试过 gSTCISP 和 kSTCISP，毕竟那是针对 Linux 的。我觉得在装了 X11 之后应该是能用的。&lt;/p&gt;

&lt;h1 id=&quot;blink&quot;&gt;烧录 blink&lt;/h1&gt;

&lt;h2 id=&quot;section&quot;&gt;源码&lt;/h2&gt;

&lt;p&gt;建个文件夹，然后建立个文件，叫 led.c：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;8052.h&amp;gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__sbit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__at&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// or
// #define LED  P0_0
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;LED&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;LED&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;bin-&quot;&gt;获得 bin 格式&lt;/h2&gt;

&lt;p&gt;如果要求 .bin 格式，那么就输入以下命令：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sdcc led.c
packihx led.ihx &amp;gt; led.hex
objcopy -I ihex -O binary led.hex led.bin
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;当然你可以写成脚本或 Makefile，用起来方便。&lt;/p&gt;

&lt;p&gt;那么如何下载呢？gSTCISP 是图形界面程序，需要先打开，然后在里面操作。如果是 stcflash，那么在命令后面接上编译出来的玩意儿的路径就行了 (–help 查看帮助)。&lt;/p&gt;

&lt;p&gt;对于 OS X，需要利用 port 或什么装一个 binutil，然后把上面命令中的 objcopy 换成 gobjcopy。&lt;/p&gt;

&lt;h2 id=&quot;stcflash&quot;&gt;stcflash&lt;/h2&gt;

&lt;p&gt;幸运的是，stcflash 已经支持 .hex 格式，所以用 stcflash 烧录更简单——&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sdcc led.c
stcflash led.ihx
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;烧录的时候还是老规矩，先断电再重新上电。&lt;/p&gt;

&lt;p&gt;如果串口路径不是默认的路径 (如 /dev/tty.usbserial-abcdef)，那么你需要在 stcflash 后面加个 -p 参数来指定串口位置。&lt;/p&gt;

&lt;p&gt;这只是个简单例子。还是需要仔细查找 sdcc 的用法。&lt;/p&gt;

&lt;p&gt;By the way，虽然 Keil 不能在 wine 下正常运行，但是编译器可以 wine。&lt;/p&gt;
</description>
        <pubDate>Thu, 18 Dec 2014 01:21:46 +0800</pubDate>
        <link>https://vjudge1.github.io/2014/12/18/flash-stc-in-nix.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2014/12/18/flash-stc-in-nix.html</guid>
        
        <category>单片机</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Migration from Legacy+MBR to UEFI+GPT</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#notes-before-reading&quot; id=&quot;markdown-toc-notes-before-reading&quot;&gt;Notes before reading&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#important-knowledges&quot; id=&quot;markdown-toc-important-knowledges&quot;&gt;Important Knowledges&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#uefi--legacy&quot; id=&quot;markdown-toc-uefi--legacy&quot;&gt;UEFI &amp;amp; Legacy&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mbr--gpt&quot; id=&quot;markdown-toc-mbr--gpt&quot;&gt;MBR &amp;amp; GPT&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#chameleon--clover&quot; id=&quot;markdown-toc-chameleon--clover&quot;&gt;Chameleon &amp;amp; Clover&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#what-gpt-looks-like&quot; id=&quot;markdown-toc-what-gpt-looks-like&quot;&gt;What GPT looks like&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#past--now&quot; id=&quot;markdown-toc-past--now&quot;&gt;Past &amp;amp; Now&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#steps&quot; id=&quot;markdown-toc-steps&quot;&gt;Steps&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#make-a-bootable-usb-drive&quot; id=&quot;markdown-toc-make-a-bootable-usb-drive&quot;&gt;Make a bootable USB drive&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#install-clover&quot; id=&quot;markdown-toc-install-clover&quot;&gt;Install Clover&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#create-partitions&quot; id=&quot;markdown-toc-create-partitions&quot;&gt;Create Partitions&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#convert&quot; id=&quot;markdown-toc-convert&quot;&gt;Convert!&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#repair-partition-id&quot; id=&quot;markdown-toc-repair-partition-id&quot;&gt;Repair Partition ID&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#repair-windows-boot&quot; id=&quot;markdown-toc-repair-windows-boot&quot;&gt;Repair Windows Boot&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#check&quot; id=&quot;markdown-toc-check&quot;&gt;Check&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This article is written for my Hackintosh. But ideas in the text can be used for other systems.&lt;/p&gt;

&lt;h1 id=&quot;notes-before-reading&quot;&gt;Notes before reading&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;USE AT YOUR OWN RISK!&lt;/li&gt;
  &lt;li&gt;TWO IMPORTANT THINGS:
    &lt;ol&gt;
      &lt;li&gt;Hackintosh is working well.&lt;/li&gt;
      &lt;li&gt;Your computer supports UEFI. There’s maybe no such options in BIOS Setup but the computer really supports EFI in fact, for example, my Lenovo V470.&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;This article aims to the migration without reinstalling anything. It may be a bit tricky. So the easiest way to change is recreate the partition table and everything will begin in the new world.&lt;/li&gt;
  &lt;li&gt;There is no Windows in my computer so anything on Windows is just my conjecture.&lt;/li&gt;
  &lt;li&gt;I use a Chinese disk tool.&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;important-knowledges&quot;&gt;Important Knowledges&lt;/h1&gt;

&lt;h2 id=&quot;uefi--legacy&quot;&gt;UEFI &amp;amp; Legacy&lt;/h2&gt;

&lt;p&gt;UEFI is a new firmware interface in order to replace BIOS. Apple computers adopt to EFI. It’s obvious that UEFI is more advanced than BIOS.&lt;/p&gt;

&lt;h2 id=&quot;mbr--gpt&quot;&gt;MBR &amp;amp; GPT&lt;/h2&gt;

&lt;p&gt;You can consider that MBR and GPT are two formats of the partition table.&lt;/p&gt;

&lt;p&gt;There are at most 4 main partitions in MBR drives (In general, we divide the disk into a main partition and an extended partition with several logical partitions inside). MBR doesn’t support partitions which is greater than 2TB.&lt;/p&gt;

&lt;p&gt;OS X only supports GPT drives officially. You must crack the kernel if you want to install OS X to a MBR drive and it will be dangerous to upgrade the system.&lt;/p&gt;

&lt;p&gt;Windows only supports UEFI+GPT and Legacy+MBR.&lt;/p&gt;

&lt;h2 id=&quot;chameleon--clover&quot;&gt;Chameleon &amp;amp; Clover&lt;/h2&gt;

&lt;p&gt;These two things are bootloaders for Hackintosh. &lt;code class=&quot;highlighter-rouge&quot;&gt;Chameleon&lt;/code&gt; works in Legacy Mode. &lt;code class=&quot;highlighter-rouge&quot;&gt;Clover&lt;/code&gt; supports both Legacy and UEFI mode.&lt;/p&gt;

&lt;h2 id=&quot;what-gpt-looks-like&quot;&gt;What GPT looks like&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;ESP (about 200MB, FAT32 filesystem): It has a special flag so you can’t see ESP in Windows. UEFI will boot from \EFI\Boot\bootx64.efi by default.&lt;/li&gt;
  &lt;li&gt;MSR (128MB, unknown filesystem): Required by Windows under EFI Mode.&lt;/li&gt;
  &lt;li&gt;Your system and data partitions.&lt;/li&gt;
  &lt;li&gt;Dedicated, such as WinRE, System Images…&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;past--now&quot;&gt;Past &amp;amp; Now&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;Past (Legacy + MBR)
    &lt;ul&gt;
      &lt;li&gt;Bootloader: GRUB2 -&amp;gt; Chameleon -&amp;gt; Hackintosh&lt;/li&gt;
      &lt;li&gt;OS: Linux (Ubuntu) + OS X Mavericks&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Now（EFI + GPT）
    &lt;ul&gt;
      &lt;li&gt;Bootloader: Clover&lt;/li&gt;
      &lt;li&gt;Note: I use a USB flash disk with GRUB2 installed to boot Linux. I’ll repair GRUB2 then.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This is the profile of my laptop:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Laptop: Lenovo V470&lt;/li&gt;
  &lt;li&gt;CPU: Intel Core i5 2430M&lt;/li&gt;
  &lt;li&gt;Chipset: Intel HM65&lt;/li&gt;
  &lt;li&gt;Memory: 4GB 1600Mhz DDR3 x 2 (Kingston＋Hynix)&lt;/li&gt;
  &lt;li&gt;Hard drive: WD 750GB 5400r&lt;/li&gt;
  &lt;li&gt;Video cards: Intel HD 3000 (Works well. Video memory is 512MB. Brightness can be adjusted after modifying DSDT) ＋ Nvidia GT540M (Useless)&lt;/li&gt;
  &lt;li&gt;Audio card: ALC272 (using VoodooHDA)&lt;/li&gt;
  &lt;li&gt;Fignerprint: No drivers but can be used in virtual machines.&lt;/li&gt;
  &lt;li&gt;Card reader: RTS5139, no drivers. (can be used in virtual machines)&lt;/li&gt;
  &lt;li&gt;USB3.0: No&lt;/li&gt;
  &lt;li&gt;Wireless: BCM4322 (changed manually. BIOS flashing required because of restrictions of Lenovo). No need for extra drivers.&lt;/li&gt;
  &lt;li&gt;Ethernet: RTL8111E (use drivers from Realtek)&lt;/li&gt;
  &lt;li&gt;Camera: No need for extra drivers.&lt;/li&gt;
  &lt;li&gt;Touchpad: VoodooPS2Controller in the newest version. Multifinger is not well supported.&lt;/li&gt;
  &lt;li&gt;HDMI: Only video is OK.&lt;/li&gt;
  &lt;li&gt;VGA Port: Useless&lt;/li&gt;
  &lt;li&gt;Battery: Battery drivers&lt;/li&gt;
  &lt;li&gt;AppleIntelCPUPowerManagement: Yes (Set &lt;code class=&quot;highlighter-rouge&quot;&gt;AsusAICPUPM=yes&lt;/code&gt; in config.plist)&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;steps&quot;&gt;Steps&lt;/h1&gt;

&lt;h2 id=&quot;make-a-bootable-usb-drive&quot;&gt;Make a bootable USB drive&lt;/h2&gt;

&lt;p&gt;WinPE + &lt;a href=&quot;http://diskgenius.cn&quot;&gt;DiskGenius&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Click on “免费下载” (Free Download), find “32 位版本” (32-bit Version) and download links are rightward. It’s just a “免费版” (free version) however it’s enough for converting.&lt;/p&gt;

&lt;p&gt;DiskGenius can convert MBR to GPT without data loss.&lt;/p&gt;

&lt;h2 id=&quot;install-clover&quot;&gt;Install Clover&lt;/h2&gt;

&lt;p&gt;Download and Install &lt;a href=&quot;http://sourceforge.net/projects/cloverefiboot/files/?source=navbar&quot;&gt;Clover&lt;/a&gt; in OS X.&lt;/p&gt;

&lt;p&gt;Installer will copy files to /EFI only because no GPT drives here.&lt;/p&gt;

&lt;p&gt;You should learn how to configure Clover. I’m afraid to make mistakes so I read lots of posts about Clover. In fact, OS X should be able to start in default settings (without power management drivers and so on).&lt;/p&gt;

&lt;p&gt;You need a &lt;code class=&quot;highlighter-rouge&quot;&gt;HFSPlus-64.efi&lt;/code&gt; rather than vboxhfs64.efi. HFSPlus-64.efi can be downloaded via &lt;code class=&quot;highlighter-rouge&quot;&gt;Clover Configurator&lt;/code&gt;. Clover may fail to boot the system and get stucked with a row of ‘+’ with VBoxHFS64.efi.&lt;/p&gt;

&lt;p&gt;Now,&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Copy everything in &lt;code class=&quot;highlighter-rouge&quot;&gt;EE&lt;/code&gt; (/Extra/Extensions) to &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/CLOVER/kexts/10.9/&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Copy &lt;code class=&quot;highlighter-rouge&quot;&gt;DSDT&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;SSDT&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/CLOVER/ACPI/patched/&lt;/code&gt; and name them to &lt;code class=&quot;highlighter-rouge&quot;&gt;DSDT.aml&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;SSDT.aml&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Create a directory &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/BOOT&lt;/code&gt; and copy &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/CLOVER/CLOVERX64.efi&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/BOOT/BOOTX64.efi&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The following list is about files in &lt;code class=&quot;highlighter-rouge&quot;&gt;/EFI/CLOVER/drivers64UEFI&lt;/code&gt; directory in my computer: DataHubDxe-64.efi, EmnVariableUefi-64.efi, FSInject-64.efi, HFSPlus-64.efi (Download by yourself), OsxAptioFixDrv-64.efi, OsxFatBinaryDrv-64.efi, PartitionDxe-64.efi. (Learn how to configure Clover and decide which to use.)&lt;/p&gt;

&lt;p&gt;Copy the whole /EFI directory to a USB flash drive. We’ll move them to the new ESP partition.&lt;/p&gt;

&lt;h2 id=&quot;create-partitions&quot;&gt;Create Partitions&lt;/h2&gt;

&lt;p&gt;Boot to your WinPE. Use your partition tool to create a 200MB, &lt;code class=&quot;highlighter-rouge&quot;&gt;FAT32&lt;/code&gt; partition in the beginning of the drive.&lt;/p&gt;

&lt;p&gt;If you have a Windows, go on creating a 128-MB partition.&lt;/p&gt;

&lt;p&gt;Copy the EFI directory created just now to the first FAT32 partition.&lt;/p&gt;

&lt;h2 id=&quot;convert&quot;&gt;Convert!&lt;/h2&gt;

&lt;p&gt;I only know DiskGenius. In fact, there are several tools which can convert loselessly.&lt;/p&gt;

&lt;p&gt;Open DiskGenius, click on “硬盘(D)” (Drive), “转换分区表类型为 GUID 格式” (Convert the partition table to GUID format), “确定” (OK). Then, click on “保存更改” (Save changes) on the toolbar. OK.&lt;/p&gt;

&lt;p&gt;It’s recommended to reboot after converting to let the system detect GPT correctly.&lt;/p&gt;

&lt;h2 id=&quot;repair-partition-id&quot;&gt;Repair Partition ID&lt;/h2&gt;

&lt;p&gt;Boot to the WinPE again. Open &lt;code class=&quot;highlighter-rouge&quot;&gt;Command Prompt&lt;/code&gt;, enter &lt;code class=&quot;highlighter-rouge&quot;&gt;diskpart&lt;/code&gt;, and then type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;list disk
sel disk 0
list part
sel part 9 (Change &#39;9&#39; and numbers below to your own option)
set id=48465300-0000-11AA-AA11-00306543ECAC
sel part 0
set id=C12A7328-F81F-11D2-BA4B-00A0C93EC93B
sel part 1
set id=E3C9E316-0B5C-4DB8-817D-F92DF00215AE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;48465300-0000-11AA-AA11-00306543ECAC&lt;/code&gt; represents HFS+.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;C12A7328-F81F-11D2-BA4B-00A0C93EC93B&lt;/code&gt; represents ESP.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;E3C9E316-0B5C-4DB8-817D-F92DF00215AE&lt;/code&gt; represents MSP.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;repair-windows-boot&quot;&gt;Repair Windows Boot&lt;/h2&gt;

&lt;p&gt;If you have a Windows, use &lt;code class=&quot;highlighter-rouge&quot;&gt;bcdboot&lt;/code&gt; to repair the bootloader of Windows.&lt;/p&gt;

&lt;p&gt;Just like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bcdboot C:\Windows /s Z: /f UEFI
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(Z: represents ESP.)&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bcdboot&lt;/code&gt; will replace EFI\BOOT\BOOTX64.efi. Backup it and replace it with &lt;code class=&quot;highlighter-rouge&quot;&gt;EFI\CLOVER\CLOVERX64.efi&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;check&quot;&gt;Check&lt;/h2&gt;

&lt;p&gt;Reboot, enter the BIOS setup, and change &lt;code class=&quot;highlighter-rouge&quot;&gt;Boot Mode&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Congratulations! (If OS X works well, …)&lt;/p&gt;

&lt;p&gt;After booting, I configured Clover (&lt;code class=&quot;highlighter-rouge&quot;&gt;EFI/CLOVER/config.plist&lt;/code&gt;) to make OS X work perfectly. Then I upgraded my OS X to 10.10 via App Store directly and no errors occured.&lt;/p&gt;

&lt;p&gt;Of course, I hope you have an OS (software) which can modify files in HFS+ partition before upgrading.&lt;/p&gt;
</description>
        <pubDate>Thu, 18 Dec 2014 01:21:46 +0800</pubDate>
        <link>https://vjudge1.github.io/2014/12/18/legacy-mbr-to-uefi-gpt-hackintosh.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2014/12/18/legacy-mbr-to-uefi-gpt-hackintosh.html</guid>
        
        <category>Hackintosh</category>
        
        <category>UEFI</category>
        
        
        <category>Maintainance</category>
        
      </item>
    
      <item>
        <title>解决 Linux 和 Qt 的中文输入问题</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;输入法平台&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;安装中州韵输入法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;安装搜狗拼音输入法&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ubuntu&quot; id=&quot;markdown-toc-ubuntu&quot;&gt;Ubuntu&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fedora-&quot; id=&quot;markdown-toc-fedora-&quot;&gt;Fedora 及其他&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#qt-&quot; id=&quot;markdown-toc-qt-&quot;&gt;解决 Qt 的中文输入问题&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#qt--1&quot; id=&quot;markdown-toc-qt--1&quot;&gt;Qt 程序&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#qt-creator&quot; id=&quot;markdown-toc-qt-creator&quot;&gt;Qt Creator&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Linux 是中文输入问题最多的系统了，幸运的是，问题是可以解决的。&lt;/p&gt;

&lt;p&gt;[% callout %]
本文已更新 (2015 年 11 月)&lt;/p&gt;

&lt;p&gt;本文最开始是 2014 年 4 月写的，当时搜狗官方并没正式发布 Linux 版输入法。后来有了 Ubuntu 版，所以文章有些地方已经改了。
[% endcallout %]&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;输入法平台&lt;/h1&gt;

&lt;p&gt;在 Linux 系统中主要有三种输入法平台——SCIM、iBus、fcitx。当然，也有其他的输入法，例如 fbterm 下的小小输入法。&lt;/p&gt;

&lt;p&gt;SCIM 显得比较古老了，我们就不提了。&lt;/p&gt;

&lt;p&gt;很多人会选择 fcitx，因为它用着比 iBus 舒服多了，此外，fcitx 里面有一个“搜狗输入法”！过去，Linux Deepin 和搜狗（貌似是非正式的）合作了一把，做了一个测试版的搜狗拼音输入法；后来搜狗和 UbuntuKylin 合作，于是推出了正式版。&lt;/p&gt;

&lt;p&gt;一开始我只听说过搜狗，直到后来，发现了中州韵输入法——&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;安装中州韵输入法&lt;/h1&gt;

&lt;p&gt;中州韵（Rime）是一个开源的输入法框架，被誉为“神级输入法”。这个输入法在 Windows、Linux、Mac 系统中分别被称作“小狼毫”、“中州韵”和“鼠松管”。&lt;/p&gt;

&lt;p&gt;这个输入法很好很强大，只不过没有图形界面的设置框，所以……既然敢用 Linux，那么小小的配置文件当然不算事儿了！&lt;/p&gt;

&lt;p&gt;官网：&lt;a href=&quot;http://rime.im&quot;&gt;http://rime.im&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;Rime 既支持 iBus 又支持 fcitx，所以非常省事儿。不过输入法默认出来的是繁体中文，需要调成&lt;s&gt;残&lt;/s&gt;简体中文。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;安装搜狗拼音输入法&lt;/h1&gt;

&lt;h2 id=&quot;ubuntu&quot;&gt;Ubuntu&lt;/h2&gt;

&lt;p&gt;使用原生 Ubuntu 的一定会主动换输入法，除非就想打双拼（iBus 拼音有 bug，不管选没选双拼，出来的都是双拼）。&lt;/p&gt;

&lt;p&gt;过去搜狗官方并没有支持 Linux 系统，所以装起来比较麻烦。现在官方支持 Ubuntu，一切就很轻松了。&lt;/p&gt;

&lt;p&gt;按照过去的方法，需要卸载 iBus，手动装 fcitx 而且要把该装的手动装好。现在——&lt;/p&gt;

&lt;p&gt;[% callout style=danger %]
别手贱&lt;/p&gt;

&lt;p&gt;由于某些系统组件用到了 iBus，所以不要鲁莽地 apt-get remove ibus。如果你在敲命令的时候看到满屏幕要删除的包，那么赶快停止，否则……
[% endcallout %]&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;去&lt;a href=&quot;http://pinyin.sogou.com/linux/&quot;&gt;搜狗官方&lt;/a&gt;下载安装包。点击“下载”之后官方会给出一个详细的安装步骤。由于软件包的依赖性，该装的东西会自动装好，无需人工干预。&lt;/li&gt;
  &lt;li&gt;如果原来默认输入法是 iBus，那么还需要切换一下。输入命令&lt;code class=&quot;highlighter-rouge&quot;&gt;im-switch&lt;/code&gt;（其他系统可能叫&lt;code class=&quot;highlighter-rouge&quot;&gt;im-config&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;imsettings-switch&lt;/code&gt;什么的），手动设置，把默认输入法改成 fcitx。&lt;/li&gt;
  &lt;li&gt;注销之后再登录，默认输入法会变成 fcitx。&lt;/li&gt;
  &lt;li&gt;如果想要其他输入法
    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;五笔输入法&lt;/p&gt;

        &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  sudo apt-get install fcitx-table-wb fcitx-table-wubi-large
&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;五笔拼音输入法&lt;/p&gt;

        &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  sudo apt-get install fcitx-table-wbpy
&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;还有一些输入法，比如 LaTeX 输入法 (输入数学符号)。可以自己到软件包管理器里找。&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;fedora-&quot;&gt;Fedora 及其他&lt;/h2&gt;

&lt;p&gt;以 Fedora 为例。&lt;/p&gt;

&lt;p&gt;因为搜狗拼音输入法官方只支持 deb 系列系统，所以接下来只能手动安装。好在它是个输入法，装完之后就没有人打算把它卸载了。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;安装 fcitx 和必要的库：&lt;/p&gt;

    &lt;p&gt;sudo yum install fcitx fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5 fcitx-config-tool libidn opencc&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;imsettings-switch FCITX&lt;/code&gt; 命令将输入法切换为 fcitx。&lt;/li&gt;
  &lt;li&gt;去&lt;a href=&quot;http://pinyin.sogou.com/linux/&quot;&gt;搜狗官方&lt;/a&gt;下载安装包。不用理会网站的提示，反正我们自己也装不了。&lt;/li&gt;
  &lt;li&gt;将安装包中的 data.tar.xz 提取出来。&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;切换到 root 用户（以免后面出现权限问题），将 data.tar.xz 解压，并手动安装文件：&lt;/p&gt;

    &lt;p&gt;tar -xvf data.tar.xz
     chmod +x ./usr/bin/*
     cp -R etc usr /&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;其中库文件并没有被放到正确的位置上面，所以&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; cp -R /usr/lib/x86_64-linux-gnu/* /usr/lib64
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;清理刚才产生的临时文件&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; rm -R etc usr /usr/lib/x86_64-linux-gnu
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;如果没有什么异常，那么搜狗拼音输入法就已经装好了。可以用 &lt;code class=&quot;highlighter-rouge&quot;&gt;sogou-qimpanel&lt;/code&gt; 等命令测试一下是否能正确运行。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;不过我在输入“sogou-qimpanel”时遇到提示，说缺少“libopencc.so.1”。我用 &lt;code class=&quot;highlighter-rouge&quot;&gt;ls /usr/lib64/libopencc*&lt;/code&gt; 发现有一个 &lt;code class=&quot;highlighter-rouge&quot;&gt;libopencc.so.1.0.0&lt;/code&gt;，所以只需要建立一个软链接：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo ln -s /usr/lib64/libopencc.so.1.0.0 /usr/lib64/libopencc.so.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;qt-&quot;&gt;解决 Qt 的中文输入问题&lt;/h1&gt;

&lt;p&gt;只讲 Ubuntu 的方法。其他系统思路一样。&lt;/p&gt;

&lt;h2 id=&quot;qt--1&quot;&gt;Qt 程序&lt;/h2&gt;

&lt;p&gt;对于旧版 Ubuntu (例如 Ubuntu 12.04)，打以下四行命令：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:fcitx-team/nightly
sudo apt-get update
sudo apt-get dist-upgrade
sudo apt-get install libfcitx-qt5-0 fcitx-libs-qt fcitx-libs-qt5
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;新版 Ubuntu (14.04) 则是&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install libfcitx-qt5 fcitx-libs-qt fcitx-libs-qt5
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;现在中文输入法基本上就畅通无阻了。&lt;/p&gt;

&lt;h2 id=&quot;qt-creator&quot;&gt;Qt Creator&lt;/h2&gt;

&lt;p&gt;按照上面的配置，Qt4 的 Qt Creator 已经就可以正常敲汉字了，但是 Qt5 的 Qt Creator 还不行。&lt;/p&gt;

&lt;p&gt;根本原因是你得把输入法插件送给 Qt Creator，它才能知道有输入法这个东西。iBus 已经送过去了，所以 iBus 不配置也能打字。而 fcitx 就不一样了。&lt;/p&gt;

&lt;p&gt;装完&lt;code class=&quot;highlighter-rouge&quot;&gt;libfcitx-qt5&lt;/code&gt;之后，电脑里会多一个文件&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/lib/x86_64-linux-gnu/qt5/plugin/platforminputcontexts/libfcitxplatforminputcontextplugin.so
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这个文件名很长，但是你得记住，因为这个文件要被复制两次。&lt;/p&gt;

&lt;p&gt;假设 Qt5 装到了 /opt/Qt5.2.1 里，你需要把这个文件复制到以下两个地方：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/opt/Qt5.2.1/Tools/QtCreator/bin/plugins/platforminputcontexts
/opt/Qt5.2.1/5.2.1/gcc_64/plugins/platforminputcontexts
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;第一个目录管的是 Qt Creator 的中文输入，第二个目录管的是 Qt 编译出来的程序的中文输入。&lt;/p&gt;

&lt;p&gt;顺便提一句，正是因为 Telegram 官方的这俩目录干干净净的，所以 Telegram 中文输入无解，除非找个有插件的重新编译。&lt;/p&gt;
</description>
        <pubDate>Wed, 02 Apr 2014 06:15:06 +0800</pubDate>
        <link>https://vjudge1.github.io/2014/04/02/type-chinese-in-linux.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2014/04/02/type-chinese-in-linux.html</guid>
        
        <category>中文</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Adjusting brightness in Linux for my laptop</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#adjust-brightness&quot; id=&quot;markdown-toc-adjust-brightness&quot;&gt;Adjust brightness&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#keys&quot; id=&quot;markdown-toc-keys&quot;&gt;Keys&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After installing Ubuntu, brightness hotkey doesn’t work in my laptop. So I took lots of time to find a solution from the search engine.&lt;/p&gt;

&lt;p&gt;There is a detailed article in &lt;a href=&quot;https://wiki.archlinux.org/index.php/Backlight&quot;&gt;Archlinux Wiki&lt;/a&gt;. So I just write my own experience (Lenovo V470, Intel HD3000 + Nvidia GT540M).&lt;/p&gt;

&lt;h1 id=&quot;adjust-brightness&quot;&gt;Adjust brightness&lt;/h1&gt;

&lt;p&gt;First I found the slider of brightness in “System Settings” doesn’t work at all.&lt;/p&gt;

&lt;p&gt;So I tried&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;echo 500 &amp;gt; /sys/class/backlight/intel_backlight/brightness
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;nothing happens.&lt;/p&gt;

&lt;p&gt;Then I changed kernel options, and added:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;acpi_osi=Linux acpi_backlight=vendor
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After reboot, the slider bar worked.&lt;/p&gt;

&lt;h1 id=&quot;keys&quot;&gt;Keys&lt;/h1&gt;

&lt;p&gt;Now brightness can be adjusted. However, when I press Fn+Up and Fn+Down, brightness doesn’t change, just leaving a “±” on screen.&lt;/p&gt;

&lt;p&gt;I think that hotkeys may be mapped into wrong keys. And they are really wrong.&lt;/p&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;xev&lt;/code&gt; in terminal, a window titled “Event Tester” will show. Press Fn+Up and Fn+Down again, the termial outputs:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;KeyPress event, serial 36, synthetic NO, window 0x4400001,
    root 0xc0, subw 0x0, time 1819651, (328,228), root:(1136,430),
    state 0x0, keycode 126 (keysym 0xb1, plusminus), same_screen YES,
    XLookupString gives 2 bytes: (c2 b1) &quot;±&quot;
    XmbLookupString gives 2 bytes: (c2 b1) &quot;±&quot;
    XFilterEvent returns: False

KeyRelease event, serial 36, synthetic NO, window 0x4400001,
    root 0xc0, subw 0x0, time 1819657, (328,228), root:(1136,430),
    state 0x0, keycode 126 (keysym 0xb1, plusminus), same_screen YES,
    XLookupString gives 2 bytes: (c2 b1) &quot;±&quot;
    XFilterEvent returns: False

KeyPress event, serial 36, synthetic NO, window 0x4400001,
    root 0xc0, subw 0x0, time 1826429, (328,228), root:(1136,430),
    state 0x0, keycode 120 (keysym 0x0, NoSymbol), same_screen YES,
    XLookupString gives 0 bytes:
    XmbLookupString gives 0 bytes:
    XFilterEvent returns: False

KeyRelease event, serial 36, synthetic NO, window 0x4400001,
    root 0xc0, subw 0x0, time 1826435, (328,228), root:(1136,430),
    state 0x0, keycode 120 (keysym 0x0, NoSymbol), same_screen YES,
    XLookupString gives 0 bytes:
    XFilterEvent returns: False
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Their functions are obviously wrong. Type&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo xmodmap -e &quot;keycode 126 = XF86MonBrightnessUp&quot;
sudo xmodmap -e &quot;keycode 120 = XF86MonBrightnessDown&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And the hotkey works.&lt;/p&gt;

&lt;p&gt;I save these two commands as a startup script. (But it doesn’t work if written in /etc/rc.local.)&lt;/p&gt;
</description>
        <pubDate>Mon, 10 Feb 2014 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2014/02/10/laptop-brightness-in-linux.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2014/02/10/laptop-brightness-in-linux.html</guid>
        
        <category>Linux</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>容易出错的成语</title>
        <description>&lt;p&gt;看看你用错了多少……&lt;/p&gt;

&lt;p&gt;（备注：&lt;strong&gt;粗体&lt;/strong&gt;指极易用错的成语。）&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;爱莫能助：心里愿意帮助，但力量达不到。&lt;em&gt;不能“感到”爱莫能助。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;安步当车：以从容的步行代替乘车。形容轻松缓慢地行走。也指人能够安守贫贱生活。&lt;/li&gt;
  &lt;li&gt;安土重迁：安于本乡本土，不愿轻易迁移。&lt;em&gt;指的是不愿意搬家。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;安之若素：表示对反常现象或不顺利的情况视若平常，毫不在意。现也指对错误言论或事物不闻不问，听之任之。&lt;em&gt;贬义词，不是“遇事镇定”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;白驹过隙：指时间过得快。&lt;em&gt;不是人跑得快。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;白云苍狗：比喻世事变化无常。&lt;/li&gt;
  &lt;li&gt;百里挑一：一百个当中就挑出这一个来，形容人才出众。&lt;em&gt;不是“稀缺”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;暴虎冯河：比喻有勇无谋，鲁莽冒险。&lt;em&gt;不是勇敢。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;卑躬屈膝：形容没有骨气，低声下气地讨好奉承。&lt;em&gt;贬义词。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;闭门造车：关起门来造车子。比喻脱离实际，只凭主观办事。&lt;em&gt;贬义词。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;敝帚自珍：把自己家里的破扫帚当成宝贝。比喻东西虽然不好，自己却很珍惜。&lt;em&gt;常用作自谦之词，指的是自己的、破烂的东西，不能用于对方。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;筚路蓝缕：形容创业艰苦。&lt;em&gt;不是穿得破烂。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;冰清玉洁：形容像冰一样清明澄澈，像玉一样洁白无瑕。&lt;em&gt;形容人品高尚、德行高洁。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;兵不血刃：未经交锋就取得了胜利。&lt;em&gt;注意，“兵不血刃”指没有动手。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;剥茧抽丝：比喻根据顺序寻出事物发生发展的过程。&lt;em&gt;不是“把整体拆成部分”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;博古通今：对古代的事知道得很多，并且通晓现代的事情。形容知识渊博。&lt;em&gt;只能形容现代人，不能形容古人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不耻下问：意思为向地位比自己低、学识比自己少的人请教，也不感到羞耻。&lt;em&gt;向低位、学识比自己高的人请教不能叫“不耻下问”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;不负众望/不孚众望&lt;/strong&gt;：互为反义词。“不负众望”指“不辜负大家的期望”，是理想的结果，而不孚众望正好相反。&lt;em&gt;“不负众望”不能写成“不负重望”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不胫而走：比喻消息无需推行宣传，就已迅速地传播开去。&lt;em&gt;指的是消息，不是东西。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不绝如缕：形势危急或声音细微悠长。&lt;em&gt;不是“持续不断”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不刊之论：不能改的好文章。&lt;em&gt;不是不能刊登的文章。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;不可理喻&lt;/strong&gt;：不能用常理使那个人明白,没法跟他讲道理。形容蛮横或固执。&lt;em&gt;指的是不讲理，不是“不能让人理解”，也不是“不可思议”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不可收拾：情况十分糟糕，无法挽救。&lt;em&gt;不是“坚不可摧”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不期而遇：没有约定而遇见。指意外碰见。&lt;em&gt;熟人之间才叫“不期而遇”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不情之请：不合情理的请求（称自己提出请求时的客气话）。&lt;/li&gt;
  &lt;li&gt;不忍卒读：不忍心读完。常用以形容文章内容悲惨动人。&lt;em&gt;褒义词，不要误用作贬义词。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不胜其烦/不厌其烦：指某事十分烦恼或繁琐，令人受不了。和“不厌其烦”（不嫌麻烦、不嫌繁琐）相反。&lt;/li&gt;
  &lt;li&gt;不同凡响：形容事物不同寻常，多指文艺作品。&lt;/li&gt;
  &lt;li&gt;不为已甚：对人的责备和惩罚适可而止。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;不学无术&lt;/strong&gt;：“学”是名词，“不学无术”指没有学问，没有本领。&lt;em&gt;不能说“整天不学无术”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;不以为然/不以为意&lt;/strong&gt;：“不以为然”指“不认为是对的”，表示不同意或否定。“不以为意”才是“不在意”（不把它放在心上。表示对人或事抱轻视态度）。&lt;/li&gt;
  &lt;li&gt;不由自主：指由不得自己，控制不住自己。&lt;em&gt;只有人可以“不由自主”，东西不可以，因为东西没有情感。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;不知所云&lt;/strong&gt;：不知道说得是些么。形容说话内容混乱，无法理解。&lt;em&gt;指说话人不知说什么，不是听者没听明白。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;不足为训：不值得做效仿的法则。&lt;em&gt;不是“不值得做教训”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;沧海横流：国家政治混乱，社会动荡不安。&lt;em&gt;不能形容足球比赛。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;沧海一粟：非常渺小，微不足道，或数量非常少。&lt;em&gt;不能指人或东西不好找。找人寻物应该为“大海捞针”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;侧目而视：斜着眼睛看人，不敢正视。形容敬畏的神情。现也用形容敢怒不敢言的样子。&lt;em&gt;不是“蔑视”或“尊敬”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;曾几何时&lt;/strong&gt;：指没过多久。&lt;em&gt;不是“曾经某个时候”，也不是“不知何时”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;差强人意&lt;/strong&gt;：勉强使人满意。&lt;em&gt;最终结果是满意，经常被误用为“不满意”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;沉鱼落雁：形容女子容貌美丽。&lt;em&gt;不能形容环境污染。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;持平之论：指公正的意见。也指折中、调和的话。&lt;/li&gt;
  &lt;li&gt;尺有所短，寸有所长：比喻人或事物各有其长处和短处。&lt;em&gt;互文，从字面上理解应该是“尺”有长和短，“寸”也有长和短。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;充耳不闻：塞住耳朵不听。形容有意不听别人的意见。&lt;em&gt;指不听别人意见，不是“溜号”或专心。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;出神入化：形容技艺高超达到了绝妙的境界。&lt;em&gt;只用于形容文章和艺术。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;处变不惊：指人在某种变故或异常的情况下能保持镇定，毫不惊慌。&lt;/li&gt;
  &lt;li&gt;川流不息：河水流动不停。亦形容事物像水流一样连续不断。&lt;em&gt;指行人、车马，不能形容江河湖海，也不能说“像水一样川流不息”（语意重复）。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;疮痍满目：指战乱、灾祸带来的后果。&lt;em&gt;不能形容难看。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;捶胸顿足：指极度悲伤或悔恨的样子。&lt;em&gt;不是生气的样子。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;春风得意：官位升迁、事业成功、理想实现等得意洋洋的神态。&lt;em&gt;不是春天来临、春暖花开。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;春风化雨：受良好的教育。&lt;em&gt;不是天气。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;春秋笔法：写作手法曲折而含褒贬。&lt;em&gt;不能形容书法、绘画。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;春意盎然、春意阑珊：“盎然”指“形容气氛、趣味等浓厚的样子”，“阑珊”有凄凉、凄楚、凋零的含义。&lt;em&gt;前者是积极现象，后者是消极现象。常有人不理解含义而用错。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;从善如流：能很快地接受别人的好意见。&lt;em&gt;不是“多行善事”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;从一而终：指妇女只嫁一个丈夫或忠臣不事二主。&lt;em&gt;不是“自始至终”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;从长计议：慢慢地多加商量，即不急于做决定。&lt;/li&gt;
  &lt;li&gt;蹉跎岁月、峥嵘岁月：“蹉跎岁月”指“虚度光阴”，“峥嵘岁月”指形容不平凡的年月。&lt;/li&gt;
  &lt;li&gt;大腹便便：形容人的肚子大，长得非常肥胖。&lt;/li&gt;
  &lt;li&gt;大快人心：指坏人受到惩罚或打击，使大家非常痛快。&lt;em&gt;不能用于其他原因。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;大鸣大放：指群众可以充分地发表意见。&lt;em&gt;不是“大模大样”、“大张旗鼓”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;大义凛然：褒义词，形容人主持正义，不畏强暴，显示出威严不可侵犯的样子。&lt;em&gt;坏人不能“大义凛然”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;刀光剑影：隐约显现出刀剑的闪光和影子。形容环境充满了凶险的气氛。&lt;em&gt;已经打起来了。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;道貌岸然：指神态严肃，一本正经的样子。贬义词。&lt;/li&gt;
  &lt;li&gt;登堂入室：学问技能由浅入深。&lt;em&gt;不是“进屋”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;等量齐观：把有差别的事物不加区别地同等看待。贬义词。&lt;em&gt;不是“平等对待”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;跌宕起伏：指音乐抑扬顿挫，富于变化。&lt;em&gt;不能形容故事或演出。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;鼎力相助：大力相助。&lt;em&gt;敬辞，不能指自己。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;东山再起：指隐退后再次出来任要职，或失势后复起，重新得势。&lt;em&gt;多指人。指现象用“死灰复燃”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;洞若观火：对事物的本质看得很清楚。&lt;em&gt;不是“打酱油”（隔岸观火，隔着河看人家着火。比喻对别人的危难不去求助，在一旁看热闹。
）。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;豆蔻年华：女子十三四岁。&lt;/li&gt;
  &lt;li&gt;独步天下：天下没有第二个。&lt;em&gt;不是“环游地球”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;独具只眼：敏锐眼光。&lt;em&gt;不是“独眼龙”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;独占鳌头：考试或比赛得第一。&lt;em&gt;不能指“占领”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;短小精悍：形容人身躯短小，精明强悍，或文章或发言简短有力。&lt;/li&gt;
  &lt;li&gt;耳鬓厮磨：形容男女之间亲近。&lt;/li&gt;
  &lt;li&gt;耳提面命：形容恳切地教导。&lt;em&gt;粗暴的教育不能叫做“耳提面命”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;翻云覆雨：指人反复无常或玩弄手段。贬义词。&lt;/li&gt;
  &lt;li&gt;方寸之地：指人的内心。&lt;em&gt;不是地方小。“方寸”不是距离、长度。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;方兴未艾：褒义词，形容某种事物或运动正处于兴盛、蓬勃发展时期。&lt;em&gt;不是“众多”，不能指人，也不能说“正方兴未艾”（重复）。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;放荡不羁：指人行为不检点，任意放纵，不受约束。&lt;em&gt;只能形容人，不能形容别的。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;匪夷所思&lt;/strong&gt;：形容人的思想离奇。&lt;em&gt;不是事情“稀奇”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;粉墨登场：坏人登上政治舞台，贬义词；或演员化妆好了上台演出，中性词。&lt;/li&gt;
  &lt;li&gt;改头换面：比喻只改外表和形式，内容实质不变。&lt;em&gt;与改弦更张、改弦易辙都不一样。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;盖棺论定：指一个人的是非功过要到其死后才能做出最后的正确结论。&lt;em&gt;不能用于活人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;高风亮节：形容人具有高尚坚贞的风骨节操。&lt;em&gt;不是“高调”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;高山流水：比喻知己或知音。也比喻乐曲高妙。&lt;em&gt;不是风景。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;高山仰止：品德高尚。&lt;em&gt;不是海拔高。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;高抬贵手：多用于请求对方饶恕或通融。&lt;em&gt;不是恳请对方接济。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;高屋建瓴&lt;/strong&gt;：居高临下，形势不可阻挡。&lt;em&gt;不是学问高深。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;各行其是：指行动不一致，思想不统一，各人都按照自己的一套去做。&lt;em&gt;不是“各忙各的活”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;功败垂成：快成功时失败。&lt;/li&gt;
  &lt;li&gt;古色古香：形容书画、器物或建筑物具有古雅的色彩和情调。&lt;em&gt;不形容古典舞蹈（古风古韵）。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;固若金汤：形容城防或阵地十分坚固。&lt;em&gt;不能形容墙壁坚固。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;瓜田李下：容易引起嫌疑的地方。&lt;/li&gt;
  &lt;li&gt;官样文章：贬义词，指文章说套话、空话。&lt;em&gt;不是应用文。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;光怪陆离：形容奇形怪状，五颜六色，现象奇特。&lt;em&gt;中性词（不一定是贬义），不能用于形容人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;汗牛充栋：形容藏书很多。&lt;em&gt;不能用于其他事物。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;浩如烟海：形容文献、资料等非常丰富。&lt;/li&gt;
  &lt;li&gt;荷枪实弹：形容全副武装，准备投入战斗。&lt;/li&gt;
  &lt;li&gt;横冲直撞：乱冲乱撞，蛮横无理。&lt;em&gt;只能指人，不能指东西。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;烘云托月：比喻从侧面加以点染以烘托所描绘的事物。&lt;em&gt;指的是写作手法。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;呼之欲出&lt;/strong&gt;：形容画像非常逼真，也形容文学作品的人物描写十分生动。现也指某事即将揭晓或出现。&lt;/li&gt;
  &lt;li&gt;狐死首丘：比喻不忘本或怀念故乡，也比喻对故国、故乡的思念。用于褒义。&lt;/li&gt;
  &lt;li&gt;花信年华：女子二十四岁。&lt;/li&gt;
  &lt;li&gt;涣然冰释：形容疑虑、误会、隔阂等完全消除。&lt;em&gt;不是仇恨消除了。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;恍如隔世：多用来形容对时间变迁、事物变化之大的感慨。&lt;em&gt;不能形容烟雾迷蒙、若隐若现的景象。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;毁家纾难：捐献所有家产，帮助国家减轻困难。&lt;em&gt;目标只能是国家，不能是个人或集体。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;火中取栗&lt;/strong&gt;：比喻受人利用，冒险出力却一无所得。&lt;em&gt;贬义词，不是冒险。和“赴汤蹈火”不是一回事儿。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;激浊扬清：比喻抨击坏人坏事，褒扬好人好事。&lt;em&gt;同时有两层意思，既激浊，又扬清。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;济济一堂：形容许多有才能的人聚集在一起。&lt;/li&gt;
  &lt;li&gt;见仁见智：对同一个问题，不同的人从不同的立场或角度有不同的看法。&lt;em&gt;达成共识之后不叫“见仁见智”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;江河日下：比喻情况一天天地坏下去，多用于抽象事物。&lt;em&gt;不是自然风景。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;节外生枝：在原来的问题上又生出新的问题。&lt;/li&gt;
  &lt;li&gt;金碧辉煌：形容建筑物装饰华丽，光彩夺目。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;久假不归&lt;/strong&gt;：“假”念“jiǎ”。指长期借用而不归还。&lt;/li&gt;
  &lt;li&gt;具体而微：两方面，一方面是事物的各个组成部分大体都有了，另一方面是形状和规模比较小。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;侃侃而谈/娓娓而谈/振振有词&lt;/strong&gt;：“侃侃而谈”是褒义词，指理直气壮、从容不迫地说话。“娓娓而谈”指连续不倦地谈论着。“振振有词”是贬义词，理直气壮的样子，形容自以为理由充分，说个没完。。&lt;/li&gt;
  &lt;li&gt;口耳相传：指将知识或经验口说耳听地往下传授。&lt;em&gt;传的不是传言。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;例行公事：按照惯例办理的公事。现在多指刻板的形式主义的工作。贬义词。&lt;/li&gt;
  &lt;li&gt;梁上君子：窃贼的代称。&lt;/li&gt;
  &lt;li&gt;两袖清风：为官者清正廉洁，光明磊落。&lt;em&gt;不是“贫穷”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;鳞次栉比：形容房屋等建筑物众多而有次序地排列着。&lt;em&gt;不能形容小街或园林。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;流光溢彩：形容建筑、霓虹灯等。&lt;em&gt;不能形容江河泛光。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;屡试不爽&lt;/strong&gt;：屡次试验都没有差错。&lt;em&gt;指没有差错，不是没有成功。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;美轮美奂&lt;/strong&gt;：房屋高大，形容建筑。&lt;em&gt;不是“环境美好”，不能形容艺术品、服装、歌舞等。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;妙手回春：指医生医术高明。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;名花有主&lt;/strong&gt;：指漂亮的女子已经许配给别人。&lt;em&gt;不能指人获得某个奖项。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;明日黄花：已经过时或失去意义的事情。&lt;em&gt;“明日”是重阳节之后，黄花差不多都谢了。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;摩肩接踵：肩碰着肩，脚碰着脚。形容人多拥挤。&lt;em&gt;不能形容建筑物。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;漠不关心：态度冷淡，毫不关心。&lt;em&gt;不能带宾语。“漠不关心他人”，错。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;目无全牛：指人的技艺高超，得心应手。形容技艺已经到达非常纯熟的地步。褒义词。&lt;/li&gt;
  &lt;li&gt;牛刀小试：比喻极有才能或本领的人，在某件小事上先显示一下身手。&lt;em&gt;不是“做试验”或“试探”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;披肝沥胆：形容对人开诚相见，或形容对人竭尽忠诚。&lt;em&gt;不是“粉身碎骨”、“赴汤蹈火”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;萍水相逢、一见如故：萍水相逢比喻素不相识之人偶然相遇，一见如故指初次见面就像老朋友一样合得来。&lt;em&gt;不能用于熟人之间见面。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;破镜重圆：比喻夫妻失散或决裂后重新团聚与和好。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;七月流火&lt;/strong&gt;：指天气转凉。&lt;em&gt;不是热。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;期期艾艾：形容口吃。&lt;em&gt;不是吞吞吐吐。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;气宇轩昂：形容人精神抖擞，风度非凡。&lt;em&gt;不是“气势大”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;千疮百孔：指事物破烂不堪。&lt;em&gt;不是说话、议论的漏洞多。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;前赴后继：形容奋勇前进，连续不断。&lt;em&gt;侧重点是“连续不断”。应该形容一群人，而不是一个人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;前仆后继：形容不怕牺牲，英勇前进。&lt;em&gt;侧重点是“不怕牺牲”。应该形容一群人，而不是一个人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;墙倒众人推：比喻在一个人受挫折的时候，大家乘机打击他。&lt;em&gt;贬义词，不是“团结力量大”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;巧夺天工、鬼斧神工：巧夺天工专指人工的精巧胜过天然制成，形容技艺十分高超。鬼斧神工指像是鬼神制作出来的，形容艺术技巧高超，不是人力所能达到的。&lt;em&gt;都只能形容人造的东西。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;秦晋之好：泛指两家联姻。&lt;/li&gt;
  &lt;li&gt;轻车简从：行装简单，跟随的人少（多指有地位的人）。&lt;em&gt;不是“轻装上阵”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;茕茕孓立：指孤单一辈子。&lt;em&gt;不是孤单一时。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;趋炎附势：奉承和依附有权有势的人。&lt;em&gt;不是“随大流”、“随波逐流”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;趋之若鹜：比喻许多人争着去追逐某些事物。多做贬义词。&lt;em&gt;指一群人，不能指一个人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;日理万机：形容政务繁忙，工作辛苦。&lt;em&gt;不能用于普通人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;如履薄冰：像走在薄冰上一样。比喻行事极为谨慎，存有戒心。&lt;em&gt;指主观上做事谨慎，而不是客观形势危险。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;如数家珍：像数自己的珍宝一样。比喻对所讲的事情，自己十分熟悉、了解。&lt;/li&gt;
  &lt;li&gt;茹毛饮血：连毛带血地生吃禽兽的生活。指处在没有开化的状态。&lt;em&gt;不是“残忍”、“残酷”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;入不敷出：收入不够支出。&lt;em&gt;不能形容东西少。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;入木三分：指书法有力，或比喻议论、见解深刻。&lt;em&gt;不是“深度大”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;三人成虎：流言惑众，蛊惑人心。&lt;em&gt;不是“团结力量大”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;上行下效：上面的人怎么做，下面的人就学着怎么干。贬义词。&lt;/li&gt;
  &lt;li&gt;稍纵即逝：稍一放松就失去了。形容时间、机遇、机会等极易失去。&lt;em&gt;不能指流星、苍蝇、生命……&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;少年老成：指年轻人缺乏朝气。&lt;em&gt;不是做事老练。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;身临其境：身体不在那个地方，却仿佛亲自到了那个地方。&lt;em&gt;不是设身处地。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;身无长物：除自身外再没有多余的东西。形容贫穷。&lt;em&gt;指的是没钱，不是没特长。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;莘莘学子&lt;/strong&gt;：指众多的学生。&lt;em&gt;指一群人，前面跟具体数字（几个莘莘学子）或者“很多莘莘学子”都是错的。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;神气活现：形容突出地表现得意而又傲慢的样子。贬义词。&lt;em&gt;不是“生龙活虎”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;师心自用：形容自以为是，固执己见，不肯接受别人的正确意见。贬义词。&lt;/li&gt;
  &lt;li&gt;十室九空：形容人民大量死亡或逃亡后的荒凉景象。&lt;em&gt;和“万人空巷”不同。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;石破天惊：形容声音惊天动地，或比喻某种言论或事情使人震惊。&lt;em&gt;不能形容新闻、消息。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;始作俑者：贬义词，指第一个做某项坏事的人或某种坏风气的开创者。&lt;/li&gt;
  &lt;li&gt;似是而非：好像是对的，实际上不对。&lt;em&gt;不是“好像又对，好像又不对”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;守株待兔：贬义词。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;首当其冲&lt;/strong&gt;：比喻最先受到攻击或遭到灾难。&lt;em&gt;很多人经常误用为“一马当先”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;首鼠两端：迟疑不决或动摇不定。&lt;em&gt;不是前后不一致。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;寿终内寝：女人高寿，正常死亡。（“寿终正寝”是男人高寿，正常死亡。）&lt;/li&gt;
  &lt;li&gt;搜肠刮肚：形容苦思苦想，费尽心思。不是“勒紧裤带”。&lt;/li&gt;
  &lt;li&gt;素昧平生：与人从未见过面。&lt;em&gt;不指事物。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;叹为观止：指赞美所见到的事物好到了极点。褒义词。&lt;em&gt;不是“感叹”、“惊叹”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;特立独行：褒义词，指人有操守，有见识，不随波逐流。&lt;em&gt;不是“搞另类”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;天伦之乐：形容家人生活或团聚的欢乐。&lt;em&gt;不能形容友人之间的关系。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;痛心疾首：形容痛恨到了极点。&lt;em&gt;不是“伤心难过”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;推波助澜：比喻推动事态发展，并为其制造声势。贬义词。&lt;em&gt;不能形容讴歌、歌颂、推崇或河水泛滥。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;万人空巷：多用来形容庆祝、欢迎的盛况或新奇事物轰动居民的情景。&lt;em&gt;指盛况，不是没人。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;危言危行：正直的话和言行。&lt;em&gt;不是“危险的话和言行”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;为人师表：指人在道德或学问方面为他人做出表率或榜样。&lt;em&gt;不是“当老师”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;未雨绸缪、防患未然：&lt;em&gt;指的是在灾难来临之前做准备。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;蔚然成风：形容众人所做的某项有意义的工作已经成为美好的风尚。&lt;em&gt;不能形容个别事物或不健康事物。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;文不加点：文章一下就写成了，不用改。&lt;em&gt;不是“不加标点符号”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;无独有偶：&lt;em&gt;贬义词。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;无可厚非/无可非议&lt;/strong&gt;：无可厚非指“没有可过分责难的。指说话做事虽有缺点，但还有可取之处，应予谅解”，无可非议指“没有什么可以指责的，表示言行合乎情理”。&lt;em&gt;“无可厚非”指已经犯错，“无可非议”指没有错。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;无孔不入：形容抓住一切机会钻空子。&lt;em&gt;不是“广泛”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;无所不至：没有达不到的地方。凡能做的都做到了（用于坏事）。&lt;em&gt;贬义词，和无微不至有天壤之别。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;五风十雨：形容风调雨顺。&lt;em&gt;不是“暴雨频发”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;熙来攘往：形容行人很多，来来往往，十分热闹的样子。&lt;em&gt;不是“推杯换盏，你来我往”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;喜结金兰：结拜为兄弟姐妹。&lt;/li&gt;
  &lt;li&gt;下里巴人：比喻通俗的文学作品，和“阳春白雪”相对。&lt;em&gt;不是“下等人”或“在下”的意思。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;贤妻良母：&lt;em&gt;两方面，一方面是丈夫的贤妻，另一方面是儿子的良母。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;相濡以沫：比喻在困境中彼此互相同情、帮助。&lt;em&gt;只能形容人与人之间的关系。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;相形见绌：与另一物相比较，显出不足。&lt;em&gt;应该有一个比较的过程，不能单独使用。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;小鸟依人：比喻小孩或少女十分娇柔可爱的样子。&lt;em&gt;不能形容成年女性。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;心有余悸：危险的事情虽然过去了，回想起来还感到害怕。&lt;em&gt;事情未发生不能叫做“心有余悸”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;薪火相传/薪尽火传：“薪火相传”比喻学问和技艺代代相传，“薪尽火传”比喻师父传业于弟子，一代代地传下去。两词含义相同。&lt;em&gt;“传”传递的是知识、能力，不是奥运火炬等物品。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;信马由缰：比喻漫无目的地闲逛或随意行动。&lt;em&gt;不是“失控”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;信手拈来：随手拿来。多指写文章时能自由纯熟地选用词语或应用典故，用不着怎么思考。&lt;em&gt;指写文章。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;胸无城府：褒义词，指为人坦率真诚，不用心机。&lt;/li&gt;
  &lt;li&gt;休养生息：指在战争或社会大动荡之后，减轻人民负担，安定生活，恢复元气。&lt;em&gt;指的是国家的政策，不是个人的休息、疗养。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;秀色可餐：一是指妇女姿色美丽诱人，二是形容自然景色优美秀丽。&lt;em&gt;不能形容美食。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;虚怀若谷：形容人非常谦虚。&lt;/li&gt;
  &lt;li&gt;栩栩如生：形容艺术品形象逼真。&lt;em&gt;不能形容演出。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;雪上加霜：比喻接连遭受不幸、灾难或挫折。&lt;em&gt;偶尔发生一件不幸的事情，不能叫雪上加霜。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;一瓣心香：指人对神灵或他人怀着一片虔诚敬仰的心情。&lt;em&gt;不是“祝福”或“祝愿”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;一发而不可收/一发而不可收拾&lt;/strong&gt;：“一发而不可收”指事情一经发生，就发展得十分顺利和迅速，继而保持不断发展的状态，褒义词。加个“拾”字就变成了贬义。&lt;/li&gt;
  &lt;li&gt;一日千里：形容人进步很快或事情发展极其迅速。&lt;em&gt;不是“速度快”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;一文不名：十分贫穷，连一分钱都没有。&lt;/li&gt;
  &lt;li&gt;一衣带水：指虽有江河湖海相隔，但距离不远，不足以成为交往的障碍。&lt;em&gt;指距离近，不是关系近。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;衣冠楚楚：衣帽穿戴得很整齐，很漂亮。贬义词。&lt;/li&gt;
  &lt;li&gt;以邻为壑：比喻把困难或灾祸推给别人。&lt;/li&gt;
  &lt;li&gt;义无反顾：指在道义上只有勇往直前，绝对不能退缩回头。&lt;/li&gt;
  &lt;li&gt;异曲同工：曲调不同，却同样美妙。比喻不同时代、不同人的文章、言论一样精彩，或不同的事情产生同样的效果。褒义词。&lt;em&gt;“同工”指同样美好，不是“相同”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;溢美之词：指对人不切实际，过分夸奖。&lt;em&gt;不能说“过分的溢美之词”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;因人成事：靠别人帮忙，事情办成了。&lt;em&gt;不是“因为大家努力，事情就办成了”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;应有尽有：应该有的东西都很齐全。&lt;em&gt;不能用于“不应该有的东西”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;油然而生：褒义词，形容某种思想、感情自然地产生出来。&lt;em&gt;不能用于坏的思想感情。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;鱼龙混杂/鱼目混珠：“鱼龙混杂”形容好人和坏人混在一起，“鱼目混珠”比喻以假乱真，以次充好。&lt;/li&gt;
  &lt;li&gt;玉树临风：形容人像玉树一样风度潇洒，秀美多姿。&lt;/li&gt;
  &lt;li&gt;遇人不淑：泛指所结交的人不好。&lt;/li&gt;
  &lt;li&gt;怨声载道：形容某件事引起百姓的不满，到处都能听到怨恨之声。&lt;em&gt;不能指一个人的不满。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;长袖善舞：比喻坏人善于玩弄手段。&lt;em&gt;不能形容艺术家。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;正中下怀：指别人说的话或做的事正合乎自己的心意。自谦之词。&lt;em&gt;不能说“正中×××的下怀”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;政通人和：指国家政治开明，百姓和乐。&lt;em&gt;不能指某个单位。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;芝兰玉树：对优秀子弟的美称。&lt;/li&gt;
  &lt;li&gt;指鹿为马：指人心怀叵测，故意颠倒黑白，搬弄是非。&lt;em&gt;不是“指手画脚”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;指日可待：褒义词，表示不要等多久或迅速就可以达到目的。&lt;em&gt;不能指坏事。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;咫尺天涯：比喻距离虽近，却像是远在天边一样，形容难以相见或隔膜很深。&lt;em&gt;不用于形容距离。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;炙手可热&lt;/strong&gt;：权势大、气焰嚣张而使人不敢靠近。&lt;em&gt;不是“热”，更不是“热门”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;栉风沐雨：指旅途、战争或野外工作十分艰难辛苦。&lt;em&gt;不能形容家务繁重。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;掷地有声：比喻文辞或言谈精炼优美，铿锵有力。&lt;em&gt;不是扔东西的声音，也不是“有声势”、“有成绩”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;众望所归：合乎大家的期望和趋向。&lt;em&gt;只能指人，不能指其他事物。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;重足而立：叠足而立，不敢迈步，形容非常恐惧。&lt;/li&gt;
  &lt;li&gt;转瞬即逝：形容时间过得极快，转眼之间已经过去。&lt;em&gt;不能形容风景。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;卓尔不群：指才德超出寻常，与众不同。&lt;em&gt;指人非常优秀，不是人的性格如何。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;罪不容诛/死有余辜&lt;/strong&gt;：指罪恶极大。&lt;em&gt;不是“情有可原”。&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;坐而论道：坐着空谈大道理。指口头说说，不见行动。&lt;/li&gt;
  &lt;li&gt;坐拥百城：指藏书丰富。&lt;em&gt;不是占的地盘大。&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 29 Aug 2012 00:00:00 +0800</pubDate>
        <link>https://vjudge1.github.io/2012/08/29/phrase.html</link>
        <guid isPermaLink="true">https://vjudge1.github.io/2012/08/29/phrase.html</guid>
        
        
        <category>Others</category>
        
      </item>
    
  </channel>
</rss>
